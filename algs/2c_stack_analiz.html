<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.3: Stack Analizi</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ“Š 2.3: Stack Analizi ve Big O</h1>
        <p>MÃ¼hendislik BakÄ±ÅŸ AÃ§Ä±sÄ±yla Performans</p>
    </header>

    <div class="section">
        <h2>ğŸ“ Big O Notasyonu HatÄ±rlatma</h2>
        <p><strong>Big O</strong>, bir algoritmanÄ±n en kÃ¶tÃ¼ durumda ne kadar sÃ¼receÄŸini gÃ¶sterir. Stack iÃ§in ÅŸunlarÄ± anlamamÄ±z gerekir:</p>
        <ul>
            <li><strong>O(1) - Sabit Zaman:</strong> Ä°ÅŸlem sÃ¼resi veri boyutundan baÄŸÄ±msÄ±z. 10 eleman da olsa, 10 milyon da olsa aynÄ± sÃ¼re.</li>
            <li><strong>O(n) - DoÄŸrusal Zaman:</strong> Veri iki katÄ±na Ã§Ä±karsa, sÃ¼re de iki katÄ±na Ã§Ä±kar.</li>
        </ul>
    </div>

    <div class="section">
        <h2>Zaman KarmaÅŸÄ±klÄ±ÄŸÄ± (Time Complexity)</h2>
        <table>
            <thead>
                <tr>
                    <th>Operasyon</th>
                    <th>KarmaÅŸÄ±klÄ±k</th>
                    <th>AÃ§Ä±klama</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Push</strong></td>
                    <td style="color: #27ae60; font-weight: bold;">O(1)</td>
                    <td>Dizinin sonuna ekleme. Her zaman tek adÄ±m, veri boyutu Ã¶nemli deÄŸil.</td>
                </tr>
                <tr>
                    <td><strong>Pop</strong></td>
                    <td style="color: #27ae60; font-weight: bold;">O(1)</td>
                    <td>Dizinin sonundan silme. Her zaman tek adÄ±m.</td>
                </tr>
                <tr>
                    <td><strong>Peek (Ãœste Bak)</strong></td>
                    <td style="color: #27ae60; font-weight: bold;">O(1)</td>
                    <td>En Ã¼stteki elemana bakmak. Sadece indeks eriÅŸimi.</td>
                </tr>
                <tr>
                    <td><strong>isEmpty</strong></td>
                    <td style="color: #27ae60; font-weight: bold;">O(1)</td>
                    <td>Stack boÅŸ mu? Top deÄŸiÅŸkenine bakmak yeterli.</td>
                </tr>
                <tr>
                    <td><strong>Arama (Search)</strong></td>
                    <td style="color: #e74c3c; font-weight: bold;">O(n)</td>
                    <td>Stack'te arama yapmak iÃ§in tÃ¼m elemanlarÄ± kontrol etmek gerekir.</td>
                </tr>
            </tbody>
        </table>

        <div style="background: #d4edda; padding: 15px; border-radius: 8px; margin-top: 20px;">
            <strong>âœ… Neden O(1) Bu Kadar Ä°yi?</strong>
            <p>Stack'te 10 eleman olsa da, 10 milyon eleman olsa da push/pop aynÄ± sÃ¼rede tamamlanÄ±r. Bu "sabit zaman" garantisi, stack'i Ã§ok gÃ¼venilir bir veri yapÄ±sÄ± yapar.</p>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ’¾ Alan KarmaÅŸÄ±klÄ±ÄŸÄ± (Space Complexity)</h2>
        <table>
            <thead>
                <tr>
                    <th>Durum</th>
                    <th>Alan</th>
                    <th>AÃ§Ä±klama</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Genel</td>
                    <td><strong>O(n)</strong></td>
                    <td>n eleman tutmak iÃ§in n birim bellek gerekir</td>
                </tr>
                <tr>
                    <td>Her iÅŸlem</td>
                    <td><strong>O(1)</strong></td>
                    <td>Push/Pop iÃ§in ek bellek gerekmez</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="section">
        <h2>ğŸ§ª Laboratuvar: Numpy vs Python List</h2>
        <p>1 Milyon elemanlÄ±k veri iÃ§in hÄ±z testi.</p>
        
        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="runPython('code')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    <button class="btn" onclick="toggleEdit('code')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>
            
            <pre id="view-code"><code class="language-python">import time
import numpy as np

# --- NUMPY STACK SINIFI ---
class NumpyStack:
    def __init__(self, capacity):
        self.capacity = capacity
        self.data = np.zeros(capacity, dtype=int)
        self.top = 0
        
    def push(self, value):
        if self.top < self.capacity:
            self.data[self.top] = value
            self.top += 1
            
    def pop(self):
        if self.top > 0:
            self.top -= 1
            return self.data[self.top]

# --- TEST ---
N = 1_000_000
print(f"{N} eleman iÃ§in test...\n")

# 1. Python List
py_stack = []
start = time.time()
for i in range(N): py_stack.append(i)
while py_stack: py_stack.pop()
print(f"Python List: {time.time() - start:.4f} sn")

# 2. Numpy Stack
np_stack = NumpyStack(N)
start = time.time()
for i in range(N): np_stack.push(i)
while np_stack.top > 0: np_stack.pop()
print(f"Numpy Stack: {time.time() - start:.4f} sn")

print("\n--- NEDEN NUMPY DAHA YAVAÅ Ã‡IKTI? ---")
print("1. Python 'list' yapÄ±sÄ± C dili ile yazÄ±lmÄ±ÅŸtÄ±r ve Ã§ok optimize edilmiÅŸtir.")
print("2. Bizim yazdÄ±ÄŸÄ±mÄ±z 'NumpyStack' sÄ±nÄ±fÄ± ise her push iÅŸleminde Python fonksiyonu Ã§aÄŸÄ±rÄ±r.")
print("3. Python'da fonksiyon Ã§aÄŸÄ±rmak maliyetlidir (Function Call Overhead).")
print("4. EÄŸer C ile yazÄ±lmÄ±ÅŸ bir NumpyStack kullansaydÄ±k, listeden daha hÄ±zlÄ± olurdu.")
print("5. Numpy'Ä±n asÄ±l gÃ¼cÃ¼ tek tek eleman eklemede deÄŸil, vektÃ¶rel iÅŸlemlerde ortaya Ã§Ä±kar.")</code></pre>

            <textarea id="code" class="code-editor">import time
import numpy as np

class NumpyStack:
    def __init__(self, capacity):
        self.capacity = capacity
        self.data = np.zeros(capacity, dtype=int)
        self.top = 0
    def push(self, value):
        if self.top < self.capacity:
            self.data[self.top] = value
            self.top += 1
    def pop(self):
        if self.top > 0:
            self.top -= 1
            return self.data[self.top]

N = 1_000_000
print(f"{N} eleman iÃ§in test...\n")

# 1. Python List
py_stack = []
start = time.time()
for i in range(N): py_stack.append(i)
while py_stack: py_stack.pop()
print(f"Python List: {time.time() - start:.4f} sn")

# 2. Numpy Stack
np_stack = NumpyStack(N)
start = time.time()
for i in range(N): np_stack.push(i)
while np_stack.top > 0: np_stack.pop()
print(f"Numpy Stack: {time.time() - start:.4f} sn")

print("\n--- NEDEN NUMPY DAHA YAVAÅ Ã‡IKTI? ---")
print("1. Python 'list' yapÄ±sÄ± C dili ile yazÄ±lmÄ±ÅŸtÄ±r ve Ã§ok optimize edilmiÅŸtir.")
print("2. Bizim yazdÄ±ÄŸÄ±mÄ±z 'NumpyStack' sÄ±nÄ±fÄ± ise her push iÅŸleminde Python fonksiyonu Ã§aÄŸÄ±rÄ±r.")
print("3. Python'da fonksiyon Ã§aÄŸÄ±rmak maliyetlidir (Function Call Overhead).")
print("4. EÄŸer C ile yazÄ±lmÄ±ÅŸ bir NumpyStack kullansaydÄ±k, listeden daha hÄ±zlÄ± olurdu.")
print("5. Numpy'Ä±n asÄ±l gÃ¼cÃ¼ tek tek eleman eklemede deÄŸil, vektÃ¶rel iÅŸlemlerde ortaya Ã§Ä±kar.")</textarea>
            
            <div id="output-code" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="nav-footer">
        <a href="2b_stack_numpy.html" class="btn">â¬…ï¸ Ã–nceki: Kodlama</a>
        <a href="2d_stack_python.html" class="btn btn-next">Sonraki: Python Pratik â¡ï¸</a>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script>
    let pyodideReady = false;
    let pyodide = null;

    async function main() {
        pyodide = await loadPyodide();
        await pyodide.loadPackage("numpy");
        pyodideReady = true;
    }
    main();

    async function runPython(id) {
        if(!pyodideReady) { alert("Python yÃ¼kleniyor..."); return; }
        const code = document.getElementById(id).value;
        const out = document.getElementById('output-' + id);
        out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
        try {
            pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
            await pyodide.runPythonAsync(code);
            out.innerText = pyodide.runPython("sys.stdout.getvalue()");
        } catch(e) {
            out.innerText = e;
        }
    }

    function toggleEdit(id) {
        const view = document.getElementById('view-' + id);
        const editor = document.getElementById(id);
        if (editor.style.display === 'block') {
            editor.style.display = 'none';
            view.style.display = 'block';
        } else {
            editor.style.display = 'block';
            view.style.display = 'none';
            editor.focus();
        }
    }
</script>
</body>
</html>