<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4.5: Python ile Linked List PratiÄŸi</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
    <style>
        .warning-box {
            background: linear-gradient(135deg, #fff3cd, #ffeeba);
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }
        
        .info-box {
            background: linear-gradient(135deg, #d1ecf1, #bee5eb);
            border: 2px solid #17a2b8;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }
        
        .method-card {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .method-name {
            font-family: monospace;
            background: #2c3e50;
            color: #2ecc71;
            padding: 5px 12px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .complexity {
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .o1 { background: #d4edda; color: #155724; }
        .on { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ 4.5: Python ile Linked List</h1>
        <p>Pratik KullanÄ±m ve Performans KarÅŸÄ±laÅŸtÄ±rmasÄ±</p>
    </header>

    <div class="section">
        <h2>âš ï¸ Python'da Linked List Yok mu?</h2>
        <div class="warning-box">
            <h4 style="margin-top: 0; color: #856404;">ğŸ¤” Ã–nemli Soru</h4>
            <p>Python'da yerleÅŸik bir <code>LinkedList</code> sÄ±nÄ±fÄ± <strong>yok</strong>. Neden?</p>
            <ul>
                <li>Python <code>list</code> zaten <strong>dinamik dizi</strong> implementasyonu</li>
                <li><code>collections.deque</code> Ã§oÄŸu linked list iÅŸini yapÄ±yor</li>
                <li>Pratik kullanÄ±mda <code>list</code> ve <code>deque</code> yeterli</li>
            </ul>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ”„ collections.deque - En YakÄ±n Alternatif</h2>
        <p><code>deque</code> (double-ended queue), iÃ§eride <strong>doubly linked list</strong> kullanÄ±r ve O(1) baÅŸa/sona ekleme saÄŸlar.</p>
        
        <div class="info-box">
            <h4 style="margin-top: 0; color: #0c5460;">ğŸ“š deque MetodlarÄ±</h4>
            <div class="method-card">
                <span class="method-name">append(x)</span>
                <span class="complexity o1">O(1)</span>
                <span>Sona ekle</span>
            </div>
            <div class="method-card">
                <span class="method-name">appendleft(x)</span>
                <span class="complexity o1">O(1)</span>
                <span>BaÅŸa ekle</span>
            </div>
            <div class="method-card">
                <span class="method-name">pop()</span>
                <span class="complexity o1">O(1)</span>
                <span>Sondan sil</span>
            </div>
            <div class="method-card">
                <span class="method-name">popleft()</span>
                <span class="complexity o1">O(1)</span>
                <span>BaÅŸtan sil</span>
            </div>
            <div class="method-card">
                <span class="method-name">rotate(n)</span>
                <span class="complexity o1">O(k)</span>
                <span>DÃ¶ndÃ¼r (circular gibi!)</span>
            </div>
        </div>
        
        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="runPython('code1')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    <button class="btn" onclick="toggleEdit('code1')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>
            
            <pre id="view-code1"><code class="language-python">from collections import deque

print("ğŸ”„ collections.deque KullanÄ±mÄ±\n")

# OluÅŸturma
d = deque(['A', 'B', 'C'])
print(f"BaÅŸlangÄ±Ã§: {list(d)}")

# BaÅŸa ve sona ekleme - O(1)
d.appendleft('X')  # BaÅŸa
d.append('Y')      # Sona
print(f"X baÅŸa, Y sona: {list(d)}")

# BaÅŸtan ve sondan silme - O(1)
d.popleft()  # BaÅŸtan
d.pop()      # Sondan
print(f"BaÅŸ ve son silindi: {list(d)}")

# Rotate - Circular gibi dÃ¶ndÃ¼rme!
d = deque([1, 2, 3, 4, 5])
print(f"\nRotate Ã¶ncesi: {list(d)}")

d.rotate(2)  # SaÄŸa 2 dÃ¶ndÃ¼r
print(f"rotate(2): {list(d)}")

d.rotate(-3)  # Sola 3 dÃ¶ndÃ¼r
print(f"rotate(-3): {list(d)}")

# Maxlen - Sabit boyutlu (LRU Cache gibi!)
print(f"\nğŸ“¦ Sabit boyutlu deque (maxlen=3):")
limited = deque(maxlen=3)
for i in range(5):
    limited.append(i)
    print(f"  append({i}): {list(limited)}")</code></pre>

            <textarea id="code1" class="code-editor">from collections import deque

print("ğŸ”„ collections.deque KullanÄ±mÄ±\n")

d = deque(['A', 'B', 'C'])
print(f"BaÅŸlangÄ±Ã§: {list(d)}")

d.appendleft('X')
d.append('Y')
print(f"X baÅŸa, Y sona: {list(d)}")

d.popleft()
d.pop()
print(f"BaÅŸ ve son silindi: {list(d)}")

# Rotate
d = deque([1, 2, 3, 4, 5])
print(f"\nRotate Ã¶ncesi: {list(d)}")
d.rotate(2)
print(f"rotate(2): {list(d)}")

# Maxlen
print(f"\nğŸ“¦ maxlen=3:")
limited = deque(maxlen=3)
for i in range(5):
    limited.append(i)
    print(f"  append({i}): {list(limited)}")</textarea>
            
            <div id="output-code1" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ§ª Performans KarÅŸÄ±laÅŸtÄ±rmasÄ±</h2>
        <p>list vs deque: BaÅŸtan ekleme/silme yarÄ±ÅŸÄ±!</p>
        
        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="runPython('code2')">â–¶ Benchmark</button>
                    <button class="btn" onclick="toggleEdit('code2')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>
            
            <pre id="view-code2"><code class="language-python">import time
from collections import deque

N = 50000
print(f"ğŸ§ª Performans Testi: {N} iÅŸlem\n")
print("=" * 50)

# 1. LIST - BaÅŸa ekleme
liste = []
start = time.time()
for i in range(N):
    liste.insert(0, i)  # O(n) - her seferinde kaydÄ±rma!
list_insert_time = time.time() - start
print(f"ğŸ“‹ list.insert(0, x)  : {list_insert_time:.4f} sn")

# 2. DEQUE - BaÅŸa ekleme
kuyruk = deque()
start = time.time()
for i in range(N):
    kuyruk.appendleft(i)  # O(1) - sabit zaman!
deque_append_time = time.time() - start
print(f"ğŸ”„ deque.appendleft() : {deque_append_time:.4f} sn")

print(f"\nğŸ’¡ Deque {list_insert_time/deque_append_time:.0f}x daha hÄ±zlÄ±!")

print("\n" + "=" * 50)

# 3. LIST - BaÅŸtan silme
liste = list(range(N))
start = time.time()
while liste:
    liste.pop(0)  # O(n)
list_pop_time = time.time() - start
print(f"ğŸ“‹ list.pop(0)        : {list_pop_time:.4f} sn")

# 4. DEQUE - BaÅŸtan silme
kuyruk = deque(range(N))
start = time.time()
while kuyruk:
    kuyruk.popleft()  # O(1)
deque_pop_time = time.time() - start
print(f"ğŸ”„ deque.popleft()    : {deque_pop_time:.4f} sn")

print(f"\nğŸ’¡ Deque {list_pop_time/deque_pop_time:.0f}x daha hÄ±zlÄ±!")

print("\n" + "=" * 50)
print("\nğŸ“Š SONUÃ‡:")
print("  - BaÅŸa ekleme/silme â†’ deque kullan!")
print("  - Random access (index) â†’ list kullan!")
print("  - Sona ekleme/silme â†’ ikisi de O(1)")</code></pre>

            <textarea id="code2" class="code-editor">import time
from collections import deque

N = 50000
print(f"ğŸ§ª Performans: {N} iÅŸlem\n")

# LIST vs DEQUE - BaÅŸa ekleme
liste = []
start = time.time()
for i in range(N):
    liste.insert(0, i)
list_time = time.time() - start
print(f"ğŸ“‹ list.insert(0): {list_time:.4f} sn")

kuyruk = deque()
start = time.time()
for i in range(N):
    kuyruk.appendleft(i)
deque_time = time.time() - start
print(f"ğŸ”„ deque.appendleft: {deque_time:.4f} sn")

print(f"\nğŸ’¡ Deque {list_time/deque_time:.0f}x hÄ±zlÄ±!")</textarea>
            
            <div id="output-code2" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ› ï¸ Kendi LinkedList Wrapper'Ä±mÄ±z</h2>
        <p>Deque'i sarmalayarak LinkedList benzeri API oluÅŸturalÄ±m:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="runPython('code3')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    <button class="btn" onclick="toggleEdit('code3')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>
            
            <pre id="view-code3"><code class="language-python">from collections import deque

class LinkedList:
    """deque tabanlÄ± LinkedList wrapper"""
    
    def __init__(self, iterable=None):
        self._data = deque(iterable) if iterable else deque()
    
    def prepend(self, value):
        """BaÅŸa ekle - O(1)"""
        self._data.appendleft(value)
    
    def append(self, value):
        """Sona ekle - O(1)"""
        self._data.append(value)
    
    def pop_first(self):
        """BaÅŸtan sil - O(1)"""
        if not self._data:
            raise IndexError("Liste boÅŸ!")
        return self._data.popleft()
    
    def pop_last(self):
        """Sondan sil - O(1)"""
        if not self._data:
            raise IndexError("Liste boÅŸ!")
        return self._data.pop()
    
    @property
    def head(self):
        """Ä°lk eleman"""
        return self._data[0] if self._data else None
    
    @property
    def tail(self):
        """Son eleman"""
        return self._data[-1] if self._data else None
    
    def __len__(self):
        return len(self._data)
    
    def __iter__(self):
        return iter(self._data)
    
    def __repr__(self):
        return f"LinkedList({list(self._data)})"

# Test
print("ğŸ”— LinkedList Wrapper Demo\n")

ll = LinkedList([1, 2, 3])
print(f"BaÅŸlangÄ±Ã§: {ll}")

ll.prepend(0)
ll.append(4)
print(f"0 baÅŸa, 4 sona: {ll}")

print(f"Head: {ll.head}, Tail: {ll.tail}")

print(f"pop_first(): {ll.pop_first()}")
print(f"pop_last(): {ll.pop_last()}")
print(f"SonuÃ§: {ll}")

print(f"\nÄ°terasyon:")
for item in ll:
    print(f"  â†’ {item}")</code></pre>

            <textarea id="code3" class="code-editor">from collections import deque

class LinkedList:
    def __init__(self, iterable=None):
        self._data = deque(iterable) if iterable else deque()
    
    def prepend(self, value):
        self._data.appendleft(value)
    
    def append(self, value):
        self._data.append(value)
    
    def pop_first(self):
        return self._data.popleft() if self._data else None
    
    def pop_last(self):
        return self._data.pop() if self._data else None
    
    @property
    def head(self): return self._data[0] if self._data else None
    
    @property
    def tail(self): return self._data[-1] if self._data else None
    
    def __repr__(self):
        return f"LinkedList({list(self._data)})"

ll = LinkedList([1, 2, 3])
print(f"Start: {ll}")
ll.prepend(0)
ll.append(4)
print(f"After: {ll}")
print(f"Head: {ll.head}, Tail: {ll.tail}")</textarea>
            
            <div id="output-code3" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ“Š Ne Zaman Ne KullanmalÄ±?</h2>
        <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden;">
            <thead>
                <tr style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                    <th style="padding: 15px;">Ä°htiyaÃ§</th>
                    <th style="padding: 15px;">Kullan</th>
                    <th style="padding: 15px;">Neden?</th>
                </tr>
            </thead>
            <tbody>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px;">Index ile eriÅŸim</td>
                    <td style="padding: 12px;"><code>list</code></td>
                    <td style="padding: 12px;">O(1) random access</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px;">BaÅŸa ekleme/silme</td>
                    <td style="padding: 12px;"><code>deque</code></td>
                    <td style="padding: 12px;">O(1) vs O(n)</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px;">Queue/Stack</td>
                    <td style="padding: 12px;"><code>deque</code></td>
                    <td style="padding: 12px;">Ä°ki uÃ§tan O(1)</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 12px;">Circular buffer</td>
                    <td style="padding: 12px;"><code>deque(maxlen=n)</code></td>
                    <td style="padding: 12px;">Otomatik boyut limiti</td>
                </tr>
                <tr>
                    <td style="padding: 12px;">Ã–zel linked list</td>
                    <td style="padding: 12px;">Kendi sÄ±nÄ±fÄ±n</td>
                    <td style="padding: 12px;">EÄŸitim/Ã–zel ihtiyaÃ§</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="nav-footer">
        <a href="4d_linked_list_circular.html" class="btn">â¬…ï¸ Ã–nceki: Circular</a>
        <a href="4f_linked_list_algoritmalar.html" class="btn btn-next">Sonraki: Algoritmalar â¡ï¸</a>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script>
    let pyodideReady = false;
    let pyodide = null;
    async function main() { pyodide = await loadPyodide(); pyodideReady = true; }
    main();

    async function runPython(id) {
        if(!pyodideReady) { alert("Python yÃ¼kleniyor..."); return; }
        const code = document.getElementById(id).value;
        const out = document.getElementById('output-' + id);
        out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
        try {
            pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
            await pyodide.runPythonAsync(code);
            out.innerText = pyodide.runPython("sys.stdout.getvalue()");
        } catch(e) { out.innerText = e; }
    }

    function toggleEdit(id) {
        const view = document.getElementById('view-' + id);
        const editor = document.getElementById(id);
        if (editor.style.display === 'block') { editor.style.display = 'none'; view.style.display = 'block'; }
        else { editor.style.display = 'block'; view.style.display = 'none'; editor.focus(); }
    }
</script>
</body>
</html>

