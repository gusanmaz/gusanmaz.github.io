<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.3: Python ile Queue PratiÄŸi</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸš€ 3.3: Python ve Deque (Double Ended Queue)</h1>
        <p>Listeleri Unutun! Profesyonel Queue KullanÄ±mÄ±</p>
    </header>

    <div class="section">
        <h2>âš ï¸ Neden List Queue Olamaz?</h2>
        <p>Python listeleri hafÄ±zada bitiÅŸik durur. <code>pop(0)</code> ile en baÅŸtan eleman silerseniz, geriye kalan <strong>TÃœM</strong> elemanlar bir adÄ±m sola kaymak zorundadÄ±r (Shifting).</p>
        <ul>
            <li>10 elemanlÄ± listede 9 kaydÄ±rma.</li>
            <li>1 milyon elemanlÄ± listede 999,999 kaydÄ±rma! (O(N) Zaman)</li>
        </ul>
    </div>

    <div class="section">
        <h2>âœ… Ã‡Ã¶zÃ¼m: collections.deque</h2>
        <p><strong>Deque (Double Ended Queue)</strong>, iki ucu aÃ§Ä±k boru gibidir. Hem baÅŸtan hem sondan ekleme/Ã§Ä±karma iÅŸlemleri <strong>O(1)</strong> hÄ±zÄ±ndadÄ±r.</p>
        
        <div style="display:flex; justify-content:center; gap:20px; margin:20px 0; font-family:monospace;">
            <div style="padding:10px; border:2px solid #27ae60; border-radius:5px;">
                appendleft() â¬…ï¸ [ DEQUE ] â¡ï¸ append()
            </div>
            <div style="padding:10px; border:2px solid #c0392b; border-radius:5px;">
                popleft() â¬…ï¸ [ DEQUE ] â¡ï¸ pop()
            </div>
        </div>

        <h3>Deque NasÄ±l KullanÄ±lÄ±r?</h3>
        <pre><code class="language-python">from collections import deque

d = deque()
d.append(1)      # Sona ekle
d.appendleft(2)  # BaÅŸa ekle
d.pop()          # Sondan Ã§Ä±kar
d.popleft()      # BaÅŸtan Ã§Ä±kar (Queue iÃ§in bu lazÄ±m!)</code></pre>
    </div>

    <div class="section">
        <h2>ğŸ› ï¸ Profesyonel YÃ¶ntem: Queue Wrapper</h2>
        <p>TÄ±pkÄ± Stack'te yaptÄ±ÄŸÄ±mÄ±z gibi, <code>deque</code> yapÄ±sÄ±nÄ± gizleyerek kendi <code>Queue</code> sÄ±nÄ±fÄ±mÄ±zÄ± yazalÄ±m. BÃ¶ylece kullanÄ±cÄ± yanlÄ±ÅŸlÄ±kla sondan eleman Ã§Ä±karamaz.</p>
        
        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="runPython('code1')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    <button class="btn" onclick="toggleEdit('code1')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>
            
            <pre id="view-code1"><code class="language-python">from collections import deque

class Queue:
    def __init__(self):
        # Deque'i gizli tutuyoruz
        self._items = deque()
        
    def enqueue(self, item):
        """SÄ±ranÄ±n sonuna ekler (O(1))"""
        self._items.append(item)
        print(f"-> Enqueue: {item}")
        
    def dequeue(self):
        """SÄ±ranÄ±n baÅŸÄ±ndan Ã§Ä±karÄ±r (O(1))"""
        if self.is_empty():
            return "HATA: Queue BoÅŸ!"
        item = self._items.popleft() # Kritik nokta burasÄ±!
        print(f"<- Dequeue: {item}")
        return item
        
    def is_empty(self):
        return len(self._items) == 0
        
    def size(self):
        return len(self._items)

# Test
q = Queue()
q.enqueue("Ali")
q.enqueue("Veli")
q.enqueue("AyÅŸe")

print(f"SÄ±radakiler: {q.size()} kiÅŸi")
q.dequeue() # Ali Ã§Ä±kar
q.dequeue() # Veli Ã§Ä±kar</code></pre>

            <textarea id="code1" class="code-editor">from collections import deque

class Queue:
    def __init__(self):
        self._items = deque()
    
    def enqueue(self, item):
        self._items.append(item)
        print(f"-> Enqueue: {item}")
        
    def dequeue(self):
        if self.is_empty(): return "BoÅŸ!"
        item = self._items.popleft()
        print(f"<- Dequeue: {item}")
        return item
        
    def is_empty(self):
        return len(self._items) == 0
        
    def size(self):
        return len(self._items)

q = Queue()
q.enqueue("Ali")
q.enqueue("Veli")
q.enqueue("AyÅŸe")
print(f"SÄ±radakiler: {q.size()} kiÅŸi")
q.dequeue()
q.dequeue()</textarea>
            
            <div id="output-code1" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ§ª Performans YarÄ±ÅŸÄ±: List vs Deque</h2>
        <p>100,000 elemanÄ± baÅŸtan silme yarÄ±ÅŸÄ±. List neden kaybedecek?</p>
        
        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="runPython('code2')">â–¶ YarÄ±ÅŸÄ± BaÅŸlat</button>
                    <button class="btn" onclick="toggleEdit('code2')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>
            
            <pre id="view-code2"><code class="language-python">import time
from collections import deque

N = 100_000
print(f"{N} eleman baÅŸtan silinecek...\n")

# 1. LIST (KÃ¶tÃ¼)
liste = list(range(N))
start = time.time()
while liste:
    liste.pop(0) # O(N) iÅŸlem
list_time = time.time() - start
print(f"List SÃ¼resi : {list_time:.4f} sn (Ã‡ok YavaÅŸ)")

# 2. DEQUE (Ä°yi)
kuyruk = deque(range(N))
start = time.time()
while kuyruk:
    kuyruk.popleft() # O(1) iÅŸlem
deque_time = time.time() - start
print(f"Deque SÃ¼resi: {deque_time:.4f} sn (IÅŸÄ±k HÄ±zÄ±!)")

kat = list_time / deque_time
print(f"\nğŸš€ SonuÃ§: Deque, Listeden {kat:.0f} kat daha hÄ±zlÄ±!")</code></pre>

            <textarea id="code2" class="code-editor">import time
from collections import deque

N = 100_000
print(f"{N} eleman baÅŸtan silinecek...\n")

# LIST
liste = list(range(N))
start = time.time()
while liste: liste.pop(0)
list_time = time.time() - start
print(f"List SÃ¼resi : {list_time:.4f} sn")

# DEQUE
kuyruk = deque(range(N))
start = time.time()
while kuyruk: kuyruk.popleft()
deque_time = time.time() - start
print(f"Deque SÃ¼resi: {deque_time:.4f} sn")

print(f"\nğŸš€ SonuÃ§: Deque, Listeden {list_time / deque_time:.0f} kat daha hÄ±zlÄ±!")</textarea>
            
            <div id="output-code2" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="nav-footer">
        <a href="3b_queue_circular.html" class="btn">â¬…ï¸ Ã–nceki: Circular Queue</a>
        <a href="3d_queue_ornekler.html" class="btn btn-next">Sonraki: Ã–rnekler â¡ï¸</a>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script>
    let pyodideReady = false;
    let pyodide = null;
    async function main() { pyodide = await loadPyodide(); pyodideReady = true; }
    main();

    async function runPython(id) {
        if(!pyodideReady) { alert("Python yÃ¼kleniyor..."); return; }
        const code = document.getElementById(id).value;
        const out = document.getElementById('output-' + id);
        out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
        try {
            pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
            await pyodide.runPythonAsync(code);
            out.innerText = pyodide.runPython("sys.stdout.getvalue()");
        } catch(e) { out.innerText = e; }
    }

    function toggleEdit(id) {
        const view = document.getElementById('view-' + id);
        const editor = document.getElementById(id);
        if (editor.style.display === 'block') { editor.style.display = 'none'; view.style.display = 'block'; }
        else { editor.style.display = 'block'; view.style.display = 'none'; editor.focus(); }
    }
</script>
</body>
</html>