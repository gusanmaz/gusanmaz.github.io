<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8.6: Hash Table - GerÃ§ek DÃ¼nya Ã–rnekleri</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸŒ 8.6: Hash Table GerÃ§ek Ã–rnekler</h1>
            <p>GÃ¼nlÃ¼k Hayatta Nerede KullanÄ±lÄ±yor?</p>
        </header>

        <div class="section">
            <h2>ğŸ¯ Hash Table Nerede KullanÄ±lÄ±r?</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 20px 0;">
                <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; border-left: 4px solid #2196f3;">
                    <h4 style="margin-top: 0;">ğŸ” Åifre Saklama</h4>
                    <p style="font-size: 0.9em;">KullanÄ±cÄ± adÄ± â†’ Hash'lenmiÅŸ ÅŸifre</p>
                </div>
                <div style="background: #f3e5f5; padding: 20px; border-radius: 12px; border-left: 4px solid #9c27b0;">
                    <h4 style="margin-top: 0;">ğŸ’¾ Cache/Ã–nbellek</h4>
                    <p style="font-size: 0.9em;">URL â†’ Sayfa iÃ§eriÄŸi (hÄ±zlÄ± eriÅŸim)</p>
                </div>
                <div style="background: #fff3e0; padding: 20px; border-radius: 12px; border-left: 4px solid #ff9800;">
                    <h4 style="margin-top: 0;">ğŸ—„ï¸ VeritabanÄ± Ä°ndeks</h4>
                    <p style="font-size: 0.9em;">ID â†’ KayÄ±t lokasyonu</p>
                </div>
                <div style="background: #e8f5e9; padding: 20px; border-radius: 12px; border-left: 4px solid #4caf50;">
                    <h4 style="margin-top: 0;">ğŸ”¢ Frekans Sayma</h4>
                    <p style="font-size: 0.9em;">Kelime â†’ KaÃ§ kez geÃ§ti</p>
                </div>
                <div style="background: #fce4ec; padding: 20px; border-radius: 12px; border-left: 4px solid #e91e63;">
                    <h4 style="margin-top: 0;">ğŸŒ DNS</h4>
                    <p style="font-size: 0.9em;">Domain â†’ IP adresi</p>
                </div>
                <div style="background: #e0f2f1; padding: 20px; border-radius: 12px; border-left: 4px solid #009688;">
                    <h4 style="margin-top: 0;">ğŸ“± Telefon Rehberi</h4>
                    <p style="font-size: 0.9em;">Ä°sim â†’ Telefon numarasÄ±</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“ Ã–rnek 1: Kelime FrekansÄ± SayÄ±cÄ±</h2>
            <p>Bir metinde hangi kelime kaÃ§ kez geÃ§iyor?</p>

            <div class="code-container">
                <div class="code-header">
                    <span>Kelime SayacÄ±</span>
                    <button class="btn btn-run" onclick="runPython('code1')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                </div>
                <pre id="view-code1"><code class="language-python">def kelime_frekans(metin):
    """Metindeki her kelimenin kaÃ§ kez geÃ§tiÄŸini say"""
    
    # Kelime frekans sÃ¶zlÃ¼ÄŸÃ¼
    frekans = {}
    
    # Metni kelimelere ayÄ±r
    kelimeler = metin.lower().split()
    
    for kelime in kelimeler:
        # Noktalama iÅŸaretlerini temizle
        kelime = kelime.strip('.,!?;:"')
        
        # Hash table'da say
        if kelime in frekans:
            frekans[kelime] += 1
        else:
            frekans[kelime] = 1
    
    return frekans

# Test
metin = """
Python programlama dilini Ã¶ÄŸreniyorum. Python Ã§ok gÃ¼zel bir dil.
Python ile veri yapÄ±larÄ± Ã¶ÄŸrenmek eÄŸlenceli. Veri yapÄ±larÄ± Ã¶nemli.
"""

frekans = kelime_frekans(metin)

print("=== Kelime FrekanslarÄ± ===")
# En sÄ±k kullanÄ±landan az kullanÄ±lana sÄ±rala
sirali = sorted(frekans.items(), key=lambda x: x[1], reverse=True)

for kelime, sayi in sirali:
    print(f"{kelime:15} : {'â–ˆ' * sayi} ({sayi})")

# En Ã§ok kullanÄ±lan 3 kelime
print("\nğŸ† En Ã‡ok KullanÄ±lan 3 Kelime:")
for i, (kelime, sayi) in enumerate(sirali[:3], 1):
    print(f"{i}. {kelime} ({sayi} kez)")

# Alternatif: Counter kullan (yerleÅŸik)
from collections import Counter
frekans2 = Counter(metin.lower().split())
print(f"\nâœ… Counter ile: {frekans2.most_common(3)}")</code></pre>
                <textarea id="code1" class="code-editor"></textarea>
                <div id="output-code1" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ”„ Ã–rnek 2: Ä°ki Dizide Ortak Elemanlar</h2>
            <p>Ä°ki listede hangi elemanlar ortak?</p>

            <div class="code-container">
                <div class="code-header">
                    <span>Ortak Elemanlar Bulma</span>
                    <button class="btn btn-run" onclick="runPython('code2')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                </div>
                <pre id="view-code2"><code class="language-python">def ortak_bul_yavas(liste1, liste2):
    """âŒ YavaÅŸ YÃ¶ntem: O(n Ã— m)"""
    ortak = []
    for eleman in liste1:
        if eleman in liste2:
            ortak.append(eleman)
    return ortak

def ortak_bul_hizli(liste1, liste2):
    """âœ… HÄ±zlÄ± YÃ¶ntem: O(n + m) - Hash Table"""
    # liste2'yi hash table'a Ã§evir
    tablo = set(liste2)  # set = hash table
    
    ortak = []
    for eleman in liste1:
        if eleman in tablo:  # O(1) arama!
            ortak.append(eleman)
    
    return ortak

# Test
import time

liste1 = list(range(0, 10000, 2))  # Ã‡ift sayÄ±lar: 0, 2, 4, ...
liste2 = list(range(5000, 15000))   # 5000'den baÅŸlayan

print(f"Liste1: {len(liste1)} eleman")
print(f"Liste2: {len(liste2)} eleman")

# YavaÅŸ yÃ¶ntem
start = time.time()
ortak1 = ortak_bul_yavas(liste1, liste2)
yava_sure = time.time() - start
print(f"\nâŒ YavaÅŸ (O(nÃ—m)): {yava_sure*1000:.2f} ms â†’ {len(ortak1)} ortak")

# HÄ±zlÄ± yÃ¶ntem
start = time.time()
ortak2 = ortak_bul_hizli(liste1, liste2)
hizli_sure = time.time() - start
print(f"âœ… HÄ±zlÄ± (O(n+m)): {hizli_sure*1000:.2f} ms â†’ {len(ortak2)} ortak")

kat = yava_sure / hizli_sure
print(f"\nâš¡ Hash table {kat:.0f}x daha hÄ±zlÄ±!")

# Ä°lk 10 ortak eleman
print(f"\nÄ°lk 10 ortak: {ortak2[:10]}")</code></pre>
                <textarea id="code2" class="code-editor"></textarea>
                <div id="output-code2" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“ Ã–rnek 3: Ã–ÄŸrenci Not Sistemi</h2>
            
            <div class="code-container">
                <div class="code-header">
                    <span>Not YÃ¶netim Sistemi</span>
                    <button class="btn btn-run" onclick="runPython('code3')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                </div>
                <pre id="view-code3"><code class="language-python">class NotSistemi:
    """Hash table ile Ã¶ÄŸrenci not yÃ¶netimi"""
    
    def __init__(self):
        self.ogrenciler = {}  # ogrenci_no â†’ bilgiler
    
    def ogrenci_ekle(self, no, ad, soyad):
        """Yeni Ã¶ÄŸrenci ekle"""
        self.ogrenciler[no] = {
            "ad": ad,
            "soyad": soyad,
            "notlar": {}  # ders â†’ not
        }
        print(f"âœ… {ad} {soyad} ({no}) eklendi")
    
    def not_ekle(self, no, ders, not_degeri):
        """Ã–ÄŸrenciye not ekle"""
        if no not in self.ogrenciler:
            print(f"âŒ {no} numaralÄ± Ã¶ÄŸrenci bulunamadÄ±")
            return
        
        self.ogrenciler[no]["notlar"][ders] = not_degeri
        print(f"âœ… {no} - {ders}: {not_degeri}")
    
    def ortalama(self, no):
        """Ã–ÄŸrencinin ortalamasÄ±nÄ± hesapla"""
        if no not in self.ogrenciler:
            return None
        
        notlar = self.ogrenciler[no]["notlar"]
        if not notlar:
            return 0
        
        return sum(notlar.values()) / len(notlar)
    
    def rapor(self):
        """TÃ¼m Ã¶ÄŸrencilerin raporu"""
        print("\n" + "="*60)
        print(f"{'No':<8} {'Ad Soyad':<20} {'Dersler':<15} {'Ortalama':<10}")
        print("="*60)
        
        for no, bilgi in self.ogrenciler.items():
            ad_soyad = f"{bilgi['ad']} {bilgi['soyad']}"
            ders_sayisi = len(bilgi['notlar'])
            ort = self.ortalama(no)
            
            print(f"{no:<8} {ad_soyad:<20} {ders_sayisi} ders{' ':6} {ort:>6.2f}")
        
        print("="*60)

# KullanÄ±m
sistem = NotSistemi()

# Ã–ÄŸrenci ekle
print("=== Ã–ÄŸrenci Ekleme ===")
sistem.ogrenci_ekle("1001", "Ahmet", "YÄ±lmaz")
sistem.ogrenci_ekle("1002", "AyÅŸe", "Kaya")
sistem.ogrenci_ekle("1003", "Mehmet", "Demir")

# Not ekle
print("\n=== Not Ekleme ===")
sistem.not_ekle("1001", "Matematik", 85)
sistem.not_ekle("1001", "Fizik", 90)
sistem.not_ekle("1001", "Kimya", 78)

sistem.not_ekle("1002", "Matematik", 92)
sistem.not_ekle("1002", "Fizik", 88)

sistem.not_ekle("1003", "Matematik", 76)
sistem.not_ekle("1003", "Fizik", 82)
sistem.not_ekle("1003", "Kimya", 85)
sistem.not_ekle("1003", "Biyoloji", 90)

# Rapor
sistem.rapor()

# Tek Ã¶ÄŸrenci bilgisi
print(f"\nğŸ“ 1001 numaralÄ± Ã¶ÄŸrenci ortalamasÄ±: {sistem.ortalama('1001'):.2f}")</code></pre>
                <textarea id="code3" class="code-editor"></textarea>
                <div id="output-code3" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ” Ã–rnek 4: Basit Cache (Ã–nbellek)</h2>
            
            <div class="code-container">
                <div class="code-header">
                    <span>Cache Sistemi</span>
                    <button class="btn btn-run" onclick="runPython('code4')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                </div>
                <pre id="view-code4"><code class="language-python">import time

class SimpleCache:
    """Basit Ã¶nbellek sistemi"""
    
    def __init__(self):
        self.cache = {}  # key â†’ (value, timestamp)
        self.hit_count = 0   # KaÃ§ kez cache'ten geldi
        self.miss_count = 0  # KaÃ§ kez hesaplandÄ±
    
    def get(self, key, hesaplama_func):
        """
        Cache'te varsa getir, yoksa hesapla ve sakla
        """
        if key in self.cache:
            # Cache HIT
            self.hit_count += 1
            print(f"  âœ… Cache'te bulundu: {key}")
            return self.cache[key]
        else:
            # Cache MISS - hesapla
            self.miss_count += 1
            print(f"  âŒ Cache'te yok, hesaplanÄ±yor: {key}")
            
            value = hesaplama_func(key)
            self.cache[key] = value
            return value
    
    def stats(self):
        """Ä°statistikler"""
        total = self.hit_count + self.miss_count
        if total == 0:
            return
        
        hit_rate = self.hit_count / total * 100
        print(f"\nğŸ“Š Cache Ä°statistikleri:")
        print(f"   Hit: {self.hit_count} (%{hit_rate:.1f})")
        print(f"   Miss: {self.miss_count}")
        print(f"   Toplam: {total}")

# YavaÅŸ hesaplama simÃ¼lasyonu
def faktoriyel_yavas(n):
    """Faktoriyel hesapla (yavaÅŸ)"""
    time.sleep(0.5)  # Sanki uzun hesaplama yapÄ±yoruz
    result = 1
    for i in range(1, n + 1):
        result *= i
    return result

# Test
cache = SimpleCache()

print("=== Faktoriyel HesaplamalarÄ± ===\n")

# Ä°lk Ã§aÄŸrÄ±lar (cache miss)
print("1. Ã§aÄŸrÄ±:")
sonuc = cache.get(5, faktoriyel_yavas)
print(f"   5! = {sonuc}")

print("\n2. Ã§aÄŸrÄ±:")
sonuc = cache.get(7, faktoriyel_yavas)
print(f"   7! = {sonuc}")

print("\n3. Ã§aÄŸrÄ±:")
sonuc = cache.get(5, faktoriyel_yavas)  # Bu sefer cache'ten gelecek!
print(f"   5! = {sonuc}")

print("\n4. Ã§aÄŸrÄ±:")
sonuc = cache.get(7, faktoriyel_yavas)  # Bu da cache'ten!
print(f"   7! = {sonuc}")

cache.stats()

print("\nğŸ’¡ 5 ve 7 ikinci sefer anÄ±nda geldi (0.5 sn yerine ~0 sn)")</code></pre>
                <textarea id="code4" class="code-editor"></textarea>
                <div id="output-code4" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“‹ Ã–zet</h2>
            <div style="background: #e8f5e9; padding: 25px; border-radius: 10px;">
                <h4 style="margin-top: 0; color: #2e7d32;">âœ… Bu BÃ¶lÃ¼mde Ã–ÄŸrendikleriniz</h4>
                <ul>
                    <li><strong>Kelime sayma:</strong> Text analizi, frekans hesaplama</li>
                    <li><strong>Ortak elemanlar:</strong> Set intersection - Ã§ok hÄ±zlÄ±!</li>
                    <li><strong>Not sistemi:</strong> Nested dict ile organize veri</li>
                    <li><strong>Cache:</strong> PahalÄ± hesaplamalarÄ± bir kez yap, tekrar kullan</li>
                    <li><strong>GerÃ§ek kullanÄ±m:</strong> VeritabanÄ±, DNS, Ã¶nbellek, ÅŸifre saklama...</li>
                </ul>

                <h4 style="color: #1565c0; margin-top: 20px;">ğŸ“ Hash Table ModÃ¼lÃ¼ TamamlandÄ±!</h4>
                <p style="margin: 5px 0 0 0;">Hash table'Ä± Ã¶ÄŸrendiniz - Python'un en gÃ¼Ã§lÃ¼ silahlarÄ±ndan biri! ArtÄ±k dict kullanÄ±rken altÄ±nda ne olduÄŸunu biliyorsunuz.</p>
            </div>
        </div>

        <div class="nav-footer">
            <a href="8e_hash_python.html" class="btn">â¬…ï¸ Ã–nceki: Python dict</a>
            <a href="index.html" class="btn" style="background:#e67e22">ğŸ  Ana MenÃ¼</a>
            <a href="9a_heap_intro.html" class="btn btn-next">Sonraki: Heap GiriÅŸ â¡ï¸</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script>
        let pyodideReady = false;
        let pyodide = null;
        async function main() { pyodide = await loadPyodide(); pyodideReady = true; }
        main();

        async function runPython(id) {
            if (!pyodideReady) { alert("Python yÃ¼kleniyor..."); return; }
            const code = document.getElementById('view-' + id).textContent;
            const out = document.getElementById('output-' + id);
            out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
            try {
                pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
                await pyodide.runPythonAsync(code);
                out.innerText = pyodide.runPython("sys.stdout.getvalue()");
            } catch (e) { out.innerText = "Hata: " + e; }
        }
    </script>
</body>
</html>
