<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>p5.js ile Connect4 Oyunu - AdÄ±m AdÄ±m Kodlama</title>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Nunito:wght@400;600;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <button class="theme-toggle" onclick="toggleTheme()" title="TemayÄ± DeÄŸiÅŸtir">ğŸŒ“</button>

    <div class="hero">
        <h1>ğŸ”´ğŸŸ¡ Connect4 Oyunu</h1>
        <p>Bir kodun hikayesi: SÄ±fÄ±rdan profesyonel bir oyuna...</p>
        <div class="story-intro">
            <span class="chapter-badge">25+ AdÄ±m</span>
            <span class="chapter-badge">Algoritma OdaklÄ±</span>
            <span class="chapter-badge">OOP & Animasyon</span>
        </div>
    </div>

    <div class="container">
        <!-- PROLOGUE -->
        <section id="prologue" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">GiriÅŸ</span>
                <h2>Ne YapÄ±yoruz?</h2>
            </div>

            <div class="story-text">
                <p>Connect4 (DÃ¶rtlÃ¼ BaÄŸla), iki oyuncunun sÄ±rayla taÅŸ dÃ¼ÅŸÃ¼rdÃ¼ÄŸÃ¼ klasik bir strateji oyunudur. AmaÃ§:
                    Yatay, dikey veya Ã§apraz olarak <span class="highlight">4 taÅŸÄ± yan yana</span> getirmek!</p>

                <p>Bu tutorial'da p5.js kullanarak <strong>adÄ±m adÄ±m</strong> tam fonksiyonel bir Connect4 oyunu
                    yapacaÄŸÄ±z:</p>
            </div>

            <div class="roadmap">
                <div class="roadmap-item">
                    <div class="roadmap-icon">ğŸ“</div>
                    <div class="roadmap-text">
                        <strong>BÃ¶lÃ¼m 1:</strong> Grid Ã§izimi ve temel yapÄ±
                    </div>
                </div>
                <div class="roadmap-arrow">â†’</div>
                <div class="roadmap-item">
                    <div class="roadmap-icon">ğŸ–±ï¸</div>
                    <div class="roadmap-text">
                        <strong>BÃ¶lÃ¼m 2:</strong> TÄ±klama ve taÅŸ dÃ¼ÅŸÃ¼rme
                    </div>
                </div>
                <div class="roadmap-arrow">â†’</div>
                <div class="roadmap-item">
                    <div class="roadmap-icon">ğŸ§®</div>
                    <div class="roadmap-text">
                        <strong>BÃ¶lÃ¼m 3:</strong> Kazanma algoritmasÄ±
                    </div>
                </div>
                <div class="roadmap-arrow">â†’</div>
                <div class="roadmap-item">
                    <div class="roadmap-icon">âš™ï¸</div>
                    <div class="roadmap-text">
                        <strong>BÃ¶lÃ¼m 4:</strong> Parametrik yapÄ±
                    </div>
                </div>
                <div class="roadmap-arrow">â†’</div>
                <div class="roadmap-item">
                    <div class="roadmap-icon">ğŸ¨</div>
                    <div class="roadmap-text">
                        <strong>BÃ¶lÃ¼m 5:</strong> Animasyon ve gÃ¶rsel efektler
                    </div>
                </div>
                <div class="roadmap-arrow">â†’</div>
                <div class="roadmap-item final-item">
                    <div class="roadmap-icon">ğŸ†</div>
                    <div class="roadmap-text">
                        <strong>Final:</strong> Skor sistemi ve OOP
                    </div>
                </div>
            </div>

            <div class="final-goal">
                <h3>ğŸ¯ Hedef: 7x6 Connect4 Oyunu</h3>
                <div class="connect4-preview" id="preview-grid"></div>
                <div class="legend">
                    <div class="legend-item">
                        <span class="legend-box player1-box"></span>
                        <span>Oyuncu 1 (KÄ±rmÄ±zÄ±)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-box player2-box"></span>
                        <span>Oyuncu 2 (SarÄ±)</span>
                    </div>
                </div>
                <button class="demo-btn" onclick="resetPreview()">Yeni Oyun</button>
            </div>
        </section>

        <!-- STEP 1: Basic Canvas -->
        <section id="step1" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 1</span>
                <h2>Canvas OluÅŸturma</h2>
            </div>

            <div class="story-text">
                <p>Her p5.js projesinde olduÄŸu gibi, Ã¶nce canvas'Ä±mÄ±zÄ± oluÅŸturuyoruz. Connect4 iÃ§in 7 sÃ¼tun ve 6 satÄ±r
                    gerekiyor.</p>

                <h3>ğŸ“ Boyut HesabÄ±</h3>
                <ul>
                    <li>Her hÃ¼cre: 80x80 piksel</li>
                    <li>7 sÃ¼tun Ã— 80 = <strong>560 piksel geniÅŸlik</strong></li>
                    <li>6 satÄ±r Ã— 80 = <strong>480 piksel yÃ¼kseklik</strong></li>
                </ul>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 1</span>
                    sketch.js
                </div>
                <pre><span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>); <span class="comment">// Mavi arka plan</span>
}</pre>
            </div>

            <div class="info-box">
                <strong>ğŸ’¡ Neden Mavi?</strong>
                <p>GerÃ§ek Connect4 oyun tahtalarÄ± genellikle mavi plastikten yapÄ±lÄ±r. Bu renk seÃ§imi oyuna otantik bir
                    gÃ¶rÃ¼nÃ¼m kazandÄ±rÄ±r.</p>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 1 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 1)
                    </div>
<pre><span class="comment">// AdÄ±m 1: Temel Canvas</span>
<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 2: Drawing Grid -->
        <section id="step2" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 2</span>
                <h2>Grid Ã‡izimi - Ä°Ã§ Ä°Ã§e DÃ¶ngÃ¼ler</h2>
            </div>

            <div class="story-text">
                <p>Åimdi 7x6'lÄ±k grid'imizi Ã§izelim. Her hÃ¼cre iÃ§in bir daire Ã§izeceÄŸiz.</p>

                <h3>ğŸ”„ Ä°Ã§ Ä°Ã§e DÃ¶ngÃ¼ MantÄ±ÄŸÄ±</h3>
                <p>2D grid Ã§izmek iÃ§in iki dÃ¶ngÃ¼ kullanÄ±yoruz:</p>
            </div>

            <div class="concept-box">
                <div class="flow-diagram">
                    <div class="flow-box setup-box">
                        <span class="flow-label">DÄ±ÅŸ DÃ¶ngÃ¼ (satÄ±r)</span>
                        <span class="flow-desc">satÄ±r: 0, 1, 2, 3, 4, 5</span>
                    </div>
                    <div class="flow-arrow-down">â†“</div>
                    <div class="flow-box draw-box">
                        <span class="flow-label">Ä°Ã§ DÃ¶ngÃ¼ (sÃ¼tun)</span>
                        <span class="flow-desc">Her satÄ±r iÃ§in: sÃ¼tun: 0, 1, 2, 3, 4, 5, 6</span>
                    </div>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 2</span>
                    sketch.js
                </div>
                <pre><span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    
    <span class="comment">// Grid Ã§izimi</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> < <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> < <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="function">fill</span>(<span class="number">255</span>); <span class="comment">// Beyaz</span>
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">sutun</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">satir</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}</pre>
            </div>

            <div class="interactive-demo">
                <div class="demo-header">
                    <span class="demo-title">ğŸ“ Koordinat HesabÄ±</span>
                </div>
                <div class="demo-content">
                    <div class="calculator-v4">
                        <div class="calc-slider">
                            <label>SÃ¼tun (0-6):</label>
                            <input type="range" id="step2-col" min="0" max="6" value="0" oninput="updateStep2Calc()">
                            <span class="calc-i-value" id="step2-col-val">0</span>
                        </div>
                        <div class="calc-slider">
                            <label>SatÄ±r (0-5):</label>
                            <input type="range" id="step2-row" min="0" max="5" value="0" oninput="updateStep2Calc()">
                            <span class="calc-i-value" id="step2-row-val">0</span>
                        </div>
                        <div class="calc-formulas">
                            <div class="calc-formula-box">
                                <span class="calc-formula-label">x = sÃ¼tun Ã— 80 + 40</span>
                                <span class="calc-formula-result">= <strong id="step2-x">40</strong></span>
                            </div>
                            <div class="calc-formula-box">
                                <span class="calc-formula-label">y = satÄ±r Ã— 80 + 40</span>
                                <span class="calc-formula-result">= <strong id="step2-y">40</strong></span>
                            </div>
                        </div>
                    </div>
                    <p class="demo-explanation">+40 ekleyerek dairenin merkezini hÃ¼crenin ortasÄ±na getiriyoruz (80/2 =
                        40)</p>
                </div>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 2 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 2)
                    </div>
<pre><span class="comment">// AdÄ±m 2: Grid Ã‡izimi</span>
<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">sutun</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">satir</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="function">fill</span>(<span class="number">255</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 3: Game Board Array -->
        <section id="step3" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 3</span>
                <h2>Oyun TahtasÄ± Dizisi (2D Array)</h2>
            </div>

            <div class="story-text">
                <p>GÃ¶rsel grid'i Ã§izdik, ama oyun durumunu nerede tutacaÄŸÄ±z? Bunun iÃ§in 2 boyutlu bir dizi (2D array)
                    kullanacaÄŸÄ±z.</p>

                <h3>ğŸ² gameBoard Dizisi</h3>
                <p>Her hÃ¼cre 3 durumdan birinde olabilir:</p>
                <ul>
                    <li><code>0</code> = BoÅŸ hÃ¼cre</li>
                    <li><code>1</code> = Oyuncu 1 (KÄ±rmÄ±zÄ±)</li>
                    <li><code>2</code> = Oyuncu 2 (SarÄ±)</li>
                </ul>
            </div>

            <div class="array-explanation">
                <div class="array-box">
                    <h4>ğŸ“¦ gameBoard YapÄ±sÄ±</h4>
                    <div style="font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; line-height: 1.8;">
                        <div>gameBoard = [</div>
                        <div style="margin-left: 1rem;">[0, 0, 0, 0, 0, 0, 0], <span class="comment">// SatÄ±r 0 (en
                                Ã¼st)</span></div>
                        <div style="margin-left: 1rem;">[0, 0, 0, 0, 0, 0, 0], <span class="comment">// SatÄ±r 1</span>
                        </div>
                        <div style="margin-left: 1rem;">[0, 0, 0, 0, 0, 0, 0], <span class="comment">// SatÄ±r 2</span>
                        </div>
                        <div style="margin-left: 1rem;">[0, 0, 0, 0, 0, 0, 0], <span class="comment">// SatÄ±r 3</span>
                        </div>
                        <div style="margin-left: 1rem;">[0, 0, 0, 0, 0, 0, 0], <span class="comment">// SatÄ±r 4</span>
                        </div>
                        <div style="margin-left: 1rem;">[0, 0, 0, 0, 0, 0, 0] <span class="comment">// SatÄ±r 5 (en
                                alt)</span></div>
                        <div>]</div>
                    </div>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 3</span>
                    sketch.js
                </div>
                <pre><span class="keyword">let</span> <span class="variable">gameBoard</span> = [];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    
    <span class="comment">// 6 satÄ±r, 7 sÃ¼tunluk boÅŸ tahta oluÅŸtur</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> < <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">satir</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> < <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="number">0</span>; <span class="comment">// BaÅŸlangÄ±Ã§ta boÅŸ</span>
        }
    }
    
    <span class="function">print</span>(<span class="variable">gameBoard</span>);
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> < <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> < <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">sutun</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">satir</span> * <span class="number">80</span> + <span class="number">40</span>;
            
            <span class="comment">// HÃ¼cre durumuna gÃ¶re renk seÃ§</span>
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
                <span class="function">fill</span>(<span class="number">255</span>); <span class="comment">// Beyaz (boÅŸ)</span>
            } <span class="keyword">else if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">1</span>) {
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>); <span class="comment">// KÄ±rmÄ±zÄ±</span>
            } <span class="keyword">else</span> {
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>); <span class="comment">// SarÄ±</span>
            }
            
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}</pre>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 3 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 3)
                    </div>
<pre><span class="comment">// AdÄ±m 3: Oyun TahtasÄ± Dizisi</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);

    <span class="comment">// 6 satÄ±r, 7 sÃ¼tunluk boÅŸ tahta oluÅŸtur</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">satir</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">sutun</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">satir</span> * <span class="number">80</span> + <span class="number">40</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
                <span class="function">fill</span>(<span class="number">255</span>);            <span class="comment">// BoÅŸ = Beyaz</span>
            } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">1</span>) {
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);      <span class="comment">// Oyuncu 1 = KÄ±rmÄ±zÄ±</span>
            } <span class="keyword">else</span> {
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);    <span class="comment">// Oyuncu 2 = SarÄ±</span>
            }

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 4: Mouse Click Detection -->
        <section id="step4" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 4</span>
                <h2>TÄ±klama AlgÄ±lama</h2>
            </div>

            <div class="story-text">
                <p>Oyuncunun hangi sÃ¼tuna tÄ±kladÄ±ÄŸÄ±nÄ± algÄ±lamamÄ±z gerekiyor. <code>mousePressed()</code> fonksiyonu ve
                    <code>mouseX</code> deÄŸiÅŸkeni bunu saÄŸlar.
                </p>

                <h3>ğŸ–±ï¸ SÃ¼tun Hesaplama</h3>
                <p>Mouse X koordinatÄ±ndan sÃ¼tun numarasÄ±nÄ± bulmak iÃ§in:</p>
            </div>

            <div class="concept-box">
                <div
                    style="font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; padding: 1rem; background: var(--bg-primary); border-radius: 6px;">
                    <div><span class="variable">sutun</span> = <span class="function">floor</span>(<span
                            class="variable">mouseX</span> / <span class="number">80</span>)</div>
                    <br>
                    <div style="color: var(--text-secondary); font-size: 0.85rem;">
                        <div>Ã–rnek: mouseX = 250</div>
                        <div>sutun = floor(250 / 80) = floor(3.125) = <strong>3</strong></div>
                    </div>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 4</span>
                    sketch.js
                </div>
                <pre><span class="comment">// ... Ã¶nceki kod ...</span>

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="function">print</span>(<span class="string">"TÄ±klanan sÃ¼tun:"</span>, <span class="variable">sutun</span>);
}</pre>
            </div>

            <div class="interactive-demo">
                <div class="demo-header">
                    <span class="demo-title">ğŸ–±ï¸ SÃ¼tun AlgÄ±lama Demo</span>
                </div>
                <div class="demo-content">
                    <div id="step4-demo" class="click-demo-grid"></div>
                    <div id="step4-info" class="click-info">Bir sÃ¼tuna tÄ±klayÄ±n!</div>
                </div>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 4 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 4)
                    </div>
<pre><span class="comment">// AdÄ±m 4: TÄ±klama AlgÄ±lama</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);

    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">satir</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">sutun</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">satir</span> * <span class="number">80</span> + <span class="number">40</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="function">print</span>(<span class="string">"TÄ±klanan sÃ¼tun:"</span>, <span class="variable">sutun</span>);
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 5: Dropping Piece -->
        <section id="step5" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 5</span>
                <h2>TaÅŸ DÃ¼ÅŸÃ¼rme MantÄ±ÄŸÄ±</h2>
            </div>

            <div class="story-text">
                <p>Connect4'te taÅŸlar yukarÄ±dan dÃ¼ÅŸer ve <strong>en alttaki boÅŸ hÃ¼creye</strong> yerleÅŸir. Bu mantÄ±ÄŸÄ±
                    kodlamamÄ±z gerekiyor.</p>

                <h3>â¬‡ï¸ DÃ¼ÅŸÃ¼rme AlgoritmasÄ±</h3>
                <ol>
                    <li>SeÃ§ilen sÃ¼tunun <strong>en altÄ±ndan</strong> baÅŸla (satÄ±r 5)</li>
                    <li>YukarÄ± doÄŸru ilerle (satÄ±r 4, 3, 2, 1, 0)</li>
                    <li>Ä°lk boÅŸ hÃ¼creyi (deÄŸeri 0 olan) bul</li>
                    <li>O hÃ¼creye taÅŸÄ± yerleÅŸtir</li>
                </ol>
            </div>

            <div class="concept-box">
                <div class="flow-diagram">
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                        <div class="flow-box" style="border-color: var(--accent-orange);">
                            <span class="flow-label">SatÄ±r 5 (en alt)</span>
                            <span class="flow-desc">BoÅŸ mu? â†’ HayÄ±r (dolu)</span>
                        </div>
                        <div class="flow-box" style="border-color: var(--accent-orange);">
                            <span class="flow-label">SatÄ±r 4</span>
                            <span class="flow-desc">BoÅŸ mu? â†’ HayÄ±r (dolu)</span>
                        </div>
                        <div class="flow-box" style="border-color: var(--accent-green);">
                            <span class="flow-label">SatÄ±r 3</span>
                            <span class="flow-desc">BoÅŸ mu? â†’ EVET! Buraya koy</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 5</span>
                    sketch.js
                </div>
                <pre><span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>; <span class="comment">// 1 veya 2</span>

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> < <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">satir</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> < <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    
    <span class="comment">// SÃ¼tun geÃ§erli mi kontrol et</span>
    <span class="keyword">if</span> (<span class="variable">sutun</span> >= <span class="number">0</span> && <span class="variable">sutun</span> < <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="comment">// En alttan baÅŸlayarak yukarÄ± doÄŸru boÅŸ hÃ¼cre ara</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> >= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            
            <span class="comment">// SÄ±rayÄ± deÄŸiÅŸtir</span>
            <span class="keyword">if</span> (<span class="variable">currentPlayer</span> == <span class="number">1</span>) {
                <span class="variable">currentPlayer</span> = <span class="number">2</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = <span class="number">1</span>;
            }
            
            <span class="keyword">return</span>; <span class="comment">// TaÅŸ yerleÅŸti, fonksiyondan Ã§Ä±k</span>
        }
    }
    <span class="comment">// Buraya gelirse sÃ¼tun dolu demektir</span>
    <span class="function">print</span>(<span class="string">"SÃ¼tun dolu!"</span>);
}

<span class="comment">// drawBoard fonksiyonu aynÄ±...</span></pre>
            </div>

            <div class="info-box">
                <strong>ğŸ’¡ return KullanÄ±mÄ±</strong>
                <p><code>return;</code> komutu fonksiyonu hemen sonlandÄ±rÄ±r. BoÅŸ hÃ¼cre bulunduÄŸunda taÅŸÄ± yerleÅŸtirip
                    Ã§Ä±kÄ±yoruz - bÃ¶ylece dÃ¶ngÃ¼ devam etmiyor ve taÅŸ sadece bir yere konuyor.</p>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 5 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 5)
                    </div>
<pre><span class="comment">// AdÄ±m 5: TaÅŸ BÄ±rakma</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;  <span class="comment">// 1 = KÄ±rmÄ±zÄ±, 2 = SarÄ±</span>

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);

    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">satir</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">sutun</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">satir</span> * <span class="number">80</span> + <span class="number">40</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            <span class="keyword">return</span>;
        }
    }
    <span class="function">print</span>(<span class="string">"SÃ¼tun dolu!"</span>);
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 6: Player Turn Display -->
        <section id="step6" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 6</span>
                <h2>SÄ±ra GÃ¶stergesi</h2>
            </div>

            <div class="story-text">
                <p>OyuncularÄ±n sÄ±ranÄ±n kimde olduÄŸunu bilmesi gerekiyor. Ekrana bir metin ekleyelim.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 6</span>
                    sketch.js - draw() gÃ¼ncellendi
                </div>
                <pre><span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
    
    <span class="comment">// SÄ±ra gÃ¶stergesi</span>
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="keyword">if</span> (<span class="variable">currentPlayer</span> == <span class="number">1</span>) {
        <span class="function">text</span>(<span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
    } <span class="keyword">else</span> {
        <span class="function">text</span>(<span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
    }
}</pre>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 6 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 6)
                    </div>
<pre><span class="comment">// AdÄ±m 6: SÄ±ra GÃ¶stergesi</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="comment">// SÄ±ra gÃ¶stergesi</span>
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="keyword">if</span> (<span class="variable">currentPlayer</span> == <span class="number">1</span>) {
        <span class="function">text</span>(<span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
    } <span class="keyword">else</span> {
        <span class="function">text</span>(<span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            <span class="keyword">return</span>;
        }
    }
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 7: Win Check Introduction - SMART ALGORITHM -->
        <section id="step7" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 7</span>
                <h2>Kazanma KontrolÃ¼ - AkÄ±llÄ± Algoritma</h2>
            </div>

            <div class="story-text">
                <p>Åimdi en kritik kÄ±sma geldik: <strong>4 taÅŸÄ±n yan yana olup olmadÄ±ÄŸÄ±nÄ± kontrol etmek</strong>.</p>

                <h3>ğŸ§  Kritik DÃ¼ÅŸÃ¼nce: Neden Her Yeri Kontrol Etmeyelim?</h3>
                <p>Bir dÃ¼ÅŸÃ¼nelim: Her hamleden <strong>Ã¶nce</strong> oyunda Connect4 var mÄ±ydÄ±? <span
                        class="highlight">HayÄ±r!</span> EÄŸer olsaydÄ± oyun Ã§oktan bitmiÅŸ olurdu.</p>

                <p>Bu demek oluyor ki: <strong>Kazanma ancak YENÄ° konulan taÅŸ sayesinde oluÅŸabilir!</strong></p>
            </div>

            <!-- Algorithm Comparison -->
            <div class="algorithm-comparison">
                <div class="algo-box naive">
                    <h4>âŒ Naif YaklaÅŸÄ±m</h4>
                    <p>Her hamlede TÃœM tahtayÄ± tara:</p>
                    <ul>
                        <li>42 hÃ¼crenin hepsini kontrol et</li>
                        <li>Her hÃ¼cre iÃ§in 4 yÃ¶nÃ¼ kontrol et</li>
                        <li>Gereksiz iÅŸlem = yavaÅŸ kod</li>
                    </ul>
                    <div class="algo-complexity">O(n Ã— m Ã— 4) = ~168 kontrol</div>
                </div>
                <div class="algo-box smart">
                    <h4>âœ… AkÄ±llÄ± YaklaÅŸÄ±m</h4>
                    <p>Sadece SON TAÅIN etrafÄ±nÄ± kontrol et:</p>
                    <ul>
                        <li>Son taÅŸÄ±n pozisyonunu biliyoruz</li>
                        <li>Sadece 4 yÃ¶nde say</li>
                        <li>Maksimum ~24 hÃ¼cre kontrolÃ¼</li>
                    </ul>
                    <div class="algo-complexity">O(4 Ã— 6) = ~24 kontrol</div>
                </div>
            </div>

            <div class="info-box" style="background: rgba(127, 217, 98, 0.1); border-left-color: var(--accent-green);">
                <strong>ğŸ’¡ Anahtar Fikir</strong>
                <p>Son konulan taÅŸÄ±n pozisyonunu biliyoruz: <code>(satÄ±r, sÃ¼tun)</code>. Kazanma varsa bu taÅŸ mutlaka o
                    4'lÃ¼nÃ¼n parÃ§asÄ±dÄ±r. Bu yÃ¼zden sadece bu taÅŸtan geÃ§en 4 Ã§izgiyi kontrol etmemiz yeterli!</p>
            </div>

            <div class="story-text">
                <h3>ğŸ¯ 4 YÃ¶n KontrolÃ¼</h3>
                <p>Kazanma 4 farklÄ± yÃ¶nde olabilir. Her yÃ¶n iÃ§in son taÅŸtan <strong>iki tarafa</strong> bakÄ±p aynÄ± renk
                    taÅŸlarÄ± sayacaÄŸÄ±z:</p>
            </div>

            <!-- Four Directions with Proper 45Â° Diagonals -->
            <div class="four-directions">
                <div class="direction-card">
                    <div class="direction-icon">â†”ï¸</div>
                    <div class="direction-name">Yatay</div>
                    <div class="diagonal-grid"
                        style="grid-template-columns: repeat(4, 28px); grid-template-rows: repeat(1, 28px);">
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell active"></div>
                    </div>
                    <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-secondary);">â† â†’ sÃ¼tun deÄŸiÅŸir
                    </div>
                </div>
                <div class="direction-card">
                    <div class="direction-icon">â†•ï¸</div>
                    <div class="direction-name">Dikey</div>
                    <div class="diagonal-grid"
                        style="grid-template-columns: repeat(1, 28px); grid-template-rows: repeat(4, 28px);">
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell active"></div>
                    </div>
                    <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-secondary);">â†‘ â†“ satÄ±r deÄŸiÅŸir
                    </div>
                </div>
                <div class="direction-card">
                    <div class="direction-icon">â†˜ï¸</div>
                    <div class="direction-name">Ã‡apraz â†˜</div>
                    <div class="diagonal-grid">
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell active"></div>
                    </div>
                    <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-secondary);">satÄ±r+1, sÃ¼tun+1
                    </div>
                </div>
                <div class="direction-card">
                    <div class="direction-icon">â†™ï¸</div>
                    <div class="direction-name">Ã‡apraz â†™</div>
                    <div class="diagonal-grid">
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell active"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                        <div class="diagonal-cell"></div>
                    </div>
                    <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-secondary);">satÄ±r+1, sÃ¼tun-1
                    </div>
                </div>
            </div>

            <div class="story-text">
                <h3>ğŸ“ YÃ¶n VektÃ¶rleri</h3>
                <p>Her yÃ¶n iÃ§in hareket miktarÄ±nÄ± <strong>vektÃ¶r</strong> olarak ifade edebiliriz. VektÃ¶r = (satÄ±r
                    deÄŸiÅŸimi, sÃ¼tun deÄŸiÅŸimi)</p>
            </div>

            <div class="direction-vectors">
                <div class="vector-card">
                    <div class="vector-arrows">â† â†’</div>
                    <div class="direction-name">Yatay</div>
                    <div class="vector-code">(0, -1) ve (0, +1)</div>
                </div>
                <div class="vector-card">
                    <div class="vector-arrows">â†‘ â†“</div>
                    <div class="direction-name">Dikey</div>
                    <div class="vector-code">(-1, 0) ve (+1, 0)</div>
                </div>
                <div class="vector-card">
                    <div class="vector-arrows">â†– â†˜</div>
                    <div class="direction-name">Ã‡apraz 1</div>
                    <div class="vector-code">(-1, -1) ve (+1, +1)</div>
                </div>
                <div class="vector-card">
                    <div class="vector-arrows">â†— â†™</div>
                    <div class="direction-name">Ã‡apraz 2</div>
                    <div class="vector-code">(-1, +1) ve (+1, -1)</div>
                </div>
            </div>

            <!-- Concept Explanation: What is a function? -->
            <div class="concept-explain-box">
                <h4>ğŸ“š Kavram: Fonksiyon Nedir?</h4>
                <p>Fonksiyon, belirli bir gÃ¶revi yapan <strong>kod parÃ§asÄ±dÄ±r</strong>. Bir kez yazÄ±p, istediÄŸimiz kadar
                    Ã§aÄŸÄ±rabiliriz.</p>
                <div class="visual-example">
                    <span style="color: var(--accent-purple);">function</span> <span
                        style="color: var(--accent-blue);">selamVer</span>(<span
                        style="color: var(--accent-pink);">isim</span>) {
                    <span style="color: var(--accent-blue);">print</span>(<span
                        style="color: var(--accent-green);">"Merhaba "</span> + <span
                        style="color: var(--accent-pink);">isim</span>);
                    }

                    <span style="color: var(--accent-blue);">selamVer</span>(<span
                        style="color: var(--accent-green);">"Ali"</span>); <span
                        style="color: var(--text-secondary);">// â†’ "Merhaba Ali"</span>
                    <span style="color: var(--accent-blue);">selamVer</span>(<span
                        style="color: var(--accent-green);">"AyÅŸe"</span>); <span
                        style="color: var(--text-secondary);">// â†’ "Merhaba AyÅŸe"</span>
                </div>
                <p><strong>Neden kullanÄ±rÄ±z?</strong> AynÄ± kodu tekrar tekrar yazmak yerine bir fonksiyon oluÅŸturur,
                    ihtiyaÃ§ duyduÄŸumuzda Ã§aÄŸÄ±rÄ±rÄ±z. Kod daha kÄ±sa, daha okunabilir ve hata dÃ¼zeltmesi daha kolay olur.
                </p>
            </div>

            <div class="story-text">
                <h3>ğŸ”§ countInDirection() Fonksiyonu</h3>
                <p>Bir yÃ¶nde kaÃ§ tane aynÄ± renk taÅŸ olduÄŸunu sayan yardÄ±mcÄ± fonksiyon yazacaÄŸÄ±z:</p>
            </div>

            <div class="code-block full-code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">AKILLI ALGORÄ°TMA</span>
                    countInDirection fonksiyonu
                </div>
                <pre><span class="comment">// Belirli bir yÃ¶nde aynÄ± renk taÅŸ sayÄ±sÄ±nÄ± dÃ¶ndÃ¼rÃ¼r</span>
<span class="comment">// dRow: satÄ±r deÄŸiÅŸimi (-1, 0, veya +1)</span>
<span class="comment">// dCol: sÃ¼tun deÄŸiÅŸimi (-1, 0, veya +1)</span>
<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    
    <span class="comment">// BaÅŸlangÄ±Ã§ pozisyonundan bir adÄ±m ilerle</span>
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;  <span class="comment">// Yeni satÄ±r = eski satÄ±r + deÄŸiÅŸim</span>
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;  <span class="comment">// Yeni sÃ¼tun = eski sÃ¼tun + deÄŸiÅŸim</span>
    
    <span class="comment">// Tahta sÄ±nÄ±rlarÄ± iÃ§inde VE aynÄ± oyuncu taÅŸÄ±ysa devam et</span>
    <span class="keyword">while</span> (<span class="variable">r</span> >= <span class="number">0</span> && <span class="variable">r</span> < <span class="number">6</span> && <span class="variable">c</span> >= <span class="number">0</span> && <span class="variable">c</span> < <span class="number">7</span> && 
           <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;         <span class="comment">// SayacÄ± artÄ±r</span>
        <span class="variable">r</span> += <span class="variable">dRow</span>;      <span class="comment">// AynÄ± yÃ¶nde devam et</span>
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    
    <span class="keyword">return</span> <span class="variable">count</span>;  <span class="comment">// Bulunan taÅŸ sayÄ±sÄ±nÄ± dÃ¶ndÃ¼r</span>
}</pre>
            </div>

            <div class="interactive-demo">
                <div class="demo-header">
                    <span class="demo-title">ğŸ® AkÄ±llÄ± Algoritma Demo</span>
                    <button class="demo-btn" onclick="runSmartAlgoDemo()">Ã‡alÄ±ÅŸtÄ±r</button>
                </div>
                <div class="demo-content">
                    <div id="smart-algo-demo" class="smart-algo-demo"></div>
                    <div id="smart-algo-console" class="console-output">
                        <div class="console-line dim">> Son taÅŸ konulduktan sonra 4 yÃ¶n kontrol edilecek</div>
                    </div>
                    <div class="step-counter">
                        <span>Kontrol edilen hÃ¼cre sayÄ±sÄ±:</span>
                        <span class="count-display" id="smart-algo-count">0</span>
                        <span style="color: var(--text-secondary);">(Naif yÃ¶ntemde 168 olurdu!)</span>
                    </div>
                </div>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 7 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 7)
                    </div>
<pre><span class="comment">// AdÄ±m 7: countInDirection Fonksiyonu</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="comment">// â˜… YÃ¶n vektÃ¶rleri ile sayma fonksiyonu â˜…</span>
<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;

    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>;
        <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="keyword">let</span> <span class="variable">t</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>;
    <span class="function">text</span>(<span class="variable">t</span>, <span class="number">10</span>, <span class="number">470</span>);
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            <span class="keyword">return</span>;
        }
    }
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 8: Smart checkWin Function -->
        <section id="step8" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 8</span>
                <h2>AkÄ±llÄ± checkWin() Fonksiyonu</h2>
            </div>

            <div class="story-text">
                <p>ArtÄ±k <code>countInDirection()</code> fonksiyonumuz var. Åimdi 4 yÃ¶n iÃ§in bu fonksiyonu kullanarak
                    kazanma kontrolÃ¼ yapacaÄŸÄ±z.</p>

                <h3>ğŸ“ MantÄ±k</h3>
                <p>Her yÃ¶n iÃ§in:</p>
                <ol>
                    <li>Bir yÃ¶ne doÄŸru say (Ã¶rn: saÄŸa)</li>
                    <li>Ters yÃ¶ne doÄŸru say (Ã¶rn: sola)</li>
                    <li>Topla + 1 (merkez taÅŸ) = Toplam</li>
                    <li>Toplam â‰¥ 4 ise kazandÄ±!</li>
                </ol>
            </div>

            <!-- Concept: Return nedir? -->
            <div class="concept-explain-box">
                <h4>ğŸ“š Kavram: return Nedir?</h4>
                <p><code>return</code> komutu iki ÅŸey yapar:</p>
                <ol>
                    <li>Fonksiyonu <strong>hemen sonlandÄ±rÄ±r</strong></li>
                    <li>Belirtilen deÄŸeri <strong>geri dÃ¶ndÃ¼rÃ¼r</strong></li>
                </ol>
                <div class="visual-example">
                    <span style="color: var(--accent-purple);">function</span> <span
                        style="color: var(--accent-blue);">topla</span>(<span
                        style="color: var(--accent-pink);">a</span>, <span style="color: var(--accent-pink);">b</span>)
                    {
                    <span style="color: var(--accent-purple);">return</span> <span
                        style="color: var(--accent-pink);">a</span> + <span style="color: var(--accent-pink);">b</span>;
                    <span style="color: var(--text-secondary);">// Sonucu dÃ¶ndÃ¼r</span>
                    }

                    <span style="color: var(--accent-purple);">let</span> <span
                        style="color: var(--accent-pink);">sonuc</span> = <span
                        style="color: var(--accent-blue);">topla</span>(<span
                        style="color: var(--accent-orange);">3</span>, <span
                        style="color: var(--accent-orange);">5</span>); <span style="color: var(--text-secondary);">//
                        sonuc = 8</span>
                </div>
                <p>Kazanma kontrolÃ¼nde <code>return true</code> "evet kazandÄ±", <code>return false</code> "hayÄ±r
                    kazanmadÄ±" anlamÄ±na gelir.</p>
            </div>

            <div class="code-block full-code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 8 - TAM KOD</span>
                    sketch.js - AkÄ±llÄ± Kazanma KontrolÃ¼
                </div>
                <pre><span class="comment">// ============================================</span>
<span class="comment">// AKILLI KAZANMA ALGORÄ°TMASI</span>
<span class="comment">// Son taÅŸÄ±n pozisyonundan 4 yÃ¶ne bakarak kontrol</span>
<span class="comment">// ============================================</span>

<span class="comment">// YÃ¶n vektÃ¶rleri: [satÄ±r deÄŸiÅŸimi, sÃ¼tun deÄŸiÅŸimi]</span>
<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]],   <span class="comment">// Yatay: saÄŸ ve sol</span>
    [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],   <span class="comment">// Dikey: aÅŸaÄŸÄ± ve yukarÄ±</span>
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], <span class="comment">// Ã‡apraz â†˜: saÄŸ-aÅŸaÄŸÄ± ve sol-yukarÄ±</span>
    [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]  <span class="comment">// Ã‡apraz â†™: sol-aÅŸaÄŸÄ± ve saÄŸ-yukarÄ±</span>
];

<span class="comment">// Belirli bir yÃ¶nde aynÄ± renk taÅŸ sayÄ±sÄ±nÄ± dÃ¶ndÃ¼rÃ¼r</span>
<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    
    <span class="comment">// SÄ±nÄ±rlar iÃ§inde ve aynÄ± oyuncu taÅŸÄ±ysa devam</span>
    <span class="keyword">while</span> (<span class="variable">r</span> >= <span class="number">0</span> && <span class="variable">r</span> < <span class="number">6</span> && <span class="variable">c</span> >= <span class="number">0</span> && <span class="variable">c</span> < <span class="number">7</span> && 
           <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="comment">// Ana kazanma kontrol fonksiyonu</span>
<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="comment">// Her yÃ¶n iÃ§in kontrol et</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">dir</span> <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="comment">// Bir yÃ¶ne say</span>
        <span class="keyword">let</span> <span class="variable">count1</span> = <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir</span>[<span class="number">0</span>][<span class="number">0</span>], <span class="variable">dir</span>[<span class="number">0</span>][<span class="number">1</span>], <span class="variable">player</span>);
        <span class="comment">// Ters yÃ¶ne say</span>
        <span class="keyword">let</span> <span class="variable">count2</span> = <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir</span>[<span class="number">1</span>][<span class="number">0</span>], <span class="variable">dir</span>[<span class="number">1</span>][<span class="number">1</span>], <span class="variable">player</span>);
        
        <span class="comment">// Toplam = iki yÃ¶n + merkez taÅŸ (1)</span>
        <span class="keyword">let</span> <span class="variable">total</span> = <span class="variable">count1</span> + <span class="variable">count2</span> + <span class="number">1</span>;
        
        <span class="keyword">if</span> (<span class="variable">total</span> >= <span class="number">4</span>) {
            <span class="keyword">return</span> <span class="keyword">true</span>;  <span class="comment">// KazandÄ±!</span>
        }
    }
    
    <span class="keyword">return</span> <span class="keyword">false</span>;  <span class="comment">// Kazanma yok</span>
}</pre>
            </div>

            <div class="info-box" style="background: rgba(127, 217, 98, 0.1); border-left-color: var(--accent-green);">
                <strong>âœ… Bu YaklaÅŸÄ±mÄ±n AvantajlarÄ±</strong>
                <ul>
                    <li><strong>Verimli:</strong> Sadece ilgili hÃ¼creleri kontrol eder</li>
                    <li><strong>Okunabilir:</strong> YÃ¶n vektÃ¶rleri ile temiz kod</li>
                    <li><strong>GeniÅŸletilebilir:</strong> Connect5, Connect6 iÃ§in sadece 4'Ã¼ deÄŸiÅŸtir</li>
                </ul>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 8 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 8)
                    </div>
<pre><span class="comment">// AdÄ±m 8: AkÄ±llÄ± checkWin Fonksiyonu</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]],   <span class="comment">// Yatay</span>
    [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],   <span class="comment">// Dikey</span>
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]],  <span class="comment">// Ã‡apraz â†˜</span>
    [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]   <span class="comment">// Ã‡apraz â†™</span>
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>;
        <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="comment">// â˜… AkÄ±llÄ± checkWin fonksiyonu â˜…</span>
<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span>;
        <span class="variable">count</span> += <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="variable">count</span> += <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="keyword">let</span> <span class="variable">t</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>;
    <span class="function">text</span>(<span class="variable">t</span>, <span class="number">10</span>, <span class="number">470</span>);
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            <span class="keyword">return</span>;
        }
    }
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 9: dropPiece with Win Check -->
        <section id="step9" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 9</span>
                <h2>dropPiece ile Entegrasyon</h2>
            </div>

            <div class="story-text">
                <p>Åimdi <code>dropPiece()</code> fonksiyonunda taÅŸ konulduktan sonra kazanma kontrolÃ¼ yapalÄ±m.</p>

                <h3>ğŸ”„ AkÄ±ÅŸ</h3>
                <ol>
                    <li>TaÅŸÄ± yerleÅŸtir</li>
                    <li><code>checkWin()</code> Ã§aÄŸÄ±r</li>
                    <li>KazandÄ±ysa â†’ Oyunu bitir</li>
                    <li>KazanmadÄ±ysa â†’ SÄ±rayÄ± deÄŸiÅŸtir</li>
                </ol>
            </div>

            <!-- Concept: 2D Array -->
            <div class="concept-explain-box">
                <h4>ğŸ“š Kavram: 2D Dizi (2D Array)</h4>
                <p>Normal dizi tek boyutlu bir listedir. <strong>2D dizi</strong> ise "satÄ±r ve sÃ¼tun" ÅŸeklinde organize
                    edilmiÅŸ bir tablodur.</p>
                <div class="visual-example">
                    <span style="color: var(--text-secondary);">// 1D Dizi (tek satÄ±r):</span>
                    <span style="color: var(--accent-purple);">let</span> <span
                        style="color: var(--accent-pink);">liste</span> = [<span
                        style="color: var(--accent-orange);">5</span>, <span
                        style="color: var(--accent-orange);">3</span>, <span
                        style="color: var(--accent-orange);">8</span>, <span
                        style="color: var(--accent-orange);">1</span>];
                    <span style="color: var(--accent-pink);">liste</span>[<span
                        style="color: var(--accent-orange);">2</span>] <span style="color: var(--text-secondary);">// â†’
                        8</span>

                    <span style="color: var(--text-secondary);">// 2D Dizi (tablo):</span>
                    <span style="color: var(--accent-purple);">let</span> <span
                        style="color: var(--accent-pink);">tablo</span> = [
                    [<span style="color: var(--accent-orange);">1</span>, <span
                        style="color: var(--accent-orange);">2</span>, <span
                        style="color: var(--accent-orange);">3</span>], <span style="color: var(--text-secondary);">//
                        satÄ±r 0</span>
                    [<span style="color: var(--accent-orange);">4</span>, <span
                        style="color: var(--accent-orange);">5</span>, <span
                        style="color: var(--accent-orange);">6</span>], <span style="color: var(--text-secondary);">//
                        satÄ±r 1</span>
                    [<span style="color: var(--accent-orange);">7</span>, <span
                        style="color: var(--accent-orange);">8</span>, <span
                        style="color: var(--accent-orange);">9</span>] <span style="color: var(--text-secondary);">//
                        satÄ±r 2</span>
                    ];
                    <span style="color: var(--accent-pink);">tablo</span>[<span
                        style="color: var(--accent-orange);">1</span>][<span
                        style="color: var(--accent-orange);">2</span>] <span style="color: var(--text-secondary);">// â†’
                        6 (satÄ±r 1, sÃ¼tun 2)</span>
                </div>
                <p><code>gameBoard[satir][sutun]</code> ÅŸeklinde eriÅŸiyoruz: Ã¶nce satÄ±r, sonra sÃ¼tun!</p>
            </div>

            <div class="code-block full-code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 9 - TAM KOD</span>
                    sketch.js - dropPiece Entegrasyonu
                </div>
                <pre><span class="comment">// Oyun durumu deÄŸiÅŸkenleri</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="variable">gameBoard</span> = [];
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> < <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;  <span class="comment">// 0 = boÅŸ</span>
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();  <span class="comment">// Oyun bittiyse yeniden baÅŸlat</span>
        <span class="keyword">return</span>;
    }
    
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> >= <span class="number">0</span> && <span class="variable">sutun</span> < <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="comment">// En alttan baÅŸla, yukarÄ± doÄŸru boÅŸ hÃ¼cre ara</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> >= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="comment">// TaÅŸÄ± yerleÅŸtir</span>
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            
            <span class="comment">// â˜… KAZANMA KONTROLÃœ â˜…</span>
            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> {
                <span class="comment">// SÄ±rayÄ± deÄŸiÅŸtir (1 â†’ 2, 2 â†’ 1)</span>
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            
            <span class="keyword">return</span>;  <span class="comment">// TaÅŸ kondu, fonksiyondan Ã§Ä±k</span>
        }
    }
    <span class="comment">// Buraya gelirse sÃ¼tun dolu</span>
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}</pre>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 9 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 9)
                    </div>
<pre><span class="comment">// AdÄ±m 9: dropPiece ile Kazanma KontrolÃ¼ Entegrasyonu</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]],
    [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]],
    [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="comment">// â˜… Kazanma kontrolÃ¼ ile dropPiece â˜…</span>
<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;

            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 10: Draw Function -->
        <section id="step10" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 10</span>
                <h2>GÃ¶rsel Ã‡izim - draw() Fonksiyonu</h2>
            </div>

            <div class="story-text">
                <p>Åimdi tÃ¼m gÃ¶rsel Ã¶ÄŸeleri Ã§izen <code>draw()</code> fonksiyonunu yazalÄ±m.</p>
            </div>

            <div class="code-block full-code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 10 - TAM KOD</span>
                    sketch.js - draw() ve drawBoard()
                </div>
                <pre><span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);  <span class="comment">// Mavi arka plan</span>
    <span class="function">drawBoard</span>();               <span class="comment">// TahtayÄ± Ã§iz</span>
    
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();         <span class="comment">// Oyun sonu mesajÄ±</span>
    } <span class="keyword">else</span> {
        <span class="function">drawTurnIndicator</span>();    <span class="comment">// SÄ±ra gÃ¶stergesi</span>
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">0</span>; <span class="variable">satir</span> < <span class="number">6</span>; <span class="variable">satir</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">sutun</span> = <span class="number">0</span>; <span class="variable">sutun</span> < <span class="number">7</span>; <span class="variable">sutun</span>++) {
            <span class="comment">// Piksel koordinatlarÄ± hesapla</span>
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">sutun</span> * <span class="number">80</span> + <span class="number">40</span>;  <span class="comment">// SÃ¼tun Ã— hÃ¼cre boyutu + merkez</span>
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">satir</span> * <span class="number">80</span> + <span class="number">40</span>;  <span class="comment">// SatÄ±r Ã— hÃ¼cre boyutu + merkez</span>
            
            <span class="comment">// HÃ¼cre durumuna gÃ¶re renk seÃ§</span>
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
                <span class="function">fill</span>(<span class="number">255</span>);              <span class="comment">// Beyaz = boÅŸ</span>
            } <span class="keyword">else if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">1</span>) {
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);        <span class="comment">// KÄ±rmÄ±zÄ± = Oyuncu 1</span>
            } <span class="keyword">else</span> {
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);      <span class="comment">// SarÄ± = Oyuncu 2</span>
            }
            
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);  <span class="comment">// Daire Ã§iz</span>
        }
    }
}

<span class="keyword">function</span> <span class="function">drawTurnIndicator</span>() {
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="keyword">let</span> <span class="variable">text</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>;
    <span class="function">text</span>(<span class="variable">text</span>, <span class="number">10</span>, <span class="number">470</span>);
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="comment">// YarÄ± saydam siyah overlay</span>
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);
    
    <span class="comment">// Kazanan mesajÄ±</span>
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);
    
    <span class="keyword">let</span> <span class="variable">msg</span> = (<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>;
    <span class="function">text</span>(<span class="variable">msg</span>, <span class="variable">width</span>/<span class="number">2</span>, <span class="variable">height</span>/<span class="number">2</span>);
    
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span>/<span class="number">2</span>, <span class="variable">height</span>/<span class="number">2</span> + <span class="number">50</span>);
}</pre>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 10 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 10)
                    </div>
<pre><span class="comment">// AdÄ±m 10: Oyun Sonu EkranÄ± ile draw Fonksiyonu</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]], [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">d1</span>, <span class="variable">d2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">if</span> (<span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">d1</span>[<span class="number">0</span>], <span class="variable">d1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">d2</span>[<span class="number">0</span>], <span class="variable">d2</span>[<span class="number">1</span>], <span class="variable">player</span>) &<span class="variable">gt</span>;= <span class="number">4</span>) {
            <span class="keyword">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="comment">// â˜… Oyun sonu ekranlÄ± draw fonksiyonu â˜…</span>
<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);

    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);
    <span class="keyword">let</span> <span class="variable">msg</span> = (<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>;
    <span class="function">text</span>(<span class="variable">msg</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 11: Complete Working Code -->
        <section id="step11" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 11</span>
                <h2>TamamlanmÄ±ÅŸ Ã‡alÄ±ÅŸan Kod</h2>
            </div>

            <div class="story-text">
                <p>Ä°ÅŸte ÅŸu ana kadar yazdÄ±ÄŸÄ±mÄ±z <strong>tÃ¼m kodun birleÅŸimi</strong>. Bu kodu p5.js editÃ¶rÃ¼ne
                    yapÄ±ÅŸtÄ±rarak Ã§alÄ±ÅŸan bir oyun elde edebilirsiniz!</p>
            </div>

            <div class="success-box">
                <div class="success-header">
                    <span>ğŸ‰</span>
                    <h3>Tebrikler! Temel Oyun TamamlandÄ±!</h3>
                </div>
                <div class="success-content">
                    <p>Bu noktada Ã§alÄ±ÅŸan bir Connect4 oyununuz var:</p>
                    <ul>
                        <li>âœ… 7x6 oyun tahtasÄ±</li>
                        <li>âœ… Ä°ki oyunculu sÄ±ra sistemi</li>
                        <li>âœ… <strong>AkÄ±llÄ±</strong> kazanma algoritmasÄ± (4 yÃ¶n kontrolÃ¼)</li>
                        <li>âœ… Oyun sonu mesajÄ±</li>
                        <li>âœ… Yeniden baÅŸlatma Ã¶zelliÄŸi</li>
                    </ul>
                </div>
            </div>

            <div class="code-block full-code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span></div>
                    <span class="version-badge">ADIM 11 - NÄ°HAÄ° KOD</span>
                    sketch.js - Ã‡alÄ±ÅŸan Connect4 Oyunu
                </div>
                <pre><span class="comment">// ============================================</span>
<span class="comment">// CONNECT4 OYUNU - NÄ°HAÄ° KOD (AdÄ±m 11)</span>
<span class="comment">// ============================================</span>

<span class="comment">// Oyun durumu deÄŸiÅŸkenleri</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;   <span class="comment">// 1 = KÄ±rmÄ±zÄ±, 2 = SarÄ±</span>
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="comment">// YÃ¶n vektÃ¶rleri (akÄ±llÄ± algoritma iÃ§in)</span>
<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]],   <span class="comment">// Yatay</span>
    [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],   <span class="comment">// Dikey</span>
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], <span class="comment">// Ã‡apraz â†˜</span>
    [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]  <span class="comment">// Ã‡apraz â†™</span>
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="variable">gameBoard</span> = [];
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> < <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
    
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> {
        <span class="function">drawTurnIndicator</span>();
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> < <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;
            
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
            
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> >= <span class="number">0</span> && <span class="variable">sutun</span> < <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> >= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            
            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="comment">// â˜… AKILLI KAZANMA ALGORÄ°TMASI â˜…</span>
<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    
    <span class="keyword">while</span> (<span class="variable">r</span> >= <span class="number">0</span> && <span class="variable">r</span> < <span class="number">6</span> && <span class="variable">c</span> >= <span class="number">0</span> && <span class="variable">c</span> < <span class="number">7</span> && 
           <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">dir</span> <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count1</span> = <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir</span>[<span class="number">0</span>][<span class="number">0</span>], <span class="variable">dir</span>[<span class="number">0</span>][<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">let</span> <span class="variable">count2</span> = <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir</span>[<span class="number">1</span>][<span class="number">0</span>], <span class="variable">dir</span>[<span class="number">1</span>][<span class="number">1</span>], <span class="variable">player</span>);
        
        <span class="keyword">if</span> (<span class="variable">count1</span> + <span class="variable">count2</span> + <span class="number">1</span> >= <span class="number">4</span>) {
            <span class="keyword">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">drawTurnIndicator</span>() {
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="keyword">let</span> <span class="variable">t</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>;
    <span class="function">text</span>(<span class="variable">t</span>, <span class="number">10</span>, <span class="number">470</span>);
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);
    
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);
    <span class="keyword">let</span> <span class="variable">msg</span> = (<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>;
    <span class="function">text</span>(<span class="variable">msg</span>, <span class="variable">width</span>/<span class="number">2</span>, <span class="variable">height</span>/<span class="number">2</span>);
    
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span>/<span class="number">2</span>, <span class="variable">height</span>/<span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}</pre>
            </div>

            <div class="info-box">
                <strong>ğŸ’¡ Ternary Operator</strong>
                <p><code>currentPlayer = (currentPlayer == 1) ? 2 : 1;</code></p>
                <p>Bu kÄ±sa yazÄ±m ÅŸu anlama gelir: "EÄŸer currentPlayer 1 ise 2 yap, deÄŸilse 1 yap."</p>
            </div>

            <!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 11 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 11)
                    </div>
<pre><span class="comment">// AdÄ±m 11: TamamlanmÄ±ÅŸ Ã‡alÄ±ÅŸan Oyun</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]],   <span class="comment">// Yatay</span>
    [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],   <span class="comment">// Dikey</span>
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]],  <span class="comment">// Ã‡apraz â†˜</span>
    [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]   <span class="comment">// Ã‡apraz â†™</span>
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>;
        <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span>;
        <span class="variable">count</span> += <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="variable">count</span> += <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="keyword">let</span> <span class="variable">t</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>;
        <span class="function">text</span>(<span class="variable">t</span>, <span class="number">10</span>, <span class="number">470</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);

    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);
    <span class="keyword">let</span> <span class="variable">msg</span> = (<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>;
    <span class="function">text</span>(<span class="variable">msg</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 12: Game Over Display -->
        <section id="step12" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 12</span>
                <h2>Oyun Sonu EkranÄ±</h2>
            </div>

            <div class="story-text">
                <p>Kazanan belli olduÄŸunda bunu ekranda gÃ¶sterelim.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 12</span>
                    sketch.js
                </div>
                <pre><span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();
    
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="comment">// YarÄ± saydam siyah overlay</span>
        <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
        <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);
        
        <span class="comment">// Kazanan mesajÄ±</span>
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">40</span>);
        <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);
        <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">1</span>) {
            <span class="function">text</span>(<span class="string">"KIRMIZI KAZANDI!"</span>, <span class="variable">width</span>/<span class="number">2</span>, <span class="variable">height</span>/<span class="number">2</span>);
        } <span class="keyword">else</span> {
            <span class="function">text</span>(<span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span>/<span class="number">2</span>, <span class="variable">height</span>/<span class="number">2</span>);
        }
        
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span>/<span class="number">2</span>, <span class="variable">height</span>/<span class="number">2</span> + <span class="number">50</span>);
    } <span class="keyword">else</span> {
        <span class="comment">// SÄ±ra gÃ¶stergesi</span>
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="keyword">let</span> <span class="variable">playerText</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"KÄ±rmÄ±zÄ±"</span> : <span class="string">"SarÄ±"</span>;
        <span class="function">text</span>(<span class="string">"SÄ±ra: "</span> + <span class="variable">playerText</span>, <span class="number">10</span>, <span class="number">470</span>);
    }
}</pre>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 12 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 12)
                    </div>
<pre><span class="comment">// AdÄ±m 12: Oyun Sonu EkranÄ± (Step 11 ile aynÄ± - complete working game)</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]],   <span class="comment">// Yatay</span>
    [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],   <span class="comment">// Dikey</span>
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]],  <span class="comment">// Ã‡apraz â†˜</span>
    [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]   <span class="comment">// Ã‡apraz â†™</span>
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="comment">// â˜… Oyun sonu ekranÄ± â˜…</span>
        <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
        <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);

        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">40</span>);
        <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);
        <span class="keyword">let</span> <span class="variable">msg</span> = (<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>;
        <span class="function">text</span>(<span class="variable">msg</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);

        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 13: Reset Game -->
        <section id="step13" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 13</span>
                <h2>Oyunu SÄ±fÄ±rlama</h2>
            </div>

            <div class="story-text">
                <p>Oyun bittiÄŸinde tÄ±klayarak yeni oyun baÅŸlatabilmeliyiz.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 13</span>
                    sketch.js
                </div>
                <pre><span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="comment">// Oyunu sÄ±fÄ±rla</span>
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> >= <span class="number">0</span> && <span class="variable">sutun</span> < <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}</pre>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 13 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 13)
                    </div>
<pre><span class="comment">// AdÄ±m 13: Oyunu SÄ±fÄ±rlama</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);
    <span class="function">text</span>((<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="comment">// â˜… Oyun bittiyse sÄ±fÄ±rla â˜…</span>
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;
            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="comment">// â˜… Oyunu sÄ±fÄ±rlama fonksiyonu â˜…</span>
<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 14: Draw Check -->
        <section id="step14" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 14</span>
                <h2>Beraberlik KontrolÃ¼</h2>
            </div>

            <div class="story-text">
                <p>Tahta dolduÄŸunda ve kimse kazanmadÄ±ÄŸÄ±nda beraberlik olur.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 14</span>
                    sketch.js
                </div>
                <pre><span class="keyword">function</span> <span class="function">checkDraw</span>() {
    <span class="comment">// En Ã¼st satÄ±rda boÅŸ hÃ¼cre var mÄ± kontrol et</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="number">7</span>; <span class="variable">c</span>++) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">c</span>] == <span class="number">0</span>) {
            <span class="keyword">return</span> <span class="keyword">false</span>; <span class="comment">// Hala boÅŸ yer var</span>
        }
    }
    <span class="keyword">return</span> <span class="keyword">true</span>; <span class="comment">// Tahta dolu</span>
}

<span class="comment">// dropPiece iÃ§inde kazanma kontrolÃ¼nden sonra:</span>
<span class="keyword">if</span> (!<span class="variable">gameOver</span> && <span class="function">checkDraw</span>()) {
    <span class="variable">gameOver</span> = <span class="keyword">true</span>;
    <span class="variable">winner</span> = <span class="number">0</span>; <span class="comment">// 0 = beraberlik</span>
}</pre>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 14 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 14)
                    </div>
<pre><span class="comment">// AdÄ±m 14: Beraberlik KontrolÃ¼</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="number">560</span>, <span class="number">480</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="comment">// â˜… Beraberlik kontrolÃ¼ - tahta dolu mu? â˜…</span>
<span class="keyword">function</span> <span class="function">checkDraw</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">c</span>] == <span class="number">0</span>) {
            <span class="keyword">return</span> <span class="keyword">false</span>;  <span class="comment">// En Ã¼st satÄ±rda boÅŸluk var</span>
        }
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;  <span class="comment">// Tahta tamamen dolu</span>
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">470</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="number">6</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="number">7</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="number">80</span> + <span class="number">40</span>;
            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="number">70</span>, <span class="number">70</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);

    <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">0</span>) {
        <span class="function">text</span>(<span class="string">"BERABERE!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    } <span class="keyword">else</span> {
        <span class="function">text</span>((<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    }

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="number">80</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="number">7</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="number">5</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;

            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="function">checkDraw</span>()) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="number">0</span>;  <span class="comment">// Beraberlik</span>
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 15: Parametric Constants -->
        <section id="step15" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 15</span>
                <h2>Parametrik YapÄ± - Sabitler</h2>
            </div>

            <div class="story-text">
                <p>Kodumuzda Ã§ok fazla "sihirli sayÄ±" (magic number) var: 6, 7, 80, 40... BunlarÄ± deÄŸiÅŸkenlere
                    Ã§evirelim.
                </p>

                <h3>ğŸ”§ Neden Parametrik?</h3>
                <ul>
                    <li>Kod daha okunabilir olur</li>
                    <li>DeÄŸiÅŸiklik yapmak kolaylaÅŸÄ±r (Ã¶rn: 8x8 tahta)</li>
                    <li>Hatalar azalÄ±r</li>
                </ul>
            </div>

            <!-- const vs let aÃ§Ä±klamasÄ± -->
            <div class="concept-explain-box">
                <h4>ğŸ’¡ const vs let - Ne Zaman Hangisi KullanÄ±lÄ±r?</h4>
                <div class="visual-example">
                    <div class="comparison-grid">
                        <div class="comparison-item">
                            <h5><code>const</code> (Sabit)</h5>
                            <ul>
                                <li>DeÄŸeri <strong>asla deÄŸiÅŸmez</strong></li>
                                <li>SatÄ±r sayÄ±sÄ±, sÃ¼tun sayÄ±sÄ±, boyutlar</li>
                                <li>Matematikte Ï€ gibi dÃ¼ÅŸÃ¼nÃ¼n</li>
                                <li>YanlÄ±ÅŸlÄ±kla deÄŸiÅŸtirmeyi engeller</li>
                            </ul>
                            <div class="code-mini">
                                <pre>const ROWS = 6;      // âœ“ Asla deÄŸiÅŸmez
const COLS = 7;      // âœ“ Asla deÄŸiÅŸmez
ROWS = 8;            // âœ— HATA!</pre>
                            </div>
                        </div>
                        <div class="comparison-item">
                            <h5><code>let</code> (DeÄŸiÅŸken)</h5>
                            <ul>
                                <li>DeÄŸeri <strong>deÄŸiÅŸebilir</strong></li>
                                <li>Oyuncu sÄ±rasÄ±, skor, durum</li>
                                <li>Oyun sÄ±rasÄ±nda gÃ¼ncellenen deÄŸerler</li>
                                <li>Her hamleden etkilenen veriler</li>
                            </ul>
                            <div class="code-mini">
                                <pre>let currentPlayer = 1;  // Oyuncu sÄ±rasÄ± deÄŸiÅŸir
let gameOver = false;   // Oyun durumu deÄŸiÅŸir
currentPlayer = 2;      // âœ“ Sorun yok</pre>
                            </div>
                        </div>
                    </div>
                </div>
                <p><strong>Kural:</strong> DeÄŸer hiÃ§ deÄŸiÅŸmeyecekse <code>const</code>, deÄŸiÅŸecekse <code>let</code>
                    kullan.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 15</span>
                    sketch.js
                </div>
                <pre><span class="comment">// Sabitler (en Ã¼stte tanÄ±mla)</span>
<span class="keyword">const</span> <span class="variable">ROWS</span> = <span class="number">6</span>;
<span class="keyword">const</span> <span class="variable">COLS</span> = <span class="number">7</span>;
<span class="keyword">const</span> <span class="variable">CELL_SIZE</span> = <span class="number">80</span>;
<span class="keyword">const</span> <span class="variable">PIECE_SIZE</span> = <span class="number">70</span>;

<span class="comment">// DeÄŸiÅŸkenler</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="variable">COLS</span> * <span class="variable">CELL_SIZE</span>, <span class="variable">ROWS</span> * <span class="variable">CELL_SIZE</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> < <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> < <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            
            <span class="comment">// Renk seÃ§imi...</span>
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);
        }
    }
}</pre>
            </div>

            <div class="success-box">
                <div class="success-header">
                    <span>âœ¨</span>
                    <h3>ArtÄ±k Kolayca DeÄŸiÅŸtirebilirsiniz!</h3>
                </div>
                <div class="success-content">
                    <p>Sadece sabitleri deÄŸiÅŸtirerek:</p>
                    <ul>
                        <li><code>ROWS = 8, COLS = 8</code> â†’ 8x8 tahta</li>
                        <li><code>CELL_SIZE = 60</code> â†’ Daha kÃ¼Ã§Ã¼k hÃ¼creler</li>
                        <li><code>PIECE_SIZE = 50</code> â†’ Daha kÃ¼Ã§Ã¼k taÅŸlar</li>
                    </ul>
                </div>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 15 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 15)
                    </div>
<pre><span class="comment">// AdÄ±m 15: Parametrik YapÄ± - Sabitler</span>
<span class="comment">// â˜… Sabitler (deÄŸiÅŸmeyecek deÄŸerler) â˜…</span>
<span class="keyword">const</span> <span class="variable">ROWS</span> = <span class="number">6</span>;
<span class="keyword">const</span> <span class="variable">COLS</span> = <span class="number">7</span>;
<span class="keyword">const</span> <span class="variable">CELL_SIZE</span> = <span class="number">80</span>;
<span class="keyword">const</span> <span class="variable">PIECE_SIZE</span> = <span class="number">70</span>;

<span class="comment">// DeÄŸiÅŸkenler (oyun sÄ±rasÄ±nda deÄŸiÅŸebilir)</span>
<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="variable">COLS</span> * <span class="variable">CELL_SIZE</span>, <span class="variable">ROWS</span> * <span class="variable">CELL_SIZE</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">checkDraw</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="variable">height</span> - <span class="number">10</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable">width</span>, <span class="variable">height</span>);
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);

    <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">0</span>) {
        <span class="function">text</span>(<span class="string">"BERABERE!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    } <span class="keyword">else</span> {
        <span class="function">text</span>((<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    }

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="variable">ROWS</span> - <span class="number">1</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;

            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="function">checkDraw</span>()) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="number">0</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 16: Offset for Positioning -->
        <section id="step16" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 16</span>
                <h2>Offset ile KonumlandÄ±rma</h2>
            </div>

            <div class="story-text">
                <p>TahtayÄ± ekranÄ±n ortasÄ±na veya belirli bir konuma yerleÅŸtirmek isteyebiliriz. Bunun iÃ§in offset
                    (kaydÄ±rma)
                    deÄŸerleri kullanÄ±rÄ±z.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 16</span>
                    sketch.js
                </div>
                <pre><span class="keyword">const</span> <span class="variable">OFFSET_X</span> = <span class="number">50</span>; <span class="comment">// Soldan boÅŸluk</span>
<span class="keyword">const</span> <span class="variable">OFFSET_Y</span> = <span class="number">50</span>; <span class="comment">// Ãœstten boÅŸluk</span>

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="comment">// Canvas boyutunu offset'lerle birlikte hesapla</span>
    <span class="keyword">let</span> <span class="variable">canvasWidth</span> = <span class="variable">COLS</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">OFFSET_X</span> * <span class="number">2</span>;
    <span class="keyword">let</span> <span class="variable">canvasHeight</span> = <span class="variable">ROWS</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">OFFSET_Y</span> * <span class="number">2</span>;
    <span class="function">createCanvas</span>(<span class="variable">canvasWidth</span>, <span class="variable">canvasHeight</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> < <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span>/<span class="number">2</span> + <span class="variable">OFFSET_X</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span>/<span class="number">2</span> + <span class="variable">OFFSET_Y</span>;
            <span class="comment">// ...</span>
        }
    }
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="comment">// Mouse koordinatÄ±ndan offset'i Ã§Ä±kar</span>
    <span class="keyword">let</span> <span class="variable">adjustedX</span> = <span class="variable">mouseX</span> - <span class="variable">OFFSET_X</span>;
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">adjustedX</span> / <span class="variable">CELL_SIZE</span>);
    <span class="comment">// ...</span>
}</pre>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 16 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 16)
                    </div>
<pre><span class="comment">// AdÄ±m 16: Offset ile KonumlandÄ±rma</span>
<span class="keyword">const</span> <span class="variable">ROWS</span> = <span class="number">6</span>;
<span class="keyword">const</span> <span class="variable">COLS</span> = <span class="number">7</span>;
<span class="keyword">const</span> <span class="variable">CELL_SIZE</span> = <span class="number">80</span>;
<span class="keyword">const</span> <span class="variable">PIECE_SIZE</span> = <span class="number">70</span>;
<span class="keyword">const</span> <span class="variable">OFFSET_Y</span> = <span class="number">40</span>;  <span class="comment">// â˜… Ãœstten boÅŸluk (sÄ±ra gÃ¶stergesi iÃ§in) â˜…</span>

<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="variable">COLS</span> * <span class="variable">CELL_SIZE</span>, <span class="variable">ROWS</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">OFFSET_Y</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">checkDraw</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">20</span>);
        <span class="function">textAlign</span>(<span class="variable">CENTER</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="number">25</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="comment">// â˜… OFFSET_Y eklendi â˜…</span>
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span> + <span class="variable">OFFSET_Y</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="variable">OFFSET_Y</span>, <span class="variable">width</span>, <span class="variable">height</span> - <span class="variable">OFFSET_Y</span>);
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);

    <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">0</span>) {
        <span class="function">text</span>(<span class="string">"BERABERE!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    } <span class="keyword">else</span> {
        <span class="function">text</span>((<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    }

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="comment">// â˜… mouseY kontrolÃ¼ â˜…</span>
    <span class="keyword">if</span> (<span class="variable">mouseY</span> &<span class="variable">lt</span>; <span class="variable">OFFSET_Y</span>) <span class="keyword">return</span>;

    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="variable">ROWS</span> - <span class="number">1</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;

            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="function">checkDraw</span>()) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="number">0</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 17: Hover Effect -->
        <section id="step17" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 17</span>
                <h2>Hover Efekti - Ã–nizleme</h2>
            </div>

            <div class="story-text">
                <p>Oyuncunun hangi sÃ¼tuna taÅŸ koyacaÄŸÄ±nÄ± gÃ¶rmesi iÃ§in mouse'un Ã¼zerinde olduÄŸu sÃ¼tunda bir Ã¶nizleme
                    gÃ¶sterelim.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 17</span>
                    sketch.js
                </div>
                <pre><span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    
    <span class="comment">// Hover Ã¶nizlemesi (oyun devam ediyorsa)</span>
    <span class="keyword">if</span> (!<span class="variable">gameOver</span>) {
        <span class="function">drawHoverPreview</span>();
    }
    
    <span class="function">drawBoard</span>();
    <span class="comment">// ... diÄŸer Ã§izimler</span>
}

<span class="keyword">function</span> <span class="function">drawHoverPreview</span>() {
    <span class="keyword">let</span> <span class="variable">adjustedX</span> = <span class="variable">mouseX</span> - <span class="variable">OFFSET_X</span>;
    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">adjustedX</span> / <span class="variable">CELL_SIZE</span>);
    
    <span class="keyword">if</span> (<span class="variable">sutun</span> >= <span class="number">0</span> && <span class="variable">sutun</span> < <span class="variable">COLS</span>) {
        <span class="comment">// YarÄ± saydam renk</span>
        <span class="keyword">if</span> (<span class="variable">currentPlayer</span> == <span class="number">1</span>) {
            <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>);
        } <span class="keyword">else</span> {
            <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">100</span>);
        }
        
        <span class="comment">// TahtanÄ±n Ã¼stÃ¼nde Ã¶nizleme taÅŸÄ±</span>
        <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">sutun</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span>/<span class="number">2</span> + <span class="variable">OFFSET_X</span>;
        <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">OFFSET_Y</span> / <span class="number">2</span>;
        <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);
    }
}</pre>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 17 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 17)
                    </div>
<pre><span class="comment">// AdÄ±m 17: Hover Efekti</span>
<span class="keyword">const</span> <span class="variable">ROWS</span> = <span class="number">6</span>;
<span class="keyword">const</span> <span class="variable">COLS</span> = <span class="number">7</span>;
<span class="keyword">const</span> <span class="variable">CELL_SIZE</span> = <span class="number">80</span>;
<span class="keyword">const</span> <span class="variable">PIECE_SIZE</span> = <span class="number">70</span>;
<span class="keyword">const</span> <span class="variable">OFFSET_Y</span> = <span class="number">40</span>;

<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="variable">COLS</span> * <span class="variable">CELL_SIZE</span>, <span class="variable">ROWS</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">OFFSET_Y</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">checkDraw</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);

    <span class="comment">// â˜… Hover efekti - taÅŸÄ± bÄ±rakmadan Ã¶nce gÃ¶ster â˜…</span>
    <span class="keyword">if</span> (!<span class="variable">gameOver</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">mouseY</span> &<span class="variable">gt</span>;= <span class="variable">OFFSET_Y</span>) {
        <span class="keyword">let</span> <span class="variable">hoverCol</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
        <span class="keyword">if</span> (<span class="variable">hoverCol</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">hoverCol</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">hoverCol</span>] == <span class="number">0</span>) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">hoverCol</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">if</span> (<span class="variable">currentPlayer</span> == <span class="number">1</span>) {
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);  <span class="comment">// YarÄ± saydam kÄ±rmÄ±zÄ±</span>
            } <span class="keyword">else</span> {
                <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">150</span>);  <span class="comment">// YarÄ± saydam sarÄ±</span>
            }
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="number">20</span>, <span class="variable">PIECE_SIZE</span> * <span class="number">0</span>.<span class="number">8</span>, <span class="variable">PIECE_SIZE</span> * <span class="number">0</span>.<span class="number">8</span>);
        }
    }

    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">16</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">25</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span> + <span class="variable">OFFSET_Y</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="variable">OFFSET_Y</span>, <span class="variable">width</span>, <span class="variable">height</span> - <span class="variable">OFFSET_Y</span>);
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);

    <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">0</span>) {
        <span class="function">text</span>(<span class="string">"BERABERE!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    } <span class="keyword">else</span> {
        <span class="function">text</span>((<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    }

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">if</span> (<span class="variable">mouseY</span> &<span class="variable">lt</span>; <span class="variable">OFFSET_Y</span>) <span class="keyword">return</span>;

    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>) {
        <span class="function">dropPiece</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="variable">ROWS</span> - <span class="number">1</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] = <span class="variable">currentPlayer</span>;

            <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">satir</span>, <span class="variable">sutun</span>, <span class="variable">currentPlayer</span>)) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="variable">currentPlayer</span>;
            } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="function">checkDraw</span>()) {
                <span class="variable">gameOver</span> = <span class="keyword">true</span>;
                <span class="variable">winner</span> = <span class="number">0</span>;
            } <span class="keyword">else</span> {
                <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
            }
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 18: Drop Animation -->
        <section id="step18" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 18</span>
                <h2>DÃ¼ÅŸme Animasyonu</h2>
            </div>

            <div class="story-text">
                <p>TaÅŸlarÄ±n aniden yerleÅŸmesi yerine, yukarÄ±dan aÅŸaÄŸÄ± dÃ¼ÅŸme animasyonu ekleyelim.</p>

                <h3>ğŸ¬ Animasyon MantÄ±ÄŸÄ±</h3>
                <ul>
                    <li>TaÅŸ dÃ¼ÅŸÃ¼rÃ¼ldÃ¼ÄŸÃ¼nde hemen yerleÅŸtirme</li>
                    <li>Bunun yerine: animasyon deÄŸiÅŸkenleri ayarla</li>
                    <li>Her frame'de taÅŸÄ± biraz aÅŸaÄŸÄ± hareket ettir</li>
                    <li>Hedef konuma ulaÅŸÄ±nca tahtaya yerleÅŸtir</li>
                </ul>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 18</span>
                    sketch.js
                </div>
                <pre><span class="comment">// Animasyon deÄŸiÅŸkenleri</span>
<span class="keyword">let</span> <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">animPiece</span> = {
    <span class="variable">col</span>: <span class="number">0</span>,
    <span class="variable">targetRow</span>: <span class="number">0</span>,
    <span class="variable">currentY</span>: <span class="number">0</span>,
    <span class="variable">player</span>: <span class="number">0</span>
};
<span class="keyword">const</span> <span class="variable">DROP_SPEED</span> = <span class="number">15</span>; <span class="comment">// Piksel/frame</span>

<span class="keyword">function</span> <span class="function">dropPiece</span>(<span class="variable">sutun</span>) {
    <span class="keyword">if</span> (<span class="variable">gameOver</span> || <span class="variable">isAnimating</span>) <span class="keyword">return</span>;
    
    <span class="comment">// BoÅŸ satÄ±rÄ± bul</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="variable">ROWS</span> - <span class="number">1</span>; <span class="variable">satir</span> >= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="comment">// Animasyonu baÅŸlat</span>
            <span class="variable">isAnimating</span> = <span class="keyword">true</span>;
            <span class="variable">animPiece</span>.<span class="variable">col</span> = <span class="variable">sutun</span>;
            <span class="variable">animPiece</span>.<span class="variable">targetRow</span> = <span class="variable">satir</span>;
            <span class="variable">animPiece</span>.<span class="variable">currentY</span> = <span class="number">0</span>; <span class="comment">// Ãœstten baÅŸla</span>
            <span class="variable">animPiece</span>.<span class="variable">player</span> = <span class="variable">currentPlayer</span>;
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">updateAnimation</span>() {
    <span class="keyword">if</span> (!<span class="variable">isAnimating</span>) <span class="keyword">return</span>;
    
    <span class="keyword">let</span> <span class="variable">targetY</span> = <span class="variable">animPiece</span>.<span class="variable">targetRow</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span>/<span class="number">2</span> + <span class="variable">OFFSET_Y</span>;
    
    <span class="keyword">if</span> (<span class="variable">animPiece</span>.<span class="variable">currentY</span> < <span class="variable">targetY</span>) {
        <span class="variable">animPiece</span>.<span class="variable">currentY</span> += <span class="variable">DROP_SPEED</span>;
    } <span class="keyword">else</span> {
        <span class="comment">// Animasyon bitti, taÅŸÄ± yerleÅŸtir</span>
        <span class="variable">gameBoard</span>[<span class="variable">animPiece</span>.<span class="variable">targetRow</span>][<span class="variable">animPiece</span>.<span class="variable">col</span>] = <span class="variable">animPiece</span>.<span class="variable">player</span>;
        <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
        
        <span class="comment">// Kazanma kontrolÃ¼</span>
        <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">animPiece</span>.<span class="variable">targetRow</span>, <span class="variable">animPiece</span>.<span class="variable">col</span>, <span class="variable">animPiece</span>.<span class="variable">player</span>)) {
            <span class="variable">gameOver</span> = <span class="keyword">true</span>;
            <span class="variable">winner</span> = <span class="variable">animPiece</span>.<span class="variable">player</span>;
        } <span class="keyword">else</span> {
            <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">drawAnimatingPiece</span>() {
    <span class="keyword">if</span> (!<span class="variable">isAnimating</span>) <span class="keyword">return</span>;
    
    <span class="keyword">if</span> (<span class="variable">animPiece</span>.<span class="variable">player</span> == <span class="number">1</span>) {
        <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
    } <span class="keyword">else</span> {
        <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
    }
    
    <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">animPiece</span>.<span class="variable">col</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span>/<span class="number">2</span> + <span class="variable">OFFSET_X</span>;
    <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">animPiece</span>.<span class="variable">currentY</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);
    
    <span class="function">updateAnimation</span>();
    <span class="function">drawAnimatingPiece</span>();
    <span class="function">drawBoard</span>();
    <span class="comment">// ...</span>
}</pre>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 18 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 18)
                    </div>
<pre><span class="comment">// AdÄ±m 18: DÃ¼ÅŸme Animasyonu</span>
<span class="keyword">const</span> <span class="variable">ROWS</span> = <span class="number">6</span>;
<span class="keyword">const</span> <span class="variable">COLS</span> = <span class="number">7</span>;
<span class="keyword">const</span> <span class="variable">CELL_SIZE</span> = <span class="number">80</span>;
<span class="keyword">const</span> <span class="variable">PIECE_SIZE</span> = <span class="number">70</span>;
<span class="keyword">const</span> <span class="variable">OFFSET_Y</span> = <span class="number">40</span>;

<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="comment">// â˜… Animasyon deÄŸiÅŸkenleri â˜…</span>
<span class="keyword">let</span> <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">animY</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animTargetY</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animCol</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animRow</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animPlayer</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="variable">COLS</span> * <span class="variable">CELL_SIZE</span>, <span class="variable">ROWS</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">OFFSET_Y</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">checkDraw</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);

    <span class="comment">// Hover efekti</span>
    <span class="keyword">if</span> (!<span class="variable">gameOver</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; !<span class="variable">isAnimating</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">mouseY</span> &<span class="variable">gt</span>;= <span class="variable">OFFSET_Y</span>) {
        <span class="keyword">let</span> <span class="variable">hoverCol</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
        <span class="keyword">if</span> (<span class="variable">hoverCol</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">hoverCol</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">hoverCol</span>] == <span class="number">0</span>) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">hoverCol</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">if</span> (<span class="variable">currentPlayer</span> == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">150</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="number">20</span>, <span class="variable">PIECE_SIZE</span> * <span class="number">0</span>.<span class="number">8</span>, <span class="variable">PIECE_SIZE</span> * <span class="number">0</span>.<span class="number">8</span>);
        }
    }

    <span class="function">drawBoard</span>();

    <span class="comment">// â˜… Animasyon Ã§izimi â˜…</span>
    <span class="keyword">if</span> (<span class="variable">isAnimating</span>) {
        <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">animCol</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
        <span class="keyword">if</span> (<span class="variable">animPlayer</span> == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
        <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
        <span class="function">noStroke</span>();
        <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">animY</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);

        <span class="comment">// Animasyonu ilerlet</span>
        <span class="variable">animY</span> += <span class="number">15</span>;  <span class="comment">// DÃ¼ÅŸme hÄ±zÄ±</span>
        <span class="keyword">if</span> (<span class="variable">animY</span> &<span class="variable">gt</span>;= <span class="variable">animTargetY</span>) {
            <span class="variable">animY</span> = <span class="variable">animTargetY</span>;
            <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
            <span class="function">finishDrop</span>();
        }
    }

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="variable">isAnimating</span>) {
        <span class="function">fill</span>(<span class="number">255</span>);
        <span class="function">textSize</span>(<span class="number">16</span>);
        <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="number">10</span>, <span class="number">25</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span> + <span class="variable">OFFSET_Y</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="variable">OFFSET_Y</span>, <span class="variable">width</span>, <span class="variable">height</span> - <span class="variable">OFFSET_Y</span>);
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);

    <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">0</span>) <span class="function">text</span>(<span class="string">"BERABERE!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    <span class="keyword">else</span> <span class="function">text</span>((<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">if</span> (<span class="variable">isAnimating</span>) <span class="keyword">return</span>;  <span class="comment">// Animasyon sÄ±rasÄ±nda tÄ±klamayÄ± engelle</span>
    <span class="keyword">if</span> (<span class="variable">mouseY</span> &<span class="variable">lt</span>; <span class="variable">OFFSET_Y</span>) <span class="keyword">return</span>;

    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>) {
        <span class="function">startDrop</span>(<span class="variable">sutun</span>);
    }
}

<span class="comment">// â˜… Animasyonu baÅŸlat â˜…</span>
<span class="keyword">function</span> <span class="function">startDrop</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="variable">ROWS</span> - <span class="number">1</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">isAnimating</span> = <span class="keyword">true</span>;
            <span class="variable">animCol</span> = <span class="variable">sutun</span>;
            <span class="variable">animRow</span> = <span class="variable">satir</span>;
            <span class="variable">animPlayer</span> = <span class="variable">currentPlayer</span>;
            <span class="variable">animY</span> = <span class="variable">OFFSET_Y</span>;
            <span class="variable">animTargetY</span> = <span class="variable">satir</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span> + <span class="variable">OFFSET_Y</span>;
            <span class="keyword">return</span>;
        }
    }
}

<span class="comment">// â˜… Animasyon bittiÄŸinde â˜…</span>
<span class="keyword">function</span> <span class="function">finishDrop</span>() {
    <span class="variable">gameBoard</span>[<span class="variable">animRow</span>][<span class="variable">animCol</span>] = <span class="variable">animPlayer</span>;

    <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">animRow</span>, <span class="variable">animCol</span>, <span class="variable">animPlayer</span>)) {
        <span class="variable">gameOver</span> = <span class="keyword">true</span>;
        <span class="variable">winner</span> = <span class="variable">animPlayer</span>;
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="function">checkDraw</span>()) {
        <span class="variable">gameOver</span> = <span class="keyword">true</span>;
        <span class="variable">winner</span> = <span class="number">0</span>;
    } <span class="keyword">else</span> {
        <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
    <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 19: Score System -->
        <section id="step19" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 19</span>
                <h2>Skor Sistemi</h2>
            </div>

            <div class="story-text">
                <p>OyuncularÄ±n kazanma sayÄ±larÄ±nÄ± takip edelim.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 19</span>
                    sketch.js
                </div>
                <pre><span class="keyword">let</span> <span class="variable">score</span> = {
    <span class="variable">player1</span>: <span class="number">0</span>,
    <span class="variable">player2</span>: <span class="number">0</span>
};

<span class="comment">// Kazanma durumunda:</span>
<span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">1</span>) {
    <span class="variable">score</span>.<span class="variable">player1</span>++;
} <span class="keyword">else if</span> (<span class="variable">winner</span> == <span class="number">2</span>) {
    <span class="variable">score</span>.<span class="variable">player2</span>++;
}

<span class="comment">// Skoru gÃ¶ster:</span>
<span class="keyword">function</span> <span class="function">drawScore</span>() {
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">18</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>);
    <span class="function">text</span>(<span class="string">"KÄ±rmÄ±zÄ±: "</span> + <span class="variable">score</span>.<span class="variable">player1</span> + <span class="string">" - SarÄ±: "</span> + <span class="variable">score</span>.<span class="variable">player2</span>, 
         <span class="variable">width</span>/<span class="number">2</span>, <span class="number">25</span>);
}</pre>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 19 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 19)
                    </div>
<pre><span class="comment">// AdÄ±m 19: Skor Sistemi</span>
<span class="keyword">const</span> <span class="variable">ROWS</span> = <span class="number">6</span>;
<span class="keyword">const</span> <span class="variable">COLS</span> = <span class="number">7</span>;
<span class="keyword">const</span> <span class="variable">CELL_SIZE</span> = <span class="number">80</span>;
<span class="keyword">const</span> <span class="variable">PIECE_SIZE</span> = <span class="number">70</span>;
<span class="keyword">const</span> <span class="variable">OFFSET_Y</span> = <span class="number">40</span>;

<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;

<span class="comment">// â˜… Skor deÄŸiÅŸkenleri â˜…</span>
<span class="keyword">let</span> <span class="variable">score1</span> = <span class="number">0</span>;  <span class="comment">// KÄ±rmÄ±zÄ± skor</span>
<span class="keyword">let</span> <span class="variable">score2</span> = <span class="number">0</span>;  <span class="comment">// SarÄ± skor</span>

<span class="keyword">let</span> <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">animY</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animTargetY</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animCol</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animRow</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animPlayer</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="variable">COLS</span> * <span class="variable">CELL_SIZE</span>, <span class="variable">ROWS</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">OFFSET_Y</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span> + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir1</span>[<span class="number">0</span>], <span class="variable">dir1</span>[<span class="number">1</span>], <span class="variable">player</span>)
            + <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir2</span>[<span class="number">0</span>], <span class="variable">dir2</span>[<span class="number">1</span>], <span class="variable">player</span>);
        <span class="keyword">if</span> (<span class="variable">count</span> &<span class="variable">gt</span>;= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">checkDraw</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);

    <span class="comment">// â˜… Skor gÃ¶sterimi â˜…</span>
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">16</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="function">text</span>(<span class="string">"KÄ±rmÄ±zÄ±: "</span> + <span class="variable">score1</span>, <span class="number">10</span>, <span class="number">25</span>);
    <span class="function">textAlign</span>(<span class="variable">RIGHT</span>);
    <span class="function">text</span>(<span class="string">"SarÄ±: "</span> + <span class="variable">score2</span>, <span class="variable">width</span> - <span class="number">10</span>, <span class="number">25</span>);

    <span class="keyword">if</span> (!<span class="variable">gameOver</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; !<span class="variable">isAnimating</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">mouseY</span> &<span class="variable">gt</span>;= <span class="variable">OFFSET_Y</span>) {
        <span class="keyword">let</span> <span class="variable">hoverCol</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
        <span class="keyword">if</span> (<span class="variable">hoverCol</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">hoverCol</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">hoverCol</span>] == <span class="number">0</span>) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">hoverCol</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">if</span> (<span class="variable">currentPlayer</span> == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">150</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="number">20</span>, <span class="variable">PIECE_SIZE</span> * <span class="number">0</span>.<span class="number">6</span>, <span class="variable">PIECE_SIZE</span> * <span class="number">0</span>.<span class="number">6</span>);
        }
    }

    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">isAnimating</span>) {
        <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">animCol</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
        <span class="keyword">if</span> (<span class="variable">animPlayer</span> == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
        <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
        <span class="function">noStroke</span>();
        <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">animY</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);

        <span class="variable">animY</span> += <span class="number">15</span>;
        <span class="keyword">if</span> (<span class="variable">animY</span> &<span class="variable">gt</span>;= <span class="variable">animTargetY</span>) {
            <span class="variable">animY</span> = <span class="variable">animTargetY</span>;
            <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
            <span class="function">finishDrop</span>();
        }
    }

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="variable">isAnimating</span>) {
        <span class="function">textAlign</span>(<span class="variable">CENTER</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="number">25</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span> + <span class="variable">OFFSET_Y</span>;

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="variable">OFFSET_Y</span>, <span class="variable">width</span>, <span class="variable">height</span> - <span class="variable">OFFSET_Y</span>);
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);

    <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">0</span>) <span class="function">text</span>(<span class="string">"BERABERE!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    <span class="keyword">else</span> <span class="function">text</span>((<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">if</span> (<span class="variable">isAnimating</span>) <span class="keyword">return</span>;
    <span class="keyword">if</span> (<span class="variable">mouseY</span> &<span class="variable">lt</span>; <span class="variable">OFFSET_Y</span>) <span class="keyword">return</span>;

    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>) {
        <span class="function">startDrop</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">startDrop</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="variable">ROWS</span> - <span class="number">1</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">isAnimating</span> = <span class="keyword">true</span>;
            <span class="variable">animCol</span> = <span class="variable">sutun</span>;
            <span class="variable">animRow</span> = <span class="variable">satir</span>;
            <span class="variable">animPlayer</span> = <span class="variable">currentPlayer</span>;
            <span class="variable">animY</span> = <span class="variable">OFFSET_Y</span>;
            <span class="variable">animTargetY</span> = <span class="variable">satir</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span> + <span class="variable">OFFSET_Y</span>;
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">finishDrop</span>() {
    <span class="variable">gameBoard</span>[<span class="variable">animRow</span>][<span class="variable">animCol</span>] = <span class="variable">animPlayer</span>;

    <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">animRow</span>, <span class="variable">animCol</span>, <span class="variable">animPlayer</span>)) {
        <span class="variable">gameOver</span> = <span class="keyword">true</span>;
        <span class="variable">winner</span> = <span class="variable">animPlayer</span>;
        <span class="comment">// â˜… Kazanan iÃ§in skor artÄ±r â˜…</span>
        <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">1</span>) <span class="variable">score1</span>++;
        <span class="keyword">else</span> <span class="variable">score2</span>++;
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="function">checkDraw</span>()) {
        <span class="variable">gameOver</span> = <span class="keyword">true</span>;
        <span class="variable">winner</span> = <span class="number">0</span>;
    } <span class="keyword">else</span> {
        <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
    <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
    <span class="comment">// NOT: Skorlar sÄ±fÄ±rlanmaz!</span>
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 20: Winning Line Highlight -->
        <section id="step20" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 20</span>
                <h2>Kazanan Ã‡izgiyi Vurgulama</h2>
            </div>

            <div class="story-text">
                <p>Kazanan 4'lÃ¼ Ã§izgiyi gÃ¶rsel olarak vurgulayalÄ±m.</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 20</span>
                    sketch.js
                </div>
                <pre><span class="keyword">let</span> <span class="variable">winningCells</span> = []; <span class="comment">// Kazanan hÃ¼crelerin koordinatlarÄ±</span>

<span class="comment">// checkHorizontal iÃ§inde kazanma bulunduÄŸunda:</span>
<span class="keyword">if</span> (<span class="variable">count</span> >= <span class="number">4</span>) {
    <span class="comment">// Kazanan hÃ¼creleri kaydet</span>
    <span class="variable">winningCells</span> = [];
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> < <span class="number">4</span>; <span class="variable">i</span>++) {
        <span class="variable">winningCells</span>.<span class="function">push</span>({<span class="variable">row</span>: <span class="variable">satir</span>, <span class="variable">col</span>: <span class="variable">c</span> - <span class="variable">i</span>});
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;
}

<span class="comment">// drawBoard iÃ§inde:</span>
<span class="keyword">function</span> <span class="function">isWinningCell</span>(<span class="variable">r</span>, <span class="variable">c</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">cell</span> <span class="keyword">of</span> <span class="variable">winningCells</span>) {
        <span class="keyword">if</span> (<span class="variable">cell</span>.<span class="variable">row</span> == <span class="variable">r</span> && <span class="variable">cell</span>.<span class="variable">col</span> == <span class="variable">c</span>) {
            <span class="keyword">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="comment">// Kazanan hÃ¼crelere parlama efekti:</span>
<span class="keyword">if</span> (<span class="function">isWinningCell</span>(<span class="variable">r</span>, <span class="variable">c</span>)) {
    <span class="function">strokeWeight</span>(<span class="number">4</span>);
    <span class="function">stroke</span>(<span class="number">255</span>); <span class="comment">// Beyaz Ã§erÃ§eve</span>
} <span class="keyword">else</span> {
    <span class="function">noStroke</span>();
}</pre>
            </div>
        
<!-- Expandable Full Code -->
            <details class="full-code-expandable">
                <summary>ğŸ“‚ AdÄ±m 20 SonrasÄ± Tam Kod</summary>
                <div class="code-block">
                    <div class="code-header">
                        <div class="code-dots"><span class="red"></span><span class="yellow"></span><span class="green"></span></div>
                        sketch.js - Tam Kod (AdÄ±m 20)
                    </div>
<pre><span class="comment">// AdÄ±m 20: Kazanan Ã‡izgisi Vurgulama</span>
<span class="keyword">const</span> <span class="variable">ROWS</span> = <span class="number">6</span>;
<span class="keyword">const</span> <span class="variable">COLS</span> = <span class="number">7</span>;
<span class="keyword">const</span> <span class="variable">CELL_SIZE</span> = <span class="number">80</span>;
<span class="keyword">const</span> <span class="variable">PIECE_SIZE</span> = <span class="number">70</span>;
<span class="keyword">const</span> <span class="variable">OFFSET_Y</span> = <span class="number">40</span>;

<span class="keyword">let</span> <span class="variable">gameBoard</span> = [];
<span class="keyword">let</span> <span class="variable">currentPlayer</span> = <span class="number">1</span>;
<span class="keyword">let</span> <span class="variable">gameOver</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">winner</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">score1</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">score2</span> = <span class="number">0</span>;

<span class="comment">// â˜… Kazanan Ã§izgisi koordinatlarÄ± â˜…</span>
<span class="keyword">let</span> <span class="variable">winningCells</span> = [];

<span class="keyword">let</span> <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
<span class="keyword">let</span> <span class="variable">animY</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animTargetY</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animCol</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animRow</span> = <span class="number">0</span>;
<span class="keyword">let</span> <span class="variable">animPlayer</span> = <span class="number">0</span>;

<span class="keyword">const</span> <span class="variable">DIRECTIONS</span> = [
    [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>]],
    [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]], [[<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>]]
];

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="function">createCanvas</span>(<span class="variable">COLS</span> * <span class="variable">CELL_SIZE</span>, <span class="variable">ROWS</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">OFFSET_Y</span>);
    <span class="function">initBoard</span>();
}

<span class="keyword">function</span> <span class="function">initBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="variable">gameBoard</span>[<span class="variable">r</span>] = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">countInDirection</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dRow</span>, <span class="variable">dCol</span>, <span class="variable">player</span>) {
    <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
    <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dRow</span>;
    <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dCol</span>;
    <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
        <span class="variable">count</span>++;
        <span class="variable">r</span> += <span class="variable">dRow</span>;
        <span class="variable">c</span> += <span class="variable">dCol</span>;
    }
    <span class="keyword">return</span> <span class="variable">count</span>;
}

<span class="comment">// â˜… Kazanan hÃ¼creleri bulan geliÅŸtirilmiÅŸ checkWin â˜…</span>
<span class="keyword">function</span> <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> [<span class="variable">dir1</span>, <span class="variable">dir2</span>] <span class="keyword">of</span> <span class="variable">DIRECTIONS</span>) {
        <span class="keyword">let</span> <span class="variable">cells</span> = [[<span class="variable">row</span>, <span class="variable">col</span>]];

        <span class="comment">// Ä°lk yÃ¶nde say ve hÃ¼creleri topla</span>
        <span class="keyword">let</span> <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dir1</span>[<span class="number">0</span>];
        <span class="keyword">let</span> <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dir1</span>[<span class="number">1</span>];
        <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
            <span class="variable">cells</span>.<span class="function">push</span>([<span class="variable">r</span>, <span class="variable">c</span>]);
            <span class="variable">r</span> += <span class="variable">dir1</span>[<span class="number">0</span>];
            <span class="variable">c</span> += <span class="variable">dir1</span>[<span class="number">1</span>];
        }

        <span class="comment">// Ters yÃ¶nde say ve hÃ¼creleri topla</span>
        <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">dir2</span>[<span class="number">0</span>];
        <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">dir2</span>[<span class="number">1</span>];
        <span class="keyword">while</span> (<span class="variable">r</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
            <span class="variable">cells</span>.<span class="function">push</span>([<span class="variable">r</span>, <span class="variable">c</span>]);
            <span class="variable">r</span> += <span class="variable">dir2</span>[<span class="number">0</span>];
            <span class="variable">c</span> += <span class="variable">dir2</span>[<span class="number">1</span>];
        }

        <span class="keyword">if</span> (<span class="variable">cells</span>.<span class="variable">length</span> &<span class="variable">gt</span>;= <span class="number">4</span>) {
            <span class="variable">winningCells</span> = <span class="variable">cells</span>;
            <span class="keyword">return</span> <span class="keyword">true</span>;
        }
    }
    <span class="keyword">return</span> <span class="keyword">false</span>;
}

<span class="keyword">function</span> <span class="function">checkDraw</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    <span class="keyword">return</span> <span class="keyword">true</span>;
}

<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="function">background</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">200</span>);

    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">16</span>);
    <span class="function">textAlign</span>(<span class="variable">LEFT</span>);
    <span class="function">text</span>(<span class="string">"KÄ±rmÄ±zÄ±: "</span> + <span class="variable">score1</span>, <span class="number">10</span>, <span class="number">25</span>);
    <span class="function">textAlign</span>(<span class="variable">RIGHT</span>);
    <span class="function">text</span>(<span class="string">"SarÄ±: "</span> + <span class="variable">score2</span>, <span class="variable">width</span> - <span class="number">10</span>, <span class="number">25</span>);

    <span class="keyword">if</span> (!<span class="variable">gameOver</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; !<span class="variable">isAnimating</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">mouseY</span> &<span class="variable">gt</span>;= <span class="variable">OFFSET_Y</span>) {
        <span class="keyword">let</span> <span class="variable">hoverCol</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
        <span class="keyword">if</span> (<span class="variable">hoverCol</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">hoverCol</span> &<span class="variable">lt</span>; <span class="variable">COLS</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">gameBoard</span>[<span class="number">0</span>][<span class="variable">hoverCol</span>] == <span class="number">0</span>) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">hoverCol</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">if</span> (<span class="variable">currentPlayer</span> == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">150</span>);
            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="number">20</span>, <span class="variable">PIECE_SIZE</span> * <span class="number">0</span>.<span class="number">6</span>, <span class="variable">PIECE_SIZE</span> * <span class="number">0</span>.<span class="number">6</span>);
        }
    }

    <span class="function">drawBoard</span>();

    <span class="keyword">if</span> (<span class="variable">isAnimating</span>) {
        <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">animCol</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
        <span class="keyword">if</span> (<span class="variable">animPlayer</span> == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
        <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);
        <span class="function">noStroke</span>();
        <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">animY</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);

        <span class="variable">animY</span> += <span class="number">15</span>;
        <span class="keyword">if</span> (<span class="variable">animY</span> &<span class="variable">gt</span>;= <span class="variable">animTargetY</span>) {
            <span class="variable">animY</span> = <span class="variable">animTargetY</span>;
            <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
            <span class="function">finishDrop</span>();
        }
    }

    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">drawGameOver</span>();
    } <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="variable">isAnimating</span>) {
        <span class="function">textAlign</span>(<span class="variable">CENTER</span>);
        <span class="function">text</span>((<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="string">"SÄ±ra: KÄ±rmÄ±zÄ±"</span> : <span class="string">"SÄ±ra: SarÄ±"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="number">25</span>);
    }
}

<span class="keyword">function</span> <span class="function">drawBoard</span>() {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> &<span class="variable">lt</span>; <span class="variable">ROWS</span>; <span class="variable">r</span>++) {
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="keyword">let</span> <span class="variable">x</span> = <span class="variable">c</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span>;
            <span class="keyword">let</span> <span class="variable">y</span> = <span class="variable">r</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span> + <span class="variable">OFFSET_Y</span>;

            <span class="comment">// â˜… Kazanan hÃ¼creleri vurgula â˜…</span>
            <span class="keyword">let</span> <span class="variable">isWinningCell</span> = <span class="keyword">false</span>;
            <span class="keyword">if</span> (<span class="variable">gameOver</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">winner</span> != <span class="number">0</span>) {
                <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">cell</span> <span class="keyword">of</span> <span class="variable">winningCells</span>) {
                    <span class="keyword">if</span> (<span class="variable">cell</span>[<span class="number">0</span>] == <span class="variable">r</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">cell</span>[<span class="number">1</span>] == <span class="variable">c</span>) {
                        <span class="variable">isWinningCell</span> = <span class="keyword">true</span>;
                        <span class="variable">break</span>;
                    }
                }
            }

            <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">0</span>) <span class="function">fill</span>(<span class="number">255</span>);
            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="number">1</span>) <span class="function">fill</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);
            <span class="keyword">else</span> <span class="function">fill</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>);

            <span class="function">noStroke</span>();
            <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span>, <span class="variable">PIECE_SIZE</span>);

            <span class="comment">// â˜… Kazanan hÃ¼crelere halo efekti â˜…</span>
            <span class="keyword">if</span> (<span class="variable">isWinningCell</span>) {
                <span class="function">noFill</span>();
                <span class="function">stroke</span>(<span class="number">255</span>);
                <span class="function">strokeWeight</span>(<span class="number">4</span>);
                <span class="function">ellipse</span>(<span class="variable">x</span>, <span class="variable">y</span>, <span class="variable">PIECE_SIZE</span> + <span class="number">10</span>, <span class="variable">PIECE_SIZE</span> + <span class="number">10</span>);
            }
        }
    }
}

<span class="keyword">function</span> <span class="function">drawGameOver</span>() {
    <span class="function">fill</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>);
    <span class="function">rect</span>(<span class="number">0</span>, <span class="variable">OFFSET_Y</span>, <span class="variable">width</span>, <span class="variable">height</span> - <span class="variable">OFFSET_Y</span>);
    <span class="function">fill</span>(<span class="number">255</span>);
    <span class="function">textSize</span>(<span class="number">40</span>);
    <span class="function">textAlign</span>(<span class="variable">CENTER</span>, <span class="variable">CENTER</span>);

    <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">0</span>) <span class="function">text</span>(<span class="string">"BERABERE!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);
    <span class="keyword">else</span> <span class="function">text</span>((<span class="variable">winner</span> == <span class="number">1</span>) ? <span class="string">"KIRMIZI KAZANDI!"</span> : <span class="string">"SARI KAZANDI!"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span>);

    <span class="function">textSize</span>(<span class="number">20</span>);
    <span class="function">text</span>(<span class="string">"Yeniden baÅŸlamak iÃ§in tÄ±klayÄ±n"</span>, <span class="variable">width</span> / <span class="number">2</span>, <span class="variable">height</span> / <span class="number">2</span> + <span class="number">50</span>);
}

<span class="keyword">function</span> <span class="function">mousePressed</span>() {
    <span class="keyword">if</span> (<span class="variable">gameOver</span>) {
        <span class="function">resetGame</span>();
        <span class="keyword">return</span>;
    }
    <span class="keyword">if</span> (<span class="variable">isAnimating</span>) <span class="keyword">return</span>;
    <span class="keyword">if</span> (<span class="variable">mouseY</span> &<span class="variable">lt</span>; <span class="variable">OFFSET_Y</span>) <span class="keyword">return</span>;

    <span class="keyword">let</span> <span class="variable">sutun</span> = <span class="function">floor</span>(<span class="variable">mouseX</span> / <span class="variable">CELL_SIZE</span>);
    <span class="keyword">if</span> (<span class="variable">sutun</span> &<span class="variable">gt</span>;= <span class="number">0</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">sutun</span> &<span class="variable">lt</span>; <span class="variable">COLS</span>) {
        <span class="function">startDrop</span>(<span class="variable">sutun</span>);
    }
}

<span class="keyword">function</span> <span class="function">startDrop</span>(<span class="variable">sutun</span>) {
    <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">satir</span> = <span class="variable">ROWS</span> - <span class="number">1</span>; <span class="variable">satir</span> &<span class="variable">gt</span>;= <span class="number">0</span>; <span class="variable">satir</span>--) {
        <span class="keyword">if</span> (<span class="variable">gameBoard</span>[<span class="variable">satir</span>][<span class="variable">sutun</span>] == <span class="number">0</span>) {
            <span class="variable">isAnimating</span> = <span class="keyword">true</span>;
            <span class="variable">animCol</span> = <span class="variable">sutun</span>;
            <span class="variable">animRow</span> = <span class="variable">satir</span>;
            <span class="variable">animPlayer</span> = <span class="variable">currentPlayer</span>;
            <span class="variable">animY</span> = <span class="variable">OFFSET_Y</span>;
            <span class="variable">animTargetY</span> = <span class="variable">satir</span> * <span class="variable">CELL_SIZE</span> + <span class="variable">CELL_SIZE</span> / <span class="number">2</span> + <span class="variable">OFFSET_Y</span>;
            <span class="keyword">return</span>;
        }
    }
}

<span class="keyword">function</span> <span class="function">finishDrop</span>() {
    <span class="variable">gameBoard</span>[<span class="variable">animRow</span>][<span class="variable">animCol</span>] = <span class="variable">animPlayer</span>;

    <span class="keyword">if</span> (<span class="function">checkWin</span>(<span class="variable">animRow</span>, <span class="variable">animCol</span>, <span class="variable">animPlayer</span>)) {
        <span class="variable">gameOver</span> = <span class="keyword">true</span>;
        <span class="variable">winner</span> = <span class="variable">animPlayer</span>;
        <span class="keyword">if</span> (<span class="variable">winner</span> == <span class="number">1</span>) <span class="variable">score1</span>++;
        <span class="keyword">else</span> <span class="variable">score2</span>++;
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="function">checkDraw</span>()) {
        <span class="variable">gameOver</span> = <span class="keyword">true</span>;
        <span class="variable">winner</span> = <span class="number">0</span>;
    } <span class="keyword">else</span> {
        <span class="variable">currentPlayer</span> = (<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
    }
}

<span class="keyword">function</span> <span class="function">resetGame</span>() {
    <span class="function">initBoard</span>();
    <span class="variable">currentPlayer</span> = <span class="number">1</span>;
    <span class="variable">gameOver</span> = <span class="keyword">false</span>;
    <span class="variable">winner</span> = <span class="number">0</span>;
    <span class="variable">isAnimating</span> = <span class="keyword">false</span>;
    <span class="variable">winningCells</span> = [];  <span class="comment">// â˜… Kazanan hÃ¼creleri temizle â˜…</span>
}
</pre>
                </div>
            </details>
        </section>

        <!-- STEP 21: OOP Introduction -->
        <section id="step21" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">AdÄ±m 21</span>
                <h2>OOP'ye GiriÅŸ - Game Class</h2>
            </div>

            <div class="story-text">
                <p>Kodumuzu daha organize etmek iÃ§in Object-Oriented Programming (OOP) kullanabiliriz. TÃ¼m oyun
                    mantÄ±ÄŸÄ±nÄ±
                    bir sÄ±nÄ±f iÃ§inde toplayalÄ±m.</p>

                <h3>ğŸ—ï¸ Neden OOP?</h3>
                <ul>
                    <li>Kod daha organize ve okunabilir</li>
                    <li>DeÄŸiÅŸkenler ve fonksiyonlar bir arada</li>
                    <li>Birden fazla oyun Ã¶rneÄŸi oluÅŸturulabilir</li>
                    <li>Test etmesi daha kolay</li>
                </ul>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <div class="code-dots"><span class="red"></span><span class="yellow"></span><span
                            class="green"></span>
                    </div>
                    <span class="version-badge">ADIM 21</span>
                    sketch.js
                </div>
                <pre><span class="keyword">class</span> <span class="function">Connect4Game</span> {
    <span class="function">constructor</span>(<span class="variable">rows</span>, <span class="variable">cols</span>, <span class="variable">cellSize</span>) {
        <span class="keyword">this</span>.<span class="variable">ROWS</span> = <span class="variable">rows</span>;
        <span class="keyword">this</span>.<span class="variable">COLS</span> = <span class="variable">cols</span>;
        <span class="keyword">this</span>.<span class="variable">CELL_SIZE</span> = <span class="variable">cellSize</span>;
        <span class="keyword">this</span>.<span class="variable">PIECE_SIZE</span> = <span class="variable">cellSize</span> * <span class="number">0.875</span>;
        
        <span class="keyword">this</span>.<span class="variable">board</span> = [];
        <span class="keyword">this</span>.<span class="variable">currentPlayer</span> = <span class="number">1</span>;
        <span class="keyword">this</span>.<span class="variable">gameOver</span> = <span class="keyword">false</span>;
        <span class="keyword">this</span>.<span class="variable">winner</span> = <span class="number">0</span>;
        <span class="keyword">this</span>.<span class="variable">score</span> = {<span class="variable">p1</span>: <span class="number">0</span>, <span class="variable">p2</span>: <span class="number">0</span>};
        
        <span class="keyword">this</span>.<span class="function">initBoard</span>();
    }
    
    <span class="function">initBoard</span>() {
        <span class="keyword">this</span>.<span class="variable">board</span> = [];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> < <span class="keyword">this</span>.<span class="variable">ROWS</span>; <span class="variable">r</span>++) {
            <span class="keyword">this</span>.<span class="variable">board</span>[<span class="variable">r</span>] = [];
            <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="keyword">this</span>.<span class="variable">COLS</span>; <span class="variable">c</span>++) {
                <span class="keyword">this</span>.<span class="variable">board</span>[<span class="variable">r</span>][<span class="variable">c</span>] = <span class="number">0</span>;
            }
        }
    }
    
    <span class="function">dropPiece</span>(<span class="variable">col</span>) {
        <span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">gameOver</span>) <span class="keyword">return</span> <span class="keyword">false</span>;
        
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="keyword">this</span>.<span class="variable">ROWS</span> - <span class="number">1</span>; <span class="variable">r</span> >= <span class="number">0</span>; <span class="variable">r</span>--) {
            <span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">board</span>[<span class="variable">r</span>][<span class="variable">col</span>] == <span class="number">0</span>) {
                <span class="keyword">this</span>.<span class="variable">board</span>[<span class="variable">r</span>][<span class="variable">col</span>] = <span class="keyword">this</span>.<span class="variable">currentPlayer</span>;
                
                <span class="keyword">if</span> (<span class="keyword">this</span>.<span class="function">checkWin</span>(<span class="variable">r</span>, <span class="variable">col</span>)) {
                    <span class="keyword">this</span>.<span class="variable">gameOver</span> = <span class="keyword">true</span>;
                    <span class="keyword">this</span>.<span class="variable">winner</span> = <span class="keyword">this</span>.<span class="variable">currentPlayer</span>;
                } <span class="keyword">else</span> {
                    <span class="keyword">this</span>.<span class="variable">currentPlayer</span> = (<span class="keyword">this</span>.<span class="variable">currentPlayer</span> == <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;
                }
                <span class="keyword">return</span> <span class="keyword">true</span>;
            }
        }
        <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    
    <span class="function">checkWin</span>(<span class="variable">row</span>, <span class="variable">col</span>) {
        <span class="keyword">let</span> <span class="variable">player</span> = <span class="keyword">this</span>.<span class="variable">board</span>[<span class="variable">row</span>][<span class="variable">col</span>];
        <span class="keyword">return</span> <span class="keyword">this</span>.<span class="function">checkHorizontal</span>(<span class="variable">row</span>, <span class="variable">player</span>) ||
               <span class="keyword">this</span>.<span class="function">checkVertical</span>(<span class="variable">col</span>, <span class="variable">player</span>) ||
               <span class="keyword">this</span>.<span class="function">checkDiagonals</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>);
    }
    
    <span class="function">checkHorizontal</span>(<span class="variable">row</span>, <span class="variable">player</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">c</span> = <span class="number">0</span>; <span class="variable">c</span> < <span class="keyword">this</span>.<span class="variable">COLS</span>; <span class="variable">c</span>++) {
            <span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">board</span>[<span class="variable">row</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
                <span class="variable">count</span>++;
                <span class="keyword">if</span> (<span class="variable">count</span> >= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
            } <span class="keyword">else</span> {
                <span class="variable">count</span> = <span class="number">0</span>;
            }
        }
        <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    
    <span class="function">checkVertical</span>(<span class="variable">col</span>, <span class="variable">player</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>;
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">r</span> = <span class="number">0</span>; <span class="variable">r</span> < <span class="keyword">this</span>.<span class="variable">ROWS</span>; <span class="variable">r</span>++) {
            <span class="keyword">if</span> (<span class="keyword">this</span>.<span class="variable">board</span>[<span class="variable">r</span>][<span class="variable">col</span>] == <span class="variable">player</span>) {
                <span class="variable">count</span>++;
                <span class="keyword">if</span> (<span class="variable">count</span> >= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
            } <span class="keyword">else</span> {
                <span class="variable">count</span> = <span class="number">0</span>;
            }
        }
        <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    
    <span class="function">checkDiagonals</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">player</span>) {
        <span class="comment">// YÃ¶n vektÃ¶rleri ile akÄ±llÄ± kontrol</span>
        <span class="keyword">const</span> <span class="variable">dirs</span> = [[[<span class="number">1</span>,<span class="number">1</span>],[-<span class="number">1</span>,-<span class="number">1</span>]], [[<span class="number">1</span>,-<span class="number">1</span>],[-<span class="number">1</span>,<span class="number">1</span>]]];
        <span class="keyword">for</span> (<span class="keyword">let</span> <span class="variable">dir</span> <span class="keyword">of</span> <span class="variable">dirs</span>) {
            <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">1</span>;
            <span class="variable">count</span> += <span class="keyword">this</span>.<span class="function">countDir</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir</span>[<span class="number">0</span>], <span class="variable">player</span>);
            <span class="variable">count</span> += <span class="keyword">this</span>.<span class="function">countDir</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">dir</span>[<span class="number">1</span>], <span class="variable">player</span>);
            <span class="keyword">if</span> (<span class="variable">count</span> >= <span class="number">4</span>) <span class="keyword">return</span> <span class="keyword">true</span>;
        }
        <span class="keyword">return</span> <span class="keyword">false</span>;
    }
    
    <span class="function">countDir</span>(<span class="variable">row</span>, <span class="variable">col</span>, <span class="variable">d</span>, <span class="variable">player</span>) {
        <span class="keyword">let</span> <span class="variable">count</span> = <span class="number">0</span>, <span class="variable">r</span> = <span class="variable">row</span> + <span class="variable">d</span>[<span class="number">0</span>], <span class="variable">c</span> = <span class="variable">col</span> + <span class="variable">d</span>[<span class="number">1</span>];
        <span class="keyword">while</span> (<span class="variable">r</span> >= <span class="number">0</span> && <span class="variable">r</span> < <span class="keyword">this</span>.<span class="variable">ROWS</span> && <span class="variable">c</span> >= <span class="number">0</span> && <span class="variable">c</span> < <span class="keyword">this</span>.<span class="variable">COLS</span> &&
               <span class="keyword">this</span>.<span class="variable">board</span>[<span class="variable">r</span>][<span class="variable">c</span>] == <span class="variable">player</span>) {
            <span class="variable">count</span>++; <span class="variable">r</span> += <span class="variable">d</span>[<span class="number">0</span>]; <span class="variable">c</span> += <span class="variable">d</span>[<span class="number">1</span>];
        }
        <span class="keyword">return</span> <span class="variable">count</span>;
    }
    
    <span class="function">reset</span>() {
        <span class="keyword">this</span>.<span class="function">initBoard</span>();
        <span class="keyword">this</span>.<span class="variable">currentPlayer</span> = <span class="number">1</span>;
        <span class="keyword">this</span>.<span class="variable">gameOver</span> = <span class="keyword">false</span>;
        <span class="keyword">this</span>.<span class="variable">winner</span> = <span class="number">0</span>;
    }
}

<span class="comment">// KullanÄ±m:</span>
<span class="keyword">let</span> <span class="variable">game</span>;

<span class="keyword">function</span> <span class="function">setup</span>() {
    <span class="variable">game</span> = <span class="keyword">new</span> <span class="function">Connect4Game</span>(<span class="number">6</span>, <span class="number">7</span>, <span class="number">80</span>);
    <span class="function">createCanvas</span>(<span class="variable">game</span>.<span class="variable">COLS</span> * <span class="variable">game</span>.<span class="variable">CELL_SIZE</span>, 
                 <span class="variable">game</span>.<span class="variable">ROWS</span> * <span class="variable">game</span>.<span class="variable">CELL_SIZE</span>);
}</pre>
            </div>
        </section>

        <!-- FINAL DEMO -->
        <section id="final" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">Final</span>
                <h2>ğŸ® Ã‡alÄ±ÅŸan Oyun</h2>
            </div>

            <div class="story-text">
                <p>TÃ¼m adÄ±mlarÄ±n sonunda, tam fonksiyonel bir Connect4 oyunumuz oldu!</p>
            </div>

            <div class="interactive-demo">
                <div class="demo-header">
                    <span class="demo-title">ğŸ® Connect4 - Final Demo</span>
                    <button class="demo-btn" onclick="resetFinalGame()">Yeni Oyun</button>
                </div>
                <div class="demo-content">
                    <div id="final-score" class="score-display">
                        <span class="player1-score">KÄ±rmÄ±zÄ±: <span id="p1-score">0</span></span>
                        <span class="player2-score">SarÄ±: <span id="p2-score">0</span></span>
                    </div>
                    <div id="final-grid" class="connect4-grid"></div>
                    <div id="final-status" class="game-status">SÄ±ra: KÄ±rmÄ±zÄ±</div>
                    <div id="final-message" class="game-message"></div>
                </div>
            </div>
        </section>

        <!-- SUMMARY -->
        <section id="summary" class="story-section">
            <div class="chapter-header">
                <span class="chapter-number">Ã–zet</span>
                <h2>ğŸ“ Neler Ã–ÄŸrendik?</h2>
            </div>

            <div class="lessons-learned">
                <h3>Teknik Beceriler:</h3>
                <table class="summary-table">
                    <thead>
                        <tr>
                            <th>Konu</th>
                            <th>Ã–ÄŸrenim</th>
                            <th>Ã–rnek</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>2D Diziler</strong></td>
                            <td>Grid tabanlÄ± oyun tahtasÄ±</td>
                            <td>gameBoard[satir][sutun]</td>
                        </tr>
                        <tr>
                            <td><strong>Ä°Ã§ Ä°Ã§e DÃ¶ngÃ¼ler</strong></td>
                            <td>2D yapÄ±larÄ± tarama</td>
                            <td>for satÄ±r { for sÃ¼tun { } }</td>
                        </tr>
                        <tr>
                            <td><strong>Algoritma TasarÄ±mÄ±</strong></td>
                            <td>Kazanma kontrolÃ¼</td>
                            <td>Yatay, dikey, Ã§apraz kontrol</td>
                        </tr>
                        <tr>
                            <td><strong>Verimlilik</strong></td>
                            <td>Sadece gerekli kontroller</td>
                            <td>Son hamle etrafÄ±nÄ± kontrol</td>
                        </tr>
                        <tr>
                            <td><strong>Parametrik Kod</strong></td>
                            <td>Sabitler ve deÄŸiÅŸkenler</td>
                            <td>ROWS, COLS, CELL_SIZE</td>
                        </tr>
                        <tr>
                            <td><strong>Animasyon</strong></td>
                            <td>Frame tabanlÄ± hareket</td>
                            <td>currentY += DROP_SPEED</td>
                        </tr>
                        <tr>
                            <td><strong>OOP</strong></td>
                            <td>SÄ±nÄ±f tabanlÄ± organizasyon</td>
                            <td>class Connect4Game { }</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="evolution-timeline">
                <div class="timeline-item">
                    <div class="timeline-version">1-3</div>
                    <div class="timeline-content">
                        <h4>Temel YapÄ±</h4>
                        <p>Canvas, Grid, 2D Dizi</p>
                    </div>
                </div>
                <div class="timeline-arrow">â†’</div>
                <div class="timeline-item">
                    <div class="timeline-version">4-6</div>
                    <div class="timeline-content">
                        <h4>EtkileÅŸim</h4>
                        <p>TÄ±klama, TaÅŸ DÃ¼ÅŸÃ¼rme</p>
                    </div>
                </div>
                <div class="timeline-arrow">â†’</div>
                <div class="timeline-item">
                    <div class="timeline-version">7-14</div>
                    <div class="timeline-content">
                        <h4>Oyun MantÄ±ÄŸÄ±</h4>
                        <p>Kazanma AlgoritmasÄ±</p>
                    </div>
                </div>
                <div class="timeline-arrow">â†’</div>
                <div class="timeline-item">
                    <div class="timeline-version">15-18</div>
                    <div class="timeline-content">
                        <h4>Ä°yileÅŸtirmeler</h4>
                        <p>Parametrik, Animasyon</p>
                    </div>
                </div>
                <div class="timeline-arrow">â†’</div>
                <div class="timeline-item final">
                    <div class="timeline-version">19-21</div>
                    <div class="timeline-content">
                        <h4>Profesyonel</h4>
                        <p>Skor, OOP</p>
                    </div>
                </div>
            </div>

            <div class="whats-next">
                <h3>ğŸš€ Sonraki AdÄ±mlar</h3>
                <ul>
                    <li><strong>AI Rakip:</strong> Minimax algoritmasÄ± ile bilgisayar rakibi</li>
                    <li><strong>Ses Efektleri:</strong> TaÅŸ dÃ¼ÅŸme, kazanma sesleri</li>
                    <li><strong>Tema SeÃ§imi:</strong> FarklÄ± renk ÅŸemalarÄ±</li>
                    <li><strong>Online Multiplayer:</strong> Socket.io ile Ã§ok oyunculu</li>
                    <li><strong>Mobil Uyumluluk:</strong> Touch events</li>
                </ul>
            </div>
        </section>
    </div>

    <!-- Navigation -->
    <div class="nav-dots">
        <div class="nav-dot" onclick="scrollToSection('prologue')" title="GiriÅŸ"></div>
        <div class="nav-dot" onclick="scrollToSection('step1')" title="AdÄ±m 1"></div>
        <div class="nav-dot" onclick="scrollToSection('step2')" title="AdÄ±m 2"></div>
        <div class="nav-dot" onclick="scrollToSection('step3')" title="AdÄ±m 3"></div>
        <div class="nav-dot" onclick="scrollToSection('step4')" title="AdÄ±m 4"></div>
        <div class="nav-dot" onclick="scrollToSection('step5')" title="AdÄ±m 5"></div>
        <div class="nav-dot" onclick="scrollToSection('step7')" title="AdÄ±m 7"></div>
        <div class="nav-dot" onclick="scrollToSection('step8')" title="AdÄ±m 8"></div>
        <div class="nav-dot" onclick="scrollToSection('step10')" title="AdÄ±m 10"></div>
        <div class="nav-dot" onclick="scrollToSection('step15')" title="AdÄ±m 15"></div>
        <div class="nav-dot" onclick="scrollToSection('step18')" title="AdÄ±m 18"></div>
        <div class="nav-dot" onclick="scrollToSection('step21')" title="AdÄ±m 21"></div>
        <div class="nav-dot" onclick="scrollToSection('final')" title="Final"></div>
        <div class="nav-dot" onclick="scrollToSection('summary')" title="Ã–zet"></div>
    </div>

    <script src="app.js"></script>
</body>

</html>