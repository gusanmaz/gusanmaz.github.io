<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9.1: Heap (YÄ±ÄŸÄ±n) Veri YapÄ±sÄ± - DetaylÄ± AnlatÄ±m</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="../src/main.css" rel="stylesheet" />
    <script type="module">
        import { CodeBlocks } from '../src/code-blocks.js';
        window.CodeBlocks = CodeBlocks;
        document.addEventListener('DOMContentLoaded', () => {
            CodeBlocks.init();
        });
    </script>
    <style>
        .heap-visual {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        /* Canvas iÃ§in stil - eski tree-container stilleri kaldÄ±rÄ±ldÄ± */

        .array-rep {
            display: flex;
            gap: 5px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .array-cell {
            width: 40px;
            height: 40px;
            border: 2px solid #333;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
            transition: all 0.3s;
        }
        .array-cell .idx {
            position: absolute;
            top: -18px;
            font-size: 10px;
            color: #666;
        }
        .array-cell.root { background: #e74c3c; color: white; }
        .array-cell.highlight { background: #f39c12; color: white; transform: scale(1.1); }

        .heap-types {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .heap-type {
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }
        .heap-type.max-heap {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border: 2px solid #e74c3c;
        }
        .heap-type.min-heap {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border: 2px solid #2196f3;
        }

        .formula-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: monospace;
        }
        .formula-box code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 3px 8px;
            border-radius: 4px;
        }

        .complexity-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .complexity-table th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
        }
        .complexity-table td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: center;
        }

        .term-box {
            background: linear-gradient(135deg, #667eea15, #764ba215);
            border: 2px solid #667eea;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .term-item {
            margin: 15px 0;
            padding-left: 15px;
            border-left: 3px solid #667eea;
        }
        .term-item strong { color: #667eea; }

        .operation-visual {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }
        .controls input {
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            width: 80px;
        }
    </style>
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
        <svg class="sun-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10 3a1 1 0 011 1v1a1 1 0 11-2 0V4a1 1 0 011-1zm0 10a3 3 0 100-6 3 3 0 000 6zm0 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM4 10a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm10 0a1 1 0 011-1h1a1 1 0 110 2h-1a1 1 0 01-1-1zM5.05 5.05a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zm9.9 9.9a1 1 0 011.414 0l.707.707a1 1 0 11-1.414 1.414l-.707-.707a1 1 0 010-1.414zm-9.9 0a1 1 0 011.414 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707zm9.9-9.9a1 1 0 011.414 1.414l-.707.707a1 1 0 11-1.414-1.414l.707-.707z"/>
        </svg>
        <svg class="moon-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
        </svg>
    </button>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ”ï¸ 9.1: Heap (YÄ±ÄŸÄ±n) Veri YapÄ±sÄ±</h1>
        <p>Priority Queue'nun Temel YapÄ±sÄ± - DetaylÄ± AnlatÄ±m</p>
    </header>

    <div class="section">
        <h2>ğŸ“Œ Heap Nedir?</h2>
        <p><strong>Heap</strong>, <a href="5_tree_intro.html" style="color: #667eea;"><strong>tam ikili aÄŸaÃ§ (complete binary tree)</strong></a> ÅŸeklinde dÃ¼zenlenen ve <strong>heap Ã¶zelliÄŸi</strong>ni koruyan Ã¶zel bir veri yapÄ±sÄ±dÄ±r. En Ã¶nemli Ã¶zelliÄŸi: <strong>En bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k elemana O(1)'de eriÅŸim!</strong></p>

        <div style="background: var(--info-bg); padding: 15px; border-radius: 8px; border-left: 4px solid #2196f3; margin: 15px 0;">
            <strong>ğŸ“š Ã–n Bilgi:</strong> Heap'i anlamak iÃ§in aÄŸaÃ§ kavramlarÄ±nÄ± bilmeniz gerekir.
            <a href="5_tree_intro.html" style="color: #1565c0;">AÄŸaÃ§ Temelleri</a> sayfasÄ±nda derinlik, yÃ¼kseklik, complete binary tree gibi kavramlarÄ± Ã¶ÄŸrenebilirsiniz.
        </div>

        <div class="term-box">
            <h4 style="margin-top: 0; color: #667eea;">ğŸ“š Temel Terimler</h4>
            <div class="term-item">
                <strong>Tam Ä°kili AÄŸaÃ§ (Complete Binary Tree):</strong> TÃ¼m seviyeler tamamen dolu, son seviye soldan saÄŸa doldurulur. Bu sayede dizi ile temsil edilebilir!
            </div>
            <div class="term-item">
                <strong>Heap Ã–zelliÄŸi:</strong> Her parent dÃ¼ÄŸÃ¼m, Ã§ocuklarÄ±ndan bÃ¼yÃ¼k (max heap) veya kÃ¼Ã§Ã¼k (min heap) olmalÄ±.
            </div>
            <div class="term-item">
                <strong>Priority Queue:</strong> Ã–ncelik kuyruÄŸu. Her elemana Ã¶ncelik atanÄ±r, en yÃ¼ksek Ã¶ncelikli eleman ilk Ã§Ä±kar. Heap ile O(log n) ekleme/Ã§Ä±karma.
            </div>
        </div>

        <div class="heap-types">
            <div class="heap-type max-heap">
                <h4 style="color: #c62828; margin-top: 0;">ğŸ”º Max Heap (Azami YÄ±ÄŸÄ±n)</h4>
                <p>Her dÃ¼ÄŸÃ¼m â‰¥ Ã§ocuklarÄ±</p>
                <p style="font-size: 2.5em; margin: 15px 0;">KÃ¶k = En BÃ¼yÃ¼k</p>
                <p style="margin: 0; font-family: monospace;">parent(i) â‰¥ child(i)</p>
            </div>
            <div class="heap-type min-heap">
                <h4 style="color: #1565c0; margin-top: 0;">ğŸ”» Min Heap (Asgari YÄ±ÄŸÄ±n)</h4>
                <p>Her dÃ¼ÄŸÃ¼m â‰¤ Ã§ocuklarÄ±</p>
                <p style="font-size: 2.5em; margin: 15px 0;">KÃ¶k = En KÃ¼Ã§Ã¼k</p>
                <p style="margin: 0; font-family: monospace;">parent(i) â‰¤ child(i)</p>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸŒ³ Heap GÃ¶rselleÅŸtirmesi</h2>

        <div class="heap-visual">
            <h3 style="text-align: center;">Max Heap Ã–rneÄŸi (15 ElemanlÄ±)</h3>

            <svg width="800" height="450" viewBox="0 0 800 450" style="display: block; margin: 20px auto;">
                <defs>
                    <linearGradient id="gradRed" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="gradBlue" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                    </linearGradient>
                </defs>

                <!-- Level 0: Root (90) -->
                <line x1="400" y1="40" x2="200" y2="120" stroke="#999" stroke-width="2" />
                <line x1="400" y1="40" x2="600" y2="120" stroke="#999" stroke-width="2" />

                <!-- Level 1: (85, 70) -->
                <line x1="200" y1="120" x2="100" y2="200" stroke="#999" stroke-width="2" />
                <line x1="200" y1="120" x2="300" y2="200" stroke="#999" stroke-width="2" />
                <line x1="600" y1="120" x2="500" y2="200" stroke="#999" stroke-width="2" />
                <line x1="600" y1="120" x2="700" y2="200" stroke="#999" stroke-width="2" />

                <!-- Level 2: (40, 80, 30, 25) -->
                <line x1="100" y1="200" x2="50" y2="300" stroke="#999" stroke-width="2" />
                <line x1="100" y1="200" x2="150" y2="300" stroke="#999" stroke-width="2" />
                <line x1="300" y1="200" x2="250" y2="300" stroke="#999" stroke-width="2" />
                <line x1="300" y1="200" x2="350" y2="300" stroke="#999" stroke-width="2" />
                <line x1="500" y1="200" x2="450" y2="300" stroke="#999" stroke-width="2" />
                <line x1="500" y1="200" x2="550" y2="300" stroke="#999" stroke-width="2" />
                <line x1="700" y1="200" x2="650" y2="300" stroke="#999" stroke-width="2" />
                <line x1="700" y1="200" x2="750" y2="300" stroke="#999" stroke-width="2" />

                <!-- Level 3: (10, 35, 75, 50, 20, 15, 5, 22) - Only 7 nodes -->
                <line x1="50" y1="300" x2="25" y2="400" stroke="#999" stroke-width="2" />
                <line x1="50" y1="300" x2="75" y2="400" stroke="#999" stroke-width="2" />
                <line x1="150" y1="300" x2="125" y2="400" stroke="#999" stroke-width="2" />
                <line x1="150" y1="300" x2="175" y2="400" stroke="#999" stroke-width="2" />
                <line x1="250" y1="300" x2="225" y2="400" stroke="#999" stroke-width="2" />
                <line x1="250" y1="300" x2="275" y2="400" stroke="#999" stroke-width="2" />
                <line x1="350" y1="300" x2="325" y2="400" stroke="#999" stroke-width="2" />

                <!-- Nodes - Level 0 -->
                <circle cx="400" cy="40" r="25" fill="url(#gradRed)" />
                <text x="400" y="45" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">90</text>
                <text x="400" y="15" text-anchor="middle" fill="#666" font-size="11">[0]</text>

                <!-- Nodes - Level 1 -->
                <circle cx="200" cy="120" r="25" fill="url(#gradBlue)" />
                <text x="200" y="125" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">85</text>
                <text x="200" y="95" text-anchor="middle" fill="#666" font-size="11">[1]</text>

                <circle cx="600" cy="120" r="25" fill="url(#gradBlue)" />
                <text x="600" y="125" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">70</text>
                <text x="600" y="95" text-anchor="middle" fill="#666" font-size="11">[2]</text>

                <!-- Nodes - Level 2 -->
                <circle cx="100" cy="200" r="25" fill="url(#gradBlue)" />
                <text x="100" y="205" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">40</text>
                <text x="100" y="175" text-anchor="middle" fill="#666" font-size="11">[3]</text>

                <circle cx="300" cy="200" r="25" fill="url(#gradBlue)" />
                <text x="300" y="205" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">80</text>
                <text x="300" y="175" text-anchor="middle" fill="#666" font-size="11">[4]</text>

                <circle cx="500" cy="200" r="25" fill="url(#gradBlue)" />
                <text x="500" y="205" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">30</text>
                <text x="500" y="175" text-anchor="middle" fill="#666" font-size="11">[5]</text>

                <circle cx="700" cy="200" r="25" fill="url(#gradBlue)" />
                <text x="700" y="205" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">25</text>
                <text x="700" y="175" text-anchor="middle" fill="#666" font-size="11">[6]</text>

                <!-- Nodes - Level 3 -->
                <circle cx="25" cy="400" r="25" fill="url(#gradBlue)" />
                <text x="25" y="405" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">10</text>
                <text x="25" y="375" text-anchor="middle" fill="#666" font-size="11">[7]</text>

                <circle cx="75" cy="400" r="25" fill="url(#gradBlue)" />
                <text x="75" y="405" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">35</text>
                <text x="75" y="375" text-anchor="middle" fill="#666" font-size="11">[8]</text>

                <circle cx="125" cy="400" r="25" fill="url(#gradBlue)" />
                <text x="125" y="405" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">75</text>
                <text x="125" y="375" text-anchor="middle" fill="#666" font-size="11">[9]</text>

                <circle cx="175" cy="400" r="25" fill="url(#gradBlue)" />
                <text x="175" y="405" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">50</text>
                <text x="175" y="375" text-anchor="middle" fill="#666" font-size="11">[10]</text>

                <circle cx="225" cy="400" r="25" fill="url(#gradBlue)" />
                <text x="225" y="405" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">20</text>
                <text x="225" y="375" text-anchor="middle" fill="#666" font-size="11">[11]</text>

                <circle cx="275" cy="400" r="25" fill="url(#gradBlue)" />
                <text x="275" y="405" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">15</text>
                <text x="275" y="375" text-anchor="middle" fill="#666" font-size="11">[12]</text>

                <circle cx="325" cy="400" r="25" fill="url(#gradBlue)" />
                <text x="325" y="405" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">5</text>
                <text x="325" y="375" text-anchor="middle" fill="#666" font-size="11">[13]</text>

                <!-- Note: Only 14 elements total (0-13), last element at [14] omitted for proper complete tree -->
                <circle cx="375" cy="400" r="25" fill="url(#gradBlue)" />
                <text x="375" y="405" text-anchor="middle" dominant-baseline="middle" fill="white" font-weight="bold" font-size="16">22</text>
                <text x="375" y="375" text-anchor="middle" fill="#666" font-size="11">[14]</text>
            </svg>

            <h4 style="text-align: center; margin-top: 30px;">ğŸ“¦ Dizi Temsili</h4>
            <div class="array-rep">
                <div class="array-cell root"><span class="idx">0</span>90</div>
                <div class="array-cell"><span class="idx">1</span>85</div>
                <div class="array-cell"><span class="idx">2</span>70</div>
                <div class="array-cell"><span class="idx">3</span>40</div>
                <div class="array-cell"><span class="idx">4</span>80</div>
                <div class="array-cell"><span class="idx">5</span>30</div>
                <div class="array-cell"><span class="idx">6</span>25</div>
                <div class="array-cell"><span class="idx">7</span>10</div>
                <div class="array-cell"><span class="idx">8</span>35</div>
                <div class="array-cell"><span class="idx">9</span>75</div>
                <div class="array-cell"><span class="idx">10</span>50</div>
                <div class="array-cell"><span class="idx">11</span>20</div>
                <div class="array-cell"><span class="idx">12</span>15</div>
                <div class="array-cell"><span class="idx">13</span>5</div>
                <div class="array-cell"><span class="idx">14</span>22</div>
            </div>

            <p style="text-align: center; color: #666; margin-top: 10px;">
                Heap tam ikili aÄŸaÃ§ olduÄŸu iÃ§in, dizi ile verimli temsil edilir. Pointer gerekmez!
            </p>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ”¢ Ä°ndeks FormÃ¼lleri</h2>
        <p>Heap'i dizi olarak tutarken, parent-child iliÅŸkileri matematiksel formÃ¼llerle bulunur:</p>

        <div class="formula-box">
            <p><strong>i indeksindeki dÃ¼ÄŸÃ¼m iÃ§in (0-tabanlÄ± / 0-indexed):</strong></p>
            <ul style="list-style: none; padding-left: 0; margin: 0;">
                <li>ğŸ‘† <strong>Parent indeksi (Parent index):</strong> <code>(i - 1) // 2</code></li>
                <li>ğŸ‘ˆ <strong>Sol Ã§ocuk indeksi (Left child index):</strong> <code>2 * i + 1</code></li>
                <li>ğŸ‘‰ <strong>SaÄŸ Ã§ocuk indeksi (Right child index):</strong> <code>2 * i + 2</code></li>
            </ul>
        </div>

        <div class="code-container">
            <div class="code-header">
                <span>Ä°ndeks Hesaplama Ã–rnekleri</span>
                <button class="btn btn-run" onclick="CodeBlocks.run('code0')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
            </div>
            <pre id="view-code0"><code class="language-python line-numbers"># Heap indeks formÃ¼lleri

def parent(i):
    """i'nin parent indeksini dÃ¶ndÃ¼r"""
    return (i - 1) // 2

def left_child(i):
    """i'nin sol Ã§ocuk indeksini dÃ¶ndÃ¼r"""
    return 2 * i + 1

def right_child(i):
    """i'nin saÄŸ Ã§ocuk indeksini dÃ¶ndÃ¼r"""
    return 2 * i + 2

# Heap dizisi
heap = [90, 85, 70, 40, 80, 30, 25, 10, 35, 75, 50, 20, 15, 5, 22]
print(f"Heap: {heap}")
print(f"Boyut: {len(heap)} eleman\n")

# Ã–rnek hesaplamalar
for i in [0, 1, 4, 7]:
    print(f"=== Ä°ndeks {i} (deÄŸer: {heap[i]}) ===")

    p = parent(i)
    l = left_child(i)
    r = right_child(i)

    if i > 0:
        print(f"  Parent: indeks {p} â†’ deÄŸer {heap[p]}")
    else:
        print(f"  Parent: KÃ¶k dÃ¼ÄŸÃ¼m, parent yok")

    if l < len(heap):
        print(f"  Sol Ã§ocuk: indeks {l} â†’ deÄŸer {heap[l]}")
    else:
        print(f"  Sol Ã§ocuk: yok (yaprak dÃ¼ÄŸÃ¼m)")

    if r < len(heap):
        print(f"  SaÄŸ Ã§ocuk: indeks {r} â†’ deÄŸer {heap[r]}")
    else:
        print(f"  SaÄŸ Ã§ocuk: yok")
    print()</code></pre>
            <div id="output-code0" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ® Ä°nteraktif Min Heap SimÃ¼lasyonu</h2>

        <div class="heap-visual">
            <canvas id="heapCanvas" width="700" height="350" style="display: block; margin: 20px auto; border: 1px solid #ddd; border-radius: 10px;"></canvas>

            <h4 style="text-align: center; margin-top: 30px;">ğŸ“¦ Dizi Temsili</h4>
            <div class="array-rep" id="heapArray">
                <!-- JS ile doldurulacak -->
            </div>

            <div class="controls">
                <input type="number" id="heapInput" placeholder="DeÄŸer" min="1" max="99">
                <button class="btn btn-run" onclick="heapInsert()">â• Ekle (Insert)</button>
                <button class="btn" onclick="heapExtract()">â¬†ï¸ Min Ã‡Ä±kar (Extract)</button>
                <button class="btn" onclick="heapPeek()" style="background: #9b59b6;">ğŸ‘ï¸ Peek (Min GÃ¶r)</button>
                <button class="btn btn-reset" onclick="heapReset()">ğŸ”„ SÄ±fÄ±rla</button>
            </div>
            <p id="heapMsg" style="text-align: center; margin-top: 10px; font-weight: bold; min-height: 40px;"></p>
        </div>
    </div>

    <div class="section">
        <h2>âš™ï¸ Temel Ä°ÅŸlemler</h2>

        <div class="operation-visual">
            <h3>1. Insert / Ekleme - Heapify Up (YukarÄ± YÃ¼zdÃ¼rme)</h3>
            <ol>
                <li><strong>Sona ekle:</strong> Yeni elemanÄ± dizinin sonuna ekle</li>
                <li><strong>Heapify Up (YukarÄ± yÃ¼zdÃ¼r):</strong> Parent (ebeveyn) ile karÅŸÄ±laÅŸtÄ±r
                    <ul>
                        <li>Min Heap: Parent > yeni eleman ise takas yap</li>
                        <li>Max Heap: Parent < yeni eleman ise takas yap</li>
                    </ul>
                </li>
                <li><strong>Tekrarla:</strong> KÃ¶ke (root) ulaÅŸana veya heap Ã¶zelliÄŸi saÄŸlanana kadar yukarÄ± Ã§Ä±k</li>
            </ol>
            <p style="margin-bottom: 0;"><strong>KarmaÅŸÄ±klÄ±k (Complexity):</strong> O(log n) - En fazla aÄŸaÃ§ yÃ¼ksekliÄŸi kadar takas</p>
        </div>

        <div class="operation-visual">
            <h3>2. Extract Min/Max (KÃ¶kÃ¼ Ã‡Ä±karma) - Heapify Down (AÅŸaÄŸÄ± BatÄ±rma)</h3>
            <ol>
                <li><strong>KÃ¶kÃ¼ al:</strong> En Ã¼stteki elemanÄ± kaydet (min veya max)</li>
                <li><strong>Son elemanÄ± kÃ¶ke taÅŸÄ±:</strong> Dizinin son elemanÄ±nÄ± kÃ¶ke (root) koy</li>
                <li><strong>Heapify Down (AÅŸaÄŸÄ± batÄ±r):</strong> Ã‡ocuklarla (children) karÅŸÄ±laÅŸtÄ±r
                    <ul>
                        <li>Min Heap: KÃ¼Ã§Ã¼k Ã§ocukla takas yap (eÄŸer parent > Ã§ocuk)</li>
                        <li>Max Heap: BÃ¼yÃ¼k Ã§ocukla takas yap (eÄŸer parent < Ã§ocuk)</li>
                    </ul>
                </li>
                <li><strong>Tekrarla:</strong> Yaprak dÃ¼ÄŸÃ¼me (leaf node) ulaÅŸana veya heap Ã¶zelliÄŸi saÄŸlanana kadar aÅŸaÄŸÄ± in</li>
            </ol>
            <p style="margin-bottom: 0;"><strong>KarmaÅŸÄ±klÄ±k (Complexity):</strong> O(log n) - En fazla aÄŸaÃ§ yÃ¼ksekliÄŸi kadar takas</p>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ“Š Zaman KarmaÅŸÄ±klÄ±ÄŸÄ±</h2>

        <table class="complexity-table">
            <thead>
                <tr>
                    <th>Ä°ÅŸlem</th>
                    <th>Zaman</th>
                    <th>AÃ§Ä±klama</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Find Min/Max (Peek / GÃ¶zetleme)</strong></td>
                    <td style="color: #27ae60; font-weight: bold;">O(1)</td>
                    <td>KÃ¶k her zaman min/max, direkt oku</td>
                </tr>
                <tr style="background: var(--secondary-bg);">
                    <td><strong>Insert / Push (Ekleme)</strong></td>
                    <td style="color: #27ae60; font-weight: bold;">O(log n)</td>
                    <td>Sona ekle + heapify up (yukarÄ± yÃ¼zdÃ¼r)</td>
                </tr>
                <tr>
                    <td><strong>Extract Min/Max / Pop (Ã‡Ä±karma)</strong></td>
                    <td style="color: #27ae60; font-weight: bold;">O(log n)</td>
                    <td>KÃ¶kÃ¼ Ã§Ä±kar + heapify down (aÅŸaÄŸÄ± batÄ±r)</td>
                </tr>
                <tr style="background: var(--secondary-bg);">
                    <td><strong>Build Heap / Heapify (Heap OluÅŸturma)</strong></td>
                    <td style="color: #27ae60; font-weight: bold;">O(n)</td>
                    <td>AÅŸaÄŸÄ±dan yukarÄ±ya heapify (O(n log n) deÄŸil!)</td>
                </tr>
                <tr>
                    <td><strong>Heap Sort (Heap SÄ±ralamasÄ±)</strong></td>
                    <td style="color: #f39c12; font-weight: bold;">O(n log n)</td>
                    <td>n kez extract iÅŸlemi</td>
                </tr>
                <tr style="background: var(--secondary-bg);">
                    <td><strong>Arbitrary Search (Rastgele Arama)</strong></td>
                    <td style="color: #e74c3c; font-weight: bold;">O(n)</td>
                    <td>Rastgele eleman arama - heap bunun iÃ§in deÄŸil!</td>
                </tr>
            </tbody>
        </table>

        <div style="background: var(--info-bg); padding: 15px; border-radius: 8px; border-left: 4px solid #2196f3;">
            <strong>ğŸ’¡ Neden O(log n)?</strong>
            <p style="margin: 5px 0 0 0;">Tam ikili aÄŸacÄ±n yÃ¼ksekliÄŸi logâ‚‚(n)'dir. Heapify iÅŸlemleri en fazla yÃ¼kseklik kadar adÄ±m atar.</p>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ Python heapq ModÃ¼lÃ¼</h2>
        <p><strong>âš ï¸ Ã–nemli:</strong> Python'un heapq modÃ¼lÃ¼ <strong>sadece Min Heap</strong> destekler!</p>

        <div class="code-container">
            <div class="code-header">
                <span>heapq Temel KullanÄ±m</span>
                <button class="btn btn-run" onclick="CodeBlocks.run('code1')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
            </div>
            <pre id="view-code1"><code class="language-python line-numbers">import heapq

# ===== MIN HEAP TEMELLERÄ° =====
print("=== MIN HEAP Ä°ÅLEMLERÄ° ===\n")

# 1. BoÅŸ heap oluÅŸtur (sadece boÅŸ liste!)
heap = []

# 2. Insert / Ekleme - heappush(heap, item)
# Her ekleme sonrasÄ± heap Ã¶zelliÄŸi korunur - O(log n)
print("Ä°ÅŸlem 1: Insert (Ekleme)")
for val in [35, 10, 25, 5, 15, 30, 20]:
    heapq.heappush(heap, val)
    print(f"  {val} eklendi â†’ heap: {heap}")

# 3. Peek / Find Min - En kÃ¼Ã§Ã¼ÄŸe bakma (silmeden)
# Sadece heap[0] okumak - O(1)
print(f"\nÄ°ÅŸlem 2: Peek / Find Min (GÃ¶zetleme)")
print(f"  En kÃ¼Ã§Ã¼k eleman: {heap[0]} â† Sadece bak, silme!")
print(f"  Heap deÄŸiÅŸmedi: {heap}")

# 4. Extract Min - En kÃ¼Ã§Ã¼ÄŸÃ¼ Ã§Ä±karma
# heappop(heap) - O(log n)
print(f"\nÄ°ÅŸlem 3: Extract Min (Minimum Ã‡Ä±karma)")
min_val = heapq.heappop(heap)
print(f"  Ã‡Ä±karÄ±lan: {min_val}")
print(f"  Yeni min: {heap[0]}, Heap: {heap}")

# 5. TÃ¼m elemanlarÄ± sÄ±rayla Ã§Ä±kar
print("\nTÃ¼m elemanlarÄ± Ã§Ä±karÄ±yoruz (sÄ±ralÄ± Ã§Ä±kacak!):")
result = [min_val]  # Ä°lk Ã§Ä±kanÄ± da ekle
while heap:
    result.append(heapq.heappop(heap))

print(f"Ã‡Ä±kÄ±ÅŸ sÄ±rasÄ± (kÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸe): {result}")</code></pre>
            <div id="output-code1" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ”„ Listeden Heap OluÅŸturma</h2>

        <div class="code-container">
            <div class="code-header">
                <span>heapify ve DiÄŸer Fonksiyonlar</span>
                <button class="btn btn-run" onclick="CodeBlocks.run('code2')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
            </div>
            <pre id="view-code2"><code class="language-python line-numbers">import heapq

# ===== HEAPIFY - Listeyi Heap'e Ã‡evir =====
print("=== HEAPIFY ===")

# Normal liste
data = [35, 10, 25, 5, 15, 30, 20, 8, 12]
print(f"Orijinal liste: {data}")

# heapify() - Listeyi IN-PLACE heap'e Ã§evirir
# KarmaÅŸÄ±klÄ±k: O(n) - tek tek eklemekten daha hÄ±zlÄ±!
heapq.heapify(data)
print(f"Heapify sonrasÄ±: {data}")
print(f"Minimum: {data[0]}")

# ===== EN BÃœYÃœK/KÃœÃ‡ÃœK N ELEMAN =====
print("\n=== NLARGEST / NSMALLEST ===")

numbers = [64, 34, 25, 12, 22, 11, 90, 45, 78, 55]
print(f"Liste: {numbers}")

# nlargest(n, iterable) - En bÃ¼yÃ¼k n eleman
# nsmallest(n, iterable) - En kÃ¼Ã§Ã¼k n eleman
print(f"En bÃ¼yÃ¼k 3: {heapq.nlargest(3, numbers)}")
print(f"En kÃ¼Ã§Ã¼k 3: {heapq.nsmallest(3, numbers)}")

# ===== HEAPPUSHPOP ve HEAPREPLACE =====
print("\n=== Ã–ZEL FONKSÄ°YONLAR ===")

heap = [5, 10, 15, 20]
heapq.heapify(heap)
print(f"BaÅŸlangÄ±Ã§ heap: {heap}")

# heappushpop(heap, item): Ã–nce ekle, sonra en kÃ¼Ã§Ã¼ÄŸÃ¼ Ã§Ä±kar
# push ve pop'tan daha verimli!
result = heapq.heappushpop(heap, 3)
print(f"heappushpop(3): Ã§Ä±kan={result}, heap={heap}")

# heapreplace(heap, item): Ã–nce en kÃ¼Ã§Ã¼ÄŸÃ¼ Ã§Ä±kar, sonra ekle
result = heapq.heapreplace(heap, 25)
print(f"heapreplace(25): Ã§Ä±kan={result}, heap={heap}")</code></pre>
            <div id="output-code2" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ”º Max Heap NasÄ±l YapÄ±lÄ±r?</h2>
        <p>Python heapq sadece min heap destekler. Max heap iÃ§in <strong>negatif deÄŸerler</strong> trick'i kullanÄ±lÄ±r!</p>

        <div class="code-container">
            <div class="code-header">
                <span>Max Heap Wrapper SÄ±nÄ±fÄ±</span>
                <button class="btn btn-run" onclick="CodeBlocks.run('code3')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
            </div>
            <pre id="view-code3"><code class="language-python line-numbers">import heapq

class MaxHeap:
    """
    Python heapq min heap olduÄŸu iÃ§in,
    deÄŸerleri negatif yaparak max heap simÃ¼le ederiz.

    MantÄ±k: -90 < -85 < -70 olduÄŸu iÃ§in,
    min heap'te -90 en Ã¼stte olur = aslÄ±nda 90 en bÃ¼yÃ¼k!
    """

    def __init__(self):
        self._heap = []  # Alt Ã§izgi: "private" deÄŸiÅŸken

    def push(self, val):
        """DeÄŸer ekle"""
        # Negatifini ekle
        heapq.heappush(self._heap, -val)

    def pop(self):
        """En bÃ¼yÃ¼k deÄŸeri Ã§Ä±kar ve dÃ¶ndÃ¼r"""
        # Negatifi Ã§Ä±kar, pozitife Ã§evir
        return -heapq.heappop(self._heap)

    def peek(self):
        """En bÃ¼yÃ¼k deÄŸere bak (silmeden)"""
        if self._heap:
            return -self._heap[0]
        return None

    def __len__(self):
        """len() fonksiyonu iÃ§in"""
        return len(self._heap)

    def __bool__(self):
        """bool() dÃ¶nÃ¼ÅŸÃ¼mÃ¼ iÃ§in - boÅŸ mu?"""
        return len(self._heap) > 0

# Test
print("=== MAX HEAP KULLANIMI ===\n")

max_heap = MaxHeap()

# Eklemeler
for val in [35, 10, 90, 25, 5, 70]:
    max_heap.push(val)
    print(f"Push({val}) â†’ En bÃ¼yÃ¼k: {max_heap.peek()}")

print(f"\nHeap boyutu: {len(max_heap)}")

# Ã‡Ä±karmalar
print("\nÃ‡Ä±karmalar (bÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe):")
while max_heap:  # __bool__ sayesinde Ã§alÄ±ÅŸÄ±r
    print(f"  Pop: {max_heap.pop()}")</code></pre>
            <div id="output-code3" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>

        <div class="term-box">
            <h4 style="margin-top: 0; color: #667eea;">ğŸ“ Python Syntax AÃ§Ä±klamalarÄ±</h4>
            <div class="term-item">
                <strong>_ prefix (_heap):</strong> Python'da alt Ã§izgi ile baÅŸlayan deÄŸiÅŸkenler "private" kabul edilir. DÄ±ÅŸarÄ±dan eriÅŸilmemesi gerektiÄŸini belirtir (ama engellemez).
            </div>
            <div class="term-item">
                <strong>__len__(self):</strong> Ã–zel method. <code>len(obj)</code> Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda bu method Ã§alÄ±ÅŸÄ±r.
            </div>
            <div class="term-item">
                <strong>__bool__(self):</strong> Ã–zel method. <code>if obj:</code> veya <code>bool(obj)</code> Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda bu method Ã§alÄ±ÅŸÄ±r.
            </div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ† Heap Sort AlgoritmasÄ±</h2>

        <div class="code-container">
            <div class="code-header">
                <span>Heap Sort Implementasyonu</span>
                <button class="btn btn-run" onclick="CodeBlocks.run('code4')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
            </div>
            <pre id="view-code4"><code class="language-python line-numbers">import heapq

def heap_sort(arr):
    """
    Heap Sort - O(n log n) garantili

    Algoritma:
    1. Diziyi heap'e Ã§evir - O(n)
    2. Tek tek Ã§Ä±kar (her Ã§Ä±karma O(log n)) - O(n log n)

    Toplam: O(n log n)
    """
    # 1. Heap oluÅŸtur (in-place)
    heap = arr.copy()
    heapq.heapify(heap)  # O(n)

    # 2. Tek tek Ã§Ä±kar
    result = []
    while heap:
        result.append(heapq.heappop(heap))  # O(log n)

    return result

# Test
original = [64, 34, 25, 12, 22, 11, 90, 45]
print(f"Orijinal: {original}")

sorted_arr = heap_sort(original)
print(f"SÄ±ralÄ±:   {sorted_arr}")

# ===== HEAP SORT Ã–ZELLÄ°KLERÄ° =====
print("\n" + "="*50)
print("HEAP SORT KARÅILAÅTIRMA")
print("="*50)

comparisons = [
    ("Zaman (her durum)", "O(n log n)", "Quick Sort en kÃ¶tÃ¼ O(nÂ²)"),
    ("Alan", "O(1) in-place", "Merge Sort O(n) ek alan"),
    ("Stabilite", "âŒ Stabil deÄŸil", "Merge Sort stabil"),
    ("Cache", "âŒ Cache-unfriendly", "Quick Sort cache-friendly"),
    ("Pratikte", "Genelde yavaÅŸ", "Quick Sort tercih edilir"),
]

for ozellik, heap, karsilastirma in comparisons:
    print(f"\n{ozellik}:")
    print(f"  Heap Sort: {heap}")
    print(f"  Not: {karsilastirma}")</code></pre>
            <div id="output-code4" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>

        <div class="term-box">
            <h4 style="margin-top: 0; color: #667eea;">ğŸ“š Terimler AÃ§Ä±klamasÄ±</h4>
            <div class="term-item">
                <strong>In-place:</strong> Ek bellek kullanmadan, mevcut dizi Ã¼zerinde iÅŸlem yapma. Heap sort gerÃ§ek implementasyonda O(1) ek alan kullanÄ±r.
            </div>
            <div class="term-item">
                <strong>Cache-friendly:</strong> CPU Ã¶nbelleÄŸi, ardÄ±ÅŸÄ±k bellek adreslerini Ã¶nceden yÃ¼kler. Heap'te parent-child atlama olduÄŸu iÃ§in cache miss (Ä±skalama) fazla olur â†’ yavaÅŸ.
            </div>
            <div class="term-item">
                <strong>Stabil sÄ±ralama:</strong> EÅŸit deÄŸerli elemanlarÄ±n orijinal sÄ±rasÄ± korunur. Heap sort'ta elemanlar yer deÄŸiÅŸtirirken bu sÄ±ra bozulabilir.
            </div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ§© Pratik Ã–rnekler</h2>

        <h3>Ã–rnek 1: K. En BÃ¼yÃ¼k Eleman</h3>
        <div class="code-container">
            <div class="code-header">
                <span>Kth Largest Element</span>
                <button class="btn btn-run" onclick="CodeBlocks.run('code5')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
            </div>
            <pre id="view-code5"><code class="language-python line-numbers">import heapq

def kth_largest(nums, k):
    """
    Dizideki k. en bÃ¼yÃ¼k elemanÄ± bul.

    YÃ¶ntem 1: SÄ±rala ve k. elemanÄ± al - O(n log n)
    YÃ¶ntem 2: Min heap ile - O(n log k)

    Min heap kullanarak: k elemanlÄ± heap tut,
    yeni eleman heap'in minimumundan bÃ¼yÃ¼kse deÄŸiÅŸtir.
    Sonunda heap'in kÃ¶kÃ¼ k. en bÃ¼yÃ¼k!
    """
    # k elemanlÄ± min heap oluÅŸtur
    min_heap = nums[:k]
    heapq.heapify(min_heap)

    # Kalan elemanlarÄ± iÅŸle
    for num in nums[k:]:
        if num > min_heap[0]:  # Heap'in minimumundan bÃ¼yÃ¼kse
            heapq.heapreplace(min_heap, num)  # DeÄŸiÅŸtir

    # Heap'in kÃ¶kÃ¼ k. en bÃ¼yÃ¼k
    return min_heap[0]

# Test
nums = [3, 2, 1, 5, 6, 4]
k = 2
print(f"Dizi: {nums}")
print(f"{k}. en bÃ¼yÃ¼k: {kth_largest(nums, k)}")  # 5

nums2 = [3, 2, 3, 1, 2, 4, 5, 5, 6]
k2 = 4
print(f"\nDizi: {nums2}")
print(f"{k2}. en bÃ¼yÃ¼k: {kth_largest(nums2, k2)}")  # 4</code></pre>
            <div id="output-code5" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>

        <h3>Ã–rnek 2: K SÄ±ralÄ± Listeyi BirleÅŸtirme</h3>
        <div class="code-container">
            <div class="code-header">
                <span>Merge K Sorted Lists</span>
                <button class="btn btn-run" onclick="CodeBlocks.run('code6')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
            </div>
            <pre id="view-code6"><code class="language-python line-numbers">import heapq

def merge_k_lists(lists):
    """
    K adet sÄ±ralÄ± listeyi tek sÄ±ralÄ± listede birleÅŸtir.

    Heap kullanarak O(n log k):
    - Her listeden bir eleman heap'e
    - Her seferinde minimum Ã§Ä±kar, o listeden sonrakini ekle
    """
    result = []

    # (deÄŸer, liste_indeksi, eleman_indeksi) tuple'larÄ±
    # Heap tuple'larÄ± ilk elemana gÃ¶re karÅŸÄ±laÅŸtÄ±rÄ±r
    min_heap = []

    # Her listeden ilk elemanÄ± ekle
    for i, lst in enumerate(lists):
        if lst:  # BoÅŸ liste kontrolÃ¼
            heapq.heappush(min_heap, (lst[0], i, 0))

    while min_heap:
        val, list_idx, elem_idx = heapq.heappop(min_heap)
        result.append(val)

        # O listeden sonraki eleman varsa ekle
        if elem_idx + 1 < len(lists[list_idx]):
            next_val = lists[list_idx][elem_idx + 1]
            heapq.heappush(min_heap, (next_val, list_idx, elem_idx + 1))

    return result

# Test
lists = [
    [1, 4, 5],
    [1, 3, 4],
    [2, 6]
]

print("GiriÅŸ listeleri:")
for i, lst in enumerate(lists):
    print(f"  Liste {i+1}: {lst}")

merged = merge_k_lists(lists)
print(f"\nBirleÅŸik: {merged}")</code></pre>
            <div id="output-code6" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸŒ GerÃ§ek Hayat KullanÄ±m AlanlarÄ±</h2>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 20px 0;">
            <div style="background: var(--info-bg); padding: 20px; border-radius: 10px;">
                <h4 style="margin-top: 0; color: #1565c0;">â­ Priority Queue (Ä°ÅŸletim Sistemleri)</h4>
                <p style="margin-bottom: 0;">Ä°ÅŸlemci zamanlamasÄ±: YÃ¼ksek Ã¶ncelikli process'ler Ã¶nce Ã§alÄ±ÅŸÄ±r. Linux kernel heap kullanÄ±r.</p>
            </div>
            <div style="background: var(--success-bg); padding: 20px; border-radius: 10px;">
                <h4 style="margin-top: 0; color: #2e7d32;">ğŸ—ºï¸ Dijkstra AlgoritmasÄ±</h4>
                <p style="margin-bottom: 0;">En kÄ±sa yol bulma: Her adÄ±mda en kÃ¼Ã§Ã¼k mesafeli dÃ¼ÄŸÃ¼mÃ¼ seÃ§. Min heap ile O(E log V).</p>
            </div>
            <div style="background: var(--warning-bg); padding: 20px; border-radius: 10px;">
                <h4 style="margin-top: 0; color: #e65100;">ğŸ“ˆ Running Median</h4>
                <p style="margin-bottom: 0;">Akan veride medyan: Ä°ki heap (max + min) kullanarak O(log n) gÃ¼ncelleme.</p>
            </div>
            <div style="background: #fce4ec; padding: 20px; border-radius: 10px;">
                <h4 style="margin-top: 0; color: #c2185b;">ğŸ”§ Huffman Coding</h4>
                <p style="margin-bottom: 0;">Veri sÄ±kÄ±ÅŸtÄ±rma: En az frekansa sahip iki dÃ¼ÄŸÃ¼mÃ¼ birleÅŸtir. Min heap ile verimli.</p>
            </div>
            <div style="background: var(--purple-bg); padding: 20px; border-radius: 10px;">
                <h4 style="margin-top: 0; color: #7b1fa2;">ğŸ® Event-Driven Simulation</h4>
                <p style="margin-bottom: 0;">Oyun motorlarÄ±: OlaylarÄ± zamana gÃ¶re sÄ±rala, en yakÄ±n olayÄ± iÅŸle.</p>
            </div>
            <div style="background: #e0f7fa; padding: 20px; border-radius: 10px;">
                <h4 style="margin-top: 0; color: #00838f;">ğŸ“Š Top-K Problemleri</h4>
                <p style="margin-bottom: 0;">En Ã§ok aranan kelimeler, en yÃ¼ksek puanlÄ± oyuncular, trending topics...</p>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ†š Heap vs DiÄŸer Veri YapÄ±larÄ±</h2>

        <table class="complexity-table">
            <thead>
                <tr>
                    <th>Ä°ÅŸlem</th>
                    <th>SÄ±rasÄ±z Dizi</th>
                    <th>SÄ±ralÄ± Dizi</th>
                    <th>BST (Dengeli)</th>
                    <th>Heap</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Find Min/Max (Min/Max Bulma)</td>
                    <td>O(n)</td>
                    <td style="color: #27ae60;">O(1)</td>
                    <td>O(log n)</td>
                    <td style="color: #27ae60; font-weight: bold;">O(1)</td>
                </tr>
                <tr style="background: var(--secondary-bg);">
                    <td>Insert (Ekleme)</td>
                    <td style="color: #27ae60;">O(1)</td>
                    <td>O(n)</td>
                    <td>O(log n)</td>
                    <td style="color: #27ae60; font-weight: bold;">O(log n)</td>
                </tr>
                <tr>
                    <td>Extract Min/Max (Min/Max Ã‡Ä±karma)</td>
                    <td>O(n)</td>
                    <td style="color: #27ae60;">O(1)*</td>
                    <td>O(log n)</td>
                    <td style="color: #27ae60; font-weight: bold;">O(log n)</td>
                </tr>
                <tr style="background: var(--secondary-bg);">
                    <td>Search Arbitrary (Rastgele Arama)</td>
                    <td>O(n)</td>
                    <td>O(log n)</td>
                    <td style="color: #27ae60; font-weight: bold;">O(log n)</td>
                    <td style="color: #e74c3c;">O(n)</td>
                </tr>
                <tr>
                    <td>Build from n elements (n Elemandan OluÅŸturma)</td>
                    <td>O(n)</td>
                    <td>O(n log n)</td>
                    <td>O(n log n)</td>
                    <td style="color: #27ae60; font-weight: bold;">O(n)</td>
                </tr>
            </tbody>
        </table>
        <p style="font-size: 0.85em; color: #666;">* Sondan Ã§Ä±karma O(1), baÅŸtan Ã§Ä±karma O(n)</p>
    </div>

    <div class="section">
        <h2>ğŸ“‹ Ã–zet</h2>

        <div style="background: var(--success-bg); padding: 25px; border-radius: 10px;">
            <h4 style="margin-top: 0; color: #2e7d32;">âœ… Heap Ne Zaman KullanÄ±lÄ±r?</h4>
            <ul>
                <li><strong>Priority Queue:</strong> Ã–ncelikli iÅŸlem sÄ±rasÄ± gerektiÄŸinde</li>
                <li><strong>Top-K:</strong> En bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k K eleman gerektiÄŸinde</li>
                <li><strong>Medyan:</strong> Akan veride medyan takibi</li>
                <li><strong>Graf AlgoritmalarÄ±:</strong> Dijkstra, Prim algoritmalarÄ±</li>
            </ul>

            <h4 style="color: #c62828; margin-top: 20px;">âŒ Heap Ne Zaman KullanÄ±lmaz?</h4>
            <ul style="margin-bottom: 0;">
                <li><strong>Rastgele arama:</strong> Belirli bir elemanÄ± bulmak O(n)</li>
                <li><strong>SÄ±ralÄ± gezinme:</strong> ElemanlarÄ± sÄ±rayla gezmek iÃ§in uygun deÄŸil</li>
                <li><strong>Range query:</strong> "10-20 arasÄ± elemanlar" gibi sorgular</li>
            </ul>
        </div>
    </div>

    <div class="nav-footer" data-auto-nav></div>
</div>
<script>
    // Min Heap SimÃ¼lasyonu
    let heapData = [5, 10, 15, 20, 30, 25, 35];
    const canvas = document.getElementById('heapCanvas');
    const ctx = canvas.getContext('2d');

    function renderHeap() {
        // Canvas aÄŸaÃ§ Ã§izimi
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        if (heapData.length === 0) {
            ctx.fillStyle = '#999';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Heap boÅŸ', canvas.width / 2, canvas.height / 2);
        } else {
            drawHeapTree();
        }

        // Dizi gÃ¶rÃ¼nÃ¼mÃ¼
        const arrayContainer = document.getElementById('heapArray');
        arrayContainer.innerHTML = '';

        heapData.forEach((val, i) => {
            const cell = document.createElement('div');
            cell.className = `array-cell ${i === 0 ? 'root' : ''}`;
            cell.innerHTML = `<span class="idx">${i}</span>${val}`;
            arrayContainer.appendChild(cell);
        });
    }

    function drawHeapTree() {
        const positions = calculatePositions();

        // Ã–nce baÄŸlantÄ±larÄ± Ã§iz (dÃ¼ÄŸÃ¼mlerin altÄ±nda kalmalÄ±)
        ctx.strokeStyle = '#999';
        ctx.lineWidth = 2;

        for (let i = 0; i < heapData.length; i++) {
            const left = 2 * i + 1;
            const right = 2 * i + 2;

            if (left < heapData.length) {
                ctx.beginPath();
                ctx.moveTo(positions[i].x, positions[i].y);
                ctx.lineTo(positions[left].x, positions[left].y);
                ctx.stroke();
            }

            if (right < heapData.length) {
                ctx.beginPath();
                ctx.moveTo(positions[i].x, positions[i].y);
                ctx.lineTo(positions[right].x, positions[right].y);
                ctx.stroke();
            }
        }

        // DÃ¼ÄŸÃ¼mleri Ã§iz
        for (let i = 0; i < heapData.length; i++) {
            const pos = positions[i];

            // Gradient fill
            const gradient = ctx.createLinearGradient(pos.x - 20, pos.y - 20, pos.x + 20, pos.y + 20);
            if (i === 0) {
                gradient.addColorStop(0, '#2ecc71');
                gradient.addColorStop(1, '#27ae60');
            } else {
                gradient.addColorStop(0, '#667eea');
                gradient.addColorStop(1, '#764ba2');
            }

            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(pos.x, pos.y, 22, 0, Math.PI * 2);
            ctx.fill();

            // DeÄŸer
            ctx.fillStyle = 'white';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(heapData[i], pos.x, pos.y);

            // Ä°ndeks
            ctx.fillStyle = '#666';
            ctx.font = '11px Arial';
            ctx.fillText(`[${i}]`, pos.x, pos.y + 35);
        }
    }

    function calculatePositions() {
        const positions = [];
        const canvasWidth = canvas.width;
        const levelHeight = 80;
        const startY = 40;

        for (let i = 0; i < heapData.length; i++) {
            const level = Math.floor(Math.log2(i + 1));
            const posInLevel = i - (Math.pow(2, level) - 1);

            // Dengeli yerleÅŸtirme
            const totalSections = Math.pow(2, level);
            const sectionWidth = canvasWidth / (totalSections * 2);
            const x = sectionWidth + (posInLevel * 2 * sectionWidth);
            const y = startY + level * levelHeight;

            positions.push({ x, y });
        }

        return positions;
    }

    function heapifyUp(i) {
        while (i > 0) {
            const parent = Math.floor((i - 1) / 2);
            if (heapData[i] < heapData[parent]) {
                [heapData[i], heapData[parent]] = [heapData[parent], heapData[i]];
                i = parent;
            } else {
                break;
            }
        }
    }

    function heapifyDown(i) {
        const n = heapData.length;
        while (true) {
            let smallest = i;
            const left = 2 * i + 1;
            const right = 2 * i + 2;

            if (left < n && heapData[left] < heapData[smallest]) smallest = left;
            if (right < n && heapData[right] < heapData[smallest]) smallest = right;

            if (smallest !== i) {
                [heapData[i], heapData[smallest]] = [heapData[smallest], heapData[i]];
                i = smallest;
            } else {
                break;
            }
        }
    }

    function heapInsert() {
        const input = document.getElementById('heapInput');
        const val = parseInt(input.value);

        if (isNaN(val) || val < 1 || val > 99) {
            document.getElementById('heapMsg').innerHTML = 'âš ï¸ 1-99 arasÄ± bir sayÄ± girin!';
            document.getElementById('heapMsg').style.color = '#e74c3c';
            return;
        }

        if (heapData.length >= 15) {
            document.getElementById('heapMsg').innerHTML = 'âš ï¸ Heap dolu (max 15 eleman)';
            document.getElementById('heapMsg').style.color = '#e74c3c';
            return;
        }

        heapData.push(val);
        heapifyUp(heapData.length - 1);
        renderHeap();

        document.getElementById('heapMsg').innerHTML = `âœ… ${val} eklendi, heapify up yapÄ±ldÄ±<br>Min: ${heapData[0]}`;
        document.getElementById('heapMsg').style.color = '#27ae60';
        input.value = '';
    }

    function heapExtract() {
        if (heapData.length === 0) {
            document.getElementById('heapMsg').innerHTML = 'âš ï¸ Heap boÅŸ!';
            document.getElementById('heapMsg').style.color = '#e74c3c';
            return;
        }

        const min = heapData[0];
        heapData[0] = heapData[heapData.length - 1];
        heapData.pop();

        if (heapData.length > 0) {
            heapifyDown(0);
        }

        renderHeap();
        document.getElementById('heapMsg').innerHTML = `â¬†ï¸ Ã‡Ä±karÄ±lan min: <b>${min}</b><br>${heapData.length > 0 ? 'Yeni min: ' + heapData[0] : 'Heap boÅŸ'}`;
        document.getElementById('heapMsg').style.color = '#667eea';
    }

    function heapPeek() {
        if (heapData.length === 0) {
            document.getElementById('heapMsg').innerHTML = 'âš ï¸ Heap boÅŸ! Peek yapÄ±lamaz.';
            document.getElementById('heapMsg').style.color = '#e74c3c';
            return;
        }

        const min = heapData[0];
        document.getElementById('heapMsg').innerHTML = `ğŸ‘ï¸ <strong>Peek (Find Min):</strong> En kÃ¼Ã§Ã¼k eleman = <b>${min}</b><br>Silmeden sadece gÃ¶rÃ¼ldÃ¼ - O(1) iÅŸlem!`;
        document.getElementById('heapMsg').style.color = '#9b59b6';

        // Root'u vurgula (kÄ±sa sÃ¼reliÄŸine)
        const arrayContainer = document.getElementById('heapArray');
        const rootCell = arrayContainer.children[0];
        if (rootCell) {
            rootCell.style.transform = 'scale(1.2)';
            rootCell.style.boxShadow = '0 0 20px rgba(155, 89, 182, 0.6)';
            setTimeout(() => {
                rootCell.style.transform = '';
                rootCell.style.boxShadow = '';
            }, 1000);
        }
    }

    function heapReset() {
        heapData = [5, 10, 15, 20, 30, 25, 35];
        renderHeap();
        document.getElementById('heapMsg').innerHTML = 'ğŸ”„ Heap sÄ±fÄ±rlandÄ±';
        document.getElementById('heapMsg').style.color = '#667eea';
    }

    renderHeap();

    // Pyodide
    let pyodideReady = false;
    let pyodide = null;
    async function main() { pyodide = await loadPyodide(); pyodideReady = true; }
    main();

    async function runPython(id) {
        if(!pyodideReady) { alert("Python yÃ¼kleniyor, lÃ¼tfen bekleyin..."); return; }
        const code = document.getElementById('view-' + id).textContent;
        const out = document.getElementById('output-' + id);
        out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
        try {
            pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
            await pyodide.runPythonAsync(code);
            out.innerText = pyodide.runPython("sys.stdout.getvalue()");
        } catch(e) { out.innerText = "Hata: " + e; }
    }
</script>
</body>
</html>


    <script src="../src/main.js"></script>
    <script src="../src/visualizations.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
