<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5.1: Ä°kili Arama AÄŸacÄ± (BST) GiriÅŸ</title>

    <!-- Unified CSS -->
    <link rel="stylesheet" href="../src/main.css">

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>

        .tree-container {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            min-height: 400px;
        }

        .tree-svg {
            max-width: 100%;
        }

        .tree-node {
            cursor: pointer;
            transition: all 0.3s;
        }

        .tree-node:hover circle {
            fill: #e74c3c;
        }

        .node-circle {
            fill: #3498db;
            stroke: #2c3e50;
            stroke-width: 2;
        }

        .node-text {
            fill: white;
            font-weight: bold;
            font-size: 14px;
        }

        .tree-edge {
            stroke: #7f8c8d;
            stroke-width: 2;
        }

        .concept-card {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .property-box {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            margin: 10px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #9b59b6;
        }

        .compare-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .compare-item {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
        }

        .compare-item.good { border-left: 5px solid #27ae60; }
        .compare-item.bad { border-left: 5px solid #e74c3c; }

        .interactive-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .interactive-controls input {
            padding: 10px 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            width: 100px;
        }
        </style>
</head>

<body>
    <div class="container">
        <!-- Theme Toggle -->
        <button class="theme-toggle" aria-label="Toggle theme">ğŸŒ™</button>

<header>
        <h1>ğŸŒ³ 5.1: Ä°kili Arama AÄŸacÄ± (BST) Nedir?</h1>
        <p>Binary Search Tree - HÄ±zlÄ± Arama iÃ§in AÄŸaÃ§ YapÄ±sÄ±</p>
    </header>

    <div class="section">
        <h2>ğŸ¤” AÄŸaÃ§ (Tree) Veri YapÄ±sÄ± Nedir?</h2>
        <p><strong>AÄŸaÃ§</strong>, hiyerarÅŸik bir veri yapÄ±sÄ±dÄ±r. Linked List'in genelleÅŸtirilmiÅŸ halidir:</p>

        <ul>
            <li><strong>Linked List:</strong> Her node â†’ 1 sonraki node</li>
            <li><strong>Binary Tree:</strong> Her node â†’ 0, 1 veya 2 Ã§ocuk node</li>
        </ul>

        <div class="concept-card">
            <h3 style="margin-top:0;">ğŸ“Œ Temel Terimler</h3>
            <ul style="margin-bottom:0;">
                <li><strong>Root (KÃ¶k):</strong> AÄŸacÄ±n en Ã¼stÃ¼ndeki node</li>
                <li><strong>Parent (Ebeveyn):</strong> Bir node'un Ã¼stÃ¼ndeki node</li>
                <li><strong>Child (Ã‡ocuk):</strong> Bir node'un altÄ±ndaki node'lar</li>
                <li><strong>Leaf (Yaprak):</strong> Ã‡ocuÄŸu olmayan node'lar</li>
                <li><strong>Height (YÃ¼kseklik):</strong> KÃ¶kten en derin yapraÄŸa mesafe</li>
            </ul>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ¯ Ä°kili Arama AÄŸacÄ± (BST) Ã–zelliÄŸi</h2>

        <div class="property-box">
            <h4 style="margin-top:0; color:#9b59b6;">ğŸ”‘ BST KuralÄ± (Ã‡ok Ã–nemli!)</h4>
            <p>Her node iÃ§in:</p>
            <ul>
                <li><strong>Sol alt aÄŸaÃ§taki</strong> TÃœM deÄŸerler &lt; node deÄŸeri</li>
                <li><strong>SaÄŸ alt aÄŸaÃ§taki</strong> TÃœM deÄŸerler &gt; node deÄŸeri</li>
            </ul>
            <p style="margin-bottom:0;">Bu kural sayesinde arama <strong>O(log n)</strong> olur!</p>
        </div>
    </div>

    <div class="tree-container">
        <h3>ğŸ® Ä°nteraktif BST GÃ¶rselleÅŸtirme</h3>

        <svg id="treeSvg" class="tree-svg" width="600" height="350"></svg>

        <div class="interactive-controls">
            <input type="number" id="insertValue" placeholder="DeÄŸer" min="1" max="99">
            <button class="btn btn-run" onclick="insertNode()">â• Ekle</button>
            <button class="btn btn-reset" onclick="resetTree()">ğŸ”„ SÄ±fÄ±rla</button>
        </div>

        <p id="treeMsg" style="color:#666; margin-top:10px;">DeÄŸer girin ve "Ekle" butonuna tÄ±klayÄ±n</p>
    </div>

    <div class="section">
        <h2>ğŸ§± Node (DÃ¼ÄŸÃ¼m) YapÄ±sÄ±</h2>
        <p>BST node'u, linked list node'una benzer ama <strong>iki</strong> referans iÃ§erir:</p>

        <div style="text-align:center; margin:20px 0;">
            <div style="display:inline-block; border:3px solid #2c3e50; border-radius:10px; overflow:hidden; background:white;">
                <div style="display:flex;">
                    <div style="padding:15px 20px; background:#e74c3c; color:white; font-size:12px;">
                        <div>LEFT</div>
                        <div style="font-size:18px;">â†</div>
                    </div>
                    <div style="padding:15px 25px; background:#3498db; color:white;">
                        <div style="font-size:12px;">DATA</div>
                        <div style="font-size:24px; font-weight:bold;">50</div>
                    </div>
                    <div style="padding:15px 20px; background:#27ae60; color:white; font-size:12px;">
                        <div>RIGHT</div>
                        <div style="font-size:18px;">â†’</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="CodeBlocks.run(\'code1\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    <button class="btn" onclick="toggleEdit('code1')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>

            <pre id="view-code1"><code class="language-python line-numbers"># BST iÃ§in Node sÄ±nÄ±fÄ±
class Node:
    def __init__(self, data):
        self.data = data      # Saklanan deÄŸer
        self.left = None      # Sol Ã§ocuÄŸa referans (kÃ¼Ã§Ã¼kler)
        self.right = None     # SaÄŸ Ã§ocuÄŸa referans (bÃ¼yÃ¼kler)

# Ã–rnek: Basit bir aÄŸaÃ§ oluÅŸturalÄ±m
#        50
#       /  \
#      30   70
#     / \   / \
#    20 40 60 80

root = Node(50)
root.left = Node(30)
root.right = Node(70)

root.left.left = Node(20)
root.left.right = Node(40)
root.right.left = Node(60)
root.right.right = Node(80)

# YapÄ±yÄ± kontrol edelim
print("ğŸŒ³ AÄŸaÃ§ YapÄ±sÄ±:")
print(f"KÃ¶k: {root.data}")
print(f"  Sol Ã§ocuk: {root.left.data}")
print(f"    Sol-sol: {root.left.left.data}")
print(f"    Sol-saÄŸ: {root.left.right.data}")
print(f"  SaÄŸ Ã§ocuk: {root.right.data}")
print(f"    SaÄŸ-sol: {root.right.left.data}")
print(f"    SaÄŸ-saÄŸ: {root.right.right.data}")

# BST kuralÄ±nÄ± kontrol edelim
print("\nâœ… BST KuralÄ± KontrolÃ¼:")
print(f"  30 < 50 < 70? {root.left.data} < {root.data} < {root.right.data}")
print(f"  20 < 30 < 40? {root.left.left.data} < {root.left.data} < {root.left.right.data}")
print(f"  60 < 70 < 80? {root.right.left.data} < {root.right.data} < {root.right.right.data}")</code></pre>

            

            <div id="output-code1" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ“Š Neden BST? Performans KarÅŸÄ±laÅŸtÄ±rmasÄ±</h2>

        <div class="compare-grid">
            <div class="compare-item bad">
                <h4 style="margin-top:0; color:#e74c3c;">ğŸ“‹ SÄ±ralÄ± Dizi</h4>
                <table style="width:100%; font-size:14px;">
                    <tr><td>Arama:</td><td><strong>O(n)</strong> (sÄ±ralÄ±ysa O(log n))</td></tr>
                    <tr><td>Ekleme:</td><td><strong>O(n)</strong> (kaydÄ±rma gerekir)</td></tr>
                    <tr><td>Silme:</td><td><strong>O(n)</strong> (kaydÄ±rma gerekir)</td></tr>
                </table>
            </div>

            <div class="compare-item bad">
                <h4 style="margin-top:0; color:#e74c3c;">ğŸ”— Linked List</h4>
                <table style="width:100%; font-size:14px;">
                    <tr><td>Arama:</td><td><strong>O(n)</strong></td></tr>
                    <tr><td>Ekleme (baÅŸa):</td><td><strong>O(1)</strong></td></tr>
                    <tr><td>Silme:</td><td><strong>O(n)</strong> (arama + O(1))</td></tr>
                </table>
            </div>

            <div class="compare-item good">
                <h4 style="margin-top:0; color:#27ae60;">ğŸŒ³ BST (Dengeli)</h4>
                <table style="width:100%; font-size:14px;">
                    <tr><td>Arama:</td><td><strong>O(log n)</strong> âœ¨</td></tr>
                    <tr><td>Ekleme:</td><td><strong>O(log n)</strong> âœ¨</td></tr>
                    <tr><td>Silme:</td><td><strong>O(log n)</strong> âœ¨</td></tr>
                </table>
            </div>
        </div>

        <div class="property-box" style="border-left-color:#f39c12;">
            <h4 style="margin-top:0; color:#f39c12;">âš ï¸ Ã–nemli Not: Dengesiz BST</h4>
            <p>EÄŸer elemanlar sÄ±ralÄ± eklenirse (1, 2, 3, 4, 5...), BST bir "linked list"e dÃ¶nÃ¼ÅŸÃ¼r ve performans <strong>O(n)</strong> olur!</p>
            <p style="margin-bottom:0;">Bu problemi Ã§Ã¶zmek iÃ§in <strong>AVL Tree</strong> veya <strong>Red-Black Tree</strong> gibi dengeli aÄŸaÃ§lar kullanÄ±lÄ±r.</p>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ” BST'de Arama NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h2>

        <p>AradÄ±ÄŸÄ±mÄ±z deÄŸer: <strong>40</strong></p>

        <ol>
            <li>KÃ¶kten baÅŸla (50)</li>
            <li>40 < 50 â†’ Sola git (30)</li>
            <li>40 > 30 â†’ SaÄŸa git (40)</li>
            <li>40 == 40 â†’ Bulundu! âœ…</li>
        </ol>

        <p>Sadece <strong>3 karÅŸÄ±laÅŸtÄ±rma</strong> ile 7 elemanlÄ± aÄŸaÃ§ta deÄŸeri bulduk!</p>

        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="CodeBlocks.run(\'code2\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    <button class="btn" onclick="toggleEdit('code2')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>

            <pre id="view-code2"><code class="language-python line-numbers">class Node:
    def __init__(self, data):
        self.data = data
        self.left = None
        self.right = None

def search(root, target):
    """BST'de arama - O(log n)"""
    steps = 0
    current = root

    while current is not None:
        steps += 1
        print(f"AdÄ±m {steps}: {current.data} ile karÅŸÄ±laÅŸtÄ±r", end=" â†’ ")

        if target == current.data:
            print(f"BULUNDU! âœ…")
            return current, steps
        elif target < current.data:
            print(f"{target} < {current.data}, SOLA git")
            current = current.left
        else:
            print(f"{target} > {current.data}, SAÄA git")
            current = current.right

    print("BulunamadÄ± âŒ")
    return None, steps

# AÄŸacÄ± oluÅŸtur
root = Node(50)
root.left = Node(30)
root.right = Node(70)
root.left.left = Node(20)
root.left.right = Node(40)
root.right.left = Node(60)
root.right.right = Node(80)

print("ğŸŒ³ AÄŸaÃ§: 50 â†’ (30, 70) â†’ (20, 40, 60, 80)\n")

# FarklÄ± deÄŸerleri ara
for target in [40, 80, 25, 50]:
    print(f"\nğŸ” {target} aranÄ±yor:")
    result, steps = search(root, target)
    print(f"   Toplam adÄ±m: {steps}")</code></pre>

            

            <div id="output-code2" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸŒ GerÃ§ek Hayat KullanÄ±m AlanlarÄ±</h2>

        <h3>ğŸ’¾ VeritabanÄ± ve Dosya Sistemleri</h3>
        <ul>
            <li>ğŸ“š <strong>VeritabanÄ± Index'leri:</strong> MySQL, PostgreSQL gibi veritabanlarÄ± B-Tree (BST'nin geliÅŸmiÅŸ hali) kullanÄ±r. Milyonlarca kayÄ±t arasÄ±nda saniyenin kesri iÃ§inde arama yapabilirsiniz.</li>
            <li>ğŸ“ <strong>Dosya Sistemleri:</strong> NTFS, ext4 gibi dosya sistemleri klasÃ¶r yapÄ±sÄ±nÄ± aÄŸaÃ§ ÅŸeklinde organize eder.</li>
        </ul>

        <h3>ğŸ–¥ï¸ YazÄ±lÄ±m UygulamalarÄ±</h3>
        <ul>
            <li>ğŸ”¤ <strong>Otomatik Tamamlama:</strong> Arama motorlarÄ± ve IDE'ler yazdÄ±ÄŸÄ±nÄ±z harflere gÃ¶re Ã¶nerileri BST varyantlarÄ± (Trie) ile bulur.</li>
            <li>ğŸ“– <strong>SÃ¶zlÃ¼k UygulamalarÄ±:</strong> Kelime arama ve yazÄ±m denetimi sistemleri.</li>
            <li>ğŸ—œï¸ <strong>Huffman Kodlama:</strong> ZIP, GZIP gibi sÄ±kÄ±ÅŸtÄ±rma algoritmalarÄ± binary tree kullanÄ±r.</li>
        </ul>

        <h3>ğŸ® Oyun ve Grafik</h3>
        <ul>
            <li>ğŸ® <strong>Collision Detection:</strong> Oyunlarda nesnelerin Ã§arpÄ±ÅŸÄ±p Ã§arpÄ±ÅŸmadÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in BST varyantlarÄ± kullanÄ±lÄ±r.</li>
            <li>ğŸ—ºï¸ <strong>Harita UygulamalarÄ±:</strong> Google Maps gibi uygulamalar yakÄ±ndaki noktalarÄ± bulmak iÃ§in spatial tree yapÄ±larÄ± kullanÄ±r.</li>
        </ul>

        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; border-left: 4px solid #ffc107; margin-top: 15px;">
            <strong>ğŸ’¡ Neden BST?</strong>
            <p><strong>Dizide arama:</strong> 1 milyon elemanda â†’ 1.000.000 karÅŸÄ±laÅŸtÄ±rma (O(n))</p>
            <p><strong>BST'de arama:</strong> 1 milyon elemanda â†’ sadece ~20 karÅŸÄ±laÅŸtÄ±rma (O(log n))</p>
            <p>Bu fark, gerÃ§ek dÃ¼nya uygulamalarÄ±nda hayati Ã¶nem taÅŸÄ±r!</p>
        </div>
    </div>

    <!-- Auto-generated navigation -->
        <div class="nav-footer">
        <a href="5_tree_intro.html" class="btn">â¬…ï¸ Ã–nceki: AÄŸaÃ§ Temelleri</a>
        <a href="bst.html" class="btn" style="background:#11998e">ğŸ“‹ BST MenÃ¼</a>
        <a href="5b_bst_islemler.html" class="btn btn-next">Sonraki: BST Ä°ÅŸlemler â¡ï¸</a>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script>
    // BST Visualization
    let treeData = null;
    const svg = document.getElementById('treeSvg');
    const svgNS = "http://www.w3.org/2000/svg";

    class TreeNode {
        constructor(data) {
            this.data = data;
            this.left = null;
            this.right = null;
        }
    }

    function insertIntoBST(root, data) {
        if (!root) return new TreeNode(data);
        if (data < root.data) {
            root.left = insertIntoBST(root.left, data);
        } else if (data > root.data) {
            root.right = insertIntoBST(root.right, data);
        }
        return root;
    }

    function drawTree() {
        svg.innerHTML = '';
        if (!treeData) return;

        const nodeRadius = 22;
        const levelHeight = 70;

        function getTreeWidth(node) {
            if (!node) return 0;
            return 1 + Math.max(getTreeWidth(node.left), getTreeWidth(node.right));
        }

        function drawNode(node, x, y, xOffset) {
            if (!node) return;

            // Draw edges first
            if (node.left) {
                const line = document.createElementNS(svgNS, 'line');
                line.setAttribute('x1', x);
                line.setAttribute('y1', y);
                line.setAttribute('x2', x - xOffset);
                line.setAttribute('y2', y + levelHeight);
                line.setAttribute('class', 'tree-edge');
                svg.appendChild(line);
                drawNode(node.left, x - xOffset, y + levelHeight, xOffset / 2);
            }

            if (node.right) {
                const line = document.createElementNS(svgNS, 'line');
                line.setAttribute('x1', x);
                line.setAttribute('y1', y);
                line.setAttribute('x2', x + xOffset);
                line.setAttribute('y2', y + levelHeight);
                line.setAttribute('class', 'tree-edge');
                svg.appendChild(line);
                drawNode(node.right, x + xOffset, y + levelHeight, xOffset / 2);
            }

            // Draw node
            const g = document.createElementNS(svgNS, 'g');
            g.setAttribute('class', 'tree-node');

            const circle = document.createElementNS(svgNS, 'circle');
            circle.setAttribute('cx', x);
            circle.setAttribute('cy', y);
            circle.setAttribute('r', nodeRadius);
            circle.setAttribute('class', 'node-circle');

            const text = document.createElementNS(svgNS, 'text');
            text.setAttribute('x', x);
            text.setAttribute('y', y + 5);
            text.setAttribute('text-anchor', 'middle');
            text.setAttribute('class', 'node-text');
            text.textContent = node.data;

            g.appendChild(circle);
            g.appendChild(text);
            svg.appendChild(g);
        }

        const width = getTreeWidth(treeData);
        const startX = 300;
        const startY = 40;
        const initialOffset = Math.min(120, 300 / (width + 1));

        drawNode(treeData, startX, startY, initialOffset);
    }

    function insertNode() {
        const input = document.getElementById('insertValue');
        const value = parseInt(input.value);
        const msg = document.getElementById('treeMsg');

        if (isNaN(value) || value < 1 || value > 99) {
            msg.textContent = "âš ï¸ 1-99 arasÄ± bir deÄŸer girin!";
            msg.style.color = "red";
            return;
        }

        treeData = insertIntoBST(treeData, value);
        drawTree();
        msg.textContent = `âœ… ${value} eklendi!`;
        msg.style.color = "green";
        input.value = '';
    }

    function resetTree() {
        treeData = null;
        // Ã–rnek aÄŸaÃ§
        [50, 30, 70, 20, 40, 60, 80].forEach(v => {
            treeData = insertIntoBST(treeData, v);
        });
        drawTree();
        document.getElementById('treeMsg').textContent = "ğŸ”„ Ã–rnek aÄŸaÃ§ yÃ¼klendi";
        document.getElementById('treeMsg').style.color = "#666";
    }

    // Initialize
    resetTree();

    // Pyodide
    

    
        const code = document.getElementById(id).value;
        const out = document.getElementById('output-' + id);
        out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
        try {
            pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
            await pyodide.runPythonAsync(code);
            out.innerText = pyodide.runPython("sys.stdout.getvalue()");
        } catch(e) { out.innerText = e; }
    }

    
        else { editor.style.display = 'block'; view.style.display = 'none'; editor.focus(); }
    }
</script>
    </div>

    <!-- Prism.js scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <!-- Pyodide CDN -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>

    <!-- Unified JS -->
    <script src="../src/main.js"></script>
    <script src="../src/visualizations.js"></script>

    <!-- Page-specific JS -->
    <script>

    // BST Visualization
    let treeData = null;
    const svg = document.getElementById('treeSvg');
    const svgNS = "http://www.w3.org/2000/svg";

    class TreeNode {
        constructor(data) {
            this.data = data;
            this.left = null;
            this.right = null;
        }
    }

    function insertIntoBST(root, data) {
        if (!root) return new TreeNode(data);
        if (data < root.data) {
            root.left = insertIntoBST(root.left, data);
        } else if (data > root.data) {
            root.right = insertIntoBST(root.right, data);
        }
        return root;
    }

    function drawTree() {
        svg.innerHTML = '';
        if (!treeData) return;

        const nodeRadius = 22;
        const levelHeight = 70;

        function getTreeWidth(node) {
            if (!node) return 0;
            return 1 + Math.max(getTreeWidth(node.left), getTreeWidth(node.right));
        }

        function drawNode(node, x, y, xOffset) {
            if (!node) return;

            // Draw edges first
            if (node.left) {
                const line = document.createElementNS(svgNS, 'line');
                line.setAttribute('x1', x);
                line.setAttribute('y1', y);
                line.setAttribute('x2', x - xOffset);
                line.setAttribute('y2', y + levelHeight);
                line.setAttribute('class', 'tree-edge');
                svg.appendChild(line);
                drawNode(node.left, x - xOffset, y + levelHeight, xOffset / 2);
            }

            if (node.right) {
                const line = document.createElementNS(svgNS, 'line');
                line.setAttribute('x1', x);
                line.setAttribute('y1', y);
                line.setAttribute('x2', x + xOffset);
                line.setAttribute('y2', y + levelHeight);
                line.setAttribute('class', 'tree-edge');
                svg.appendChild(line);
                drawNode(node.right, x + xOffset, y + levelHeight, xOffset / 2);
            }

            // Draw node
            const g = document.createElementNS(svgNS, 'g');
            g.setAttribute('class', 'tree-node');

            const circle = document.createElementNS(svgNS, 'circle');
            circle.setAttribute('cx', x);
            circle.setAttribute('cy', y);
            circle.setAttribute('r', nodeRadius);
            circle.setAttribute('class', 'node-circle');

            const text = document.createElementNS(svgNS, 'text');
            text.setAttribute('x', x);
            text.setAttribute('y', y + 5);
            text.setAttribute('text-anchor', 'middle');
            text.setAttribute('class', 'node-text');
            text.textContent = node.data;

            g.appendChild(circle);
            g.appendChild(text);
            svg.appendChild(g);
        }

        const width = getTreeWidth(treeData);
        const startX = 300;
        const startY = 40;
        const initialOffset = Math.min(120, 300 / (width + 1));

        drawNode(treeData, startX, startY, initialOffset);
    }

    function insertNode() {
        const input = document.getElementById('insertValue');
        const value = parseInt(input.value);
        const msg = document.getElementById('treeMsg');

        if (isNaN(value) || value < 1 || value > 99) {
            msg.textContent = "âš ï¸ 1-99 arasÄ± bir deÄŸer girin!";
            msg.style.color = "red";
            return;
        }

        treeData = insertIntoBST(treeData, value);
        drawTree();
        msg.textContent = `âœ… ${value} eklendi!`;
        msg.style.color = "green";
        input.value = '';
    }

    function resetTree() {
        treeData = null;
        // Ã–rnek aÄŸaÃ§
        [50, 30, 70, 20, 40, 60, 80].forEach(v => {
            treeData = insertIntoBST(treeData, v);
        });
        drawTree();
        document.getElementById('treeMsg').textContent = "ğŸ”„ Ã–rnek aÄŸaÃ§ yÃ¼klendi";
        document.getElementById('treeMsg').style.color = "#666";
    }

    // Initialize
    resetTree();

    // Pyodide
    

    
        const code = document.getElementById(id).value;
        const out = document.getElementById('output-' + id);
        out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
        try {
            pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
            await pyodide.runPythonAsync(code);
            out.innerText = pyodide.runPython("sys.stdout.getvalue()");
        } catch(e) { out.innerText = e; }
    }

    
        else { editor.style.display = 'block'; view.style.display = 'none'; editor.focus(); }
    }

    </script>
</body>
</html>
