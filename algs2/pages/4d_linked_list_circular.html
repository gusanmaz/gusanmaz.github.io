<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4.4: Circular Linked List (Dairesel Liste)</title>

    <!-- Unified CSS -->
    <link rel="stylesheet" href="../src/main.css">

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />

    <style>
        .circular-container {
            position: relative;
            width: 350px;
            height: 350px;
            margin: 30px auto;
        }
        
        .circular-node {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            border: 3px solid #2c3e50;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10;
        }
        
        .circular-node:hover {
            transform: scale(1.15);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }
        
        .circular-node.current {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-color: #d35400;
            transform: scale(1.2);
            box-shadow: 0 0 20px rgba(243, 156, 18, 0.6);
        }
        
        .circular-node.head-node {
            border-color: #27ae60;
            box-shadow: 0 0 15px rgba(39, 174, 96, 0.4);
        }
        
        .circular-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #666;
        }
        
        .circular-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .type-card {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .type-card h4 {
            margin-top: 0;
        }
        
        .mini-circular {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            margin: 10px 0;
            font-family: monospace;
        }
    </style>
</head>
<body>

<div class="container">
        <!-- Theme Toggle -->
        <button class="theme-toggle" aria-label="Toggle theme">ğŸŒ™</button>

    <header>
        <h1>ğŸ”„ 4.4: Circular Linked List</h1>
        <p>Dairesel BaÄŸlÄ± Liste - Sonsuz DÃ¶ngÃ¼</p>
    </header>

    <div class="section">
        <h2>ğŸ¤” Circular Linked List Nedir?</h2>
        <p><strong>Dairesel BaÄŸlÄ± Liste</strong>de son node'un next iÅŸaretÃ§isi NULL yerine <em>ilk node'a (head)</em> iÅŸaret eder. Bu sayede liste bir <strong>halka</strong> oluÅŸturur ve sonsuza kadar dÃ¶nebilirsiniz.</p>
        
        <div class="mini-circular">
            A â†’ B â†’ C â†’ D â†’ <span style="color:#27ae60; font-weight:bold;">[A'ya geri dÃ¶ner]</span> ğŸ”„
        </div>
    </div>

    <div class="section">
        <h2>ğŸ® Ä°nteraktif Dairesel Liste</h2>
        <div style="background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
            <div class="circular-container" id="circularVisual">
                <svg class="circular-svg" id="circularSvg"></svg>
                <div class="circular-center">
                    <div style="font-size: 24px;">ğŸ”„</div>
                    <div id="traverseCount">0 tur</div>
                </div>
            </div>
            
            <div style="text-align: center;">
                <button class="btn btn-run" onclick="traverse()">â–¶ Ä°lerle</button>
                <button class="btn" style="background: #9b59b6;" onclick="autoTraverse()">ğŸ”„ Otomatik DÃ¶n</button>
                <button class="btn btn-reset" onclick="resetCircular()">â¹ Dur</button>
                <button class="btn" style="background: #e67e22;" onclick="addCircularNode()">â• Ekle</button>
            </div>
            
            <p id="circularMsg" style="text-align: center; margin-top: 15px; font-weight: bold;"></p>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ“‹ Circular Liste TÃ¼rleri</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div class="type-card" style="border-top: 4px solid #3498db;">
                <h4 style="color: #3498db;">ğŸ”µ Circular Singly</h4>
                <div class="mini-circular">
                    A â†’ B â†’ C â†’ <span style="color:#3498db;">â†© A</span>
                </div>
                <p style="font-size: 14px;">Sadece ileri yÃ¶nde dÃ¶ner.<br>Tek pointer (next)</p>
            </div>
            <div class="type-card" style="border-top: 4px solid #9b59b6;">
                <h4 style="color: #9b59b6;">ğŸŸ£ Circular Doubly</h4>
                <div class="mini-circular">
                    <span style="color:#9b59b6;">â†ª</span> A âŸ· B âŸ· C <span style="color:#9b59b6;">â†©</span>
                </div>
                <p style="font-size: 14px;">Ä°ki yÃ¶nde de dÃ¶ner.<br>Ä°ki pointer (prev, next)</p>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ’» Python Implementasyonu</h2>
        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="CodeBlocks.run(\'code1\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    <button class="btn" onclick="CodeBlocks.toggleEdit(\'code1\')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>
            
            <pre id="view-code1"><code class="language-python">class Node:
    def __init__(self, data):
        self.data = data
        self.next = None

class CircularLinkedList:
    """Dairesel Tek YÃ¶nlÃ¼ BaÄŸlÄ± Liste"""
    
    def __init__(self):
        self.head = None
        self.size = 0
    
    def append(self, data):
        """Sona ekle"""
        new_node = Node(data)
        
        if not self.head:
            self.head = new_node
            new_node.next = self.head  # Kendine dÃ¶ner
        else:
            # Son node'u bul
            current = self.head
            while current.next != self.head:
                current = current.next
            current.next = new_node
            new_node.next = self.head  # BaÅŸa baÄŸla
        
        self.size += 1
        print(f"âœ… Eklendi: {data}")
    
    def prepend(self, data):
        """BaÅŸa ekle"""
        new_node = Node(data)
        
        if not self.head:
            self.head = new_node
            new_node.next = self.head
        else:
            # Son node'u bul
            current = self.head
            while current.next != self.head:
                current = current.next
            
            new_node.next = self.head
            current.next = new_node  # Son node yeni baÅŸÄ± gÃ¶stersin
            self.head = new_node
        
        self.size += 1
        print(f"âœ… BaÅŸa eklendi: {data}")
    
    def delete(self, data):
        """DeÄŸeri sil"""
        if not self.head:
            return
        
        # Silinecek head ise
        if self.head.data == data:
            if self.head.next == self.head:  # Tek eleman
                self.head = None
            else:
                # Son node'u bul
                current = self.head
                while current.next != self.head:
                    current = current.next
                current.next = self.head.next
                self.head = self.head.next
            self.size -= 1
            print(f"ğŸ—‘ï¸ Silindi: {data}")
            return
        
        # Ara ve sil
        current = self.head
        while current.next != self.head:
            if current.next.data == data:
                current.next = current.next.next
                self.size -= 1
                print(f"ğŸ—‘ï¸ Silindi: {data}")
                return
            current = current.next
    
    def traverse(self, rounds=1):
        """Listeyi dolaÅŸ (kaÃ§ tur?)"""
        if not self.head:
            print("Liste boÅŸ!")
            return
        
        print(f"ğŸ”„ {rounds} tur dolaÅŸÄ±lÄ±yor:")
        current = self.head
        count = 0
        
        for _ in range(rounds * self.size):
            print(f"  â†’ {current.data}", end="")
            current = current.next
            count += 1
            
            if count % self.size == 0:
                print(" (tur tamamlandÄ±)")
    
    def display(self):
        """Listeyi gÃ¶ster"""
        if not self.head:
            print("Liste: [BOÅ]")
            return
        
        elements = []
        current = self.head
        while True:
            elements.append(str(current.data))
            current = current.next
            if current == self.head:
                break
        
        print(f"Liste: {' â†’ '.join(elements)} â†’ [HEAD'e dÃ¶ner] ğŸ”„")

# Test
print("ğŸ”„ Circular Linked List Demo\n")
cll = CircularLinkedList()

cll.append("A")
cll.append("B")
cll.append("C")
cll.append("D")
cll.display()

print()
cll.traverse(2)  # 2 tur

print()
cll.delete("B")
cll.display()

print()
cll.prepend("X")
cll.display()</code></pre>

            
            
            <div id="output-code1" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ¯ KullanÄ±m AlanlarÄ±</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px;">
            <div style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); padding: 20px; border-radius: 12px;">
                <span style="font-size: 2em;">ğŸµ</span>
                <h4>MÃ¼zik Playlist</h4>
                <p style="font-size: 14px;">Son ÅŸarkÄ±dan sonra baÅŸa dÃ¶n (repeat mode)</p>
            </div>
            <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 20px; border-radius: 12px;">
                <span style="font-size: 2em;">â°</span>
                <h4>Round Robin Scheduler</h4>
                <p style="font-size: 14px;">CPU zaman paylaÅŸÄ±mÄ± (iÅŸlemler sÄ±rayla)</p>
            </div>
            <div style="background: linear-gradient(135deg, #f3e5f5, #e1bee7); padding: 20px; border-radius: 12px;">
                <span style="font-size: 2em;">ğŸ®</span>
                <h4>Oyun SÄ±rasÄ±</h4>
                <p style="font-size: 14px;">Oyuncular sÄ±rayla oynasÄ±n (Monopoly gibi)</p>
            </div>
            <div style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 20px; border-radius: 12px;">
                <span style="font-size: 2em;">ğŸ–¼ï¸</span>
                <h4>Carousel / Slider</h4>
                <p style="font-size: 14px;">Sonsuz dÃ¶nen resim galerisi</p>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ”¥ Josephus Problemi - Circular LL ile Ã‡Ã¶zÃ¼m</h2>
        
        <!-- DetaylÄ± AÃ§Ä±klama -->
        <div style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); padding: 20px; border-radius: 12px; margin-bottom: 20px;">
            <h3 style="margin-top: 0; color: #c0392b;">ğŸ“œ Tarihsel Problem (MS 67)</h3>
            <p>
                <strong>Josephus Flavius</strong> ve 40 Yahudi asker RomalÄ±lar tarafÄ±ndan kuÅŸatÄ±ldÄ±. 
                Teslim olmak yerine toplu intihar kararÄ± aldÄ±lar: Daire ÅŸeklinde durup her <strong>k. kiÅŸi</strong> 
                Ã¶ldÃ¼rÃ¼lecekti. Josephus matematiÄŸi kullanarak kendini doÄŸru konuma yerleÅŸtirdi ve hayatta kaldÄ±!
            </p>
        </div>
        
        <!-- Neden Circular LL? -->
        <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; border-left: 4px solid #27ae60; margin-bottom: 20px;">
            <h4 style="margin-top: 0; color: #27ae60;">ğŸ”„ Neden Circular Linked List?</h4>
            <ul style="margin-bottom: 0;">
                <li><strong>Daire yapÄ±sÄ±:</strong> Son kiÅŸiden sonra otomatik baÅŸa dÃ¶ner</li>
                <li><strong>Silme O(1):</strong> prev.next = current.next ile anÄ±nda silme</li>
                <li><strong>DoÄŸal model:</strong> OyuncularÄ±n daire ÅŸeklinde oturmasÄ±nÄ± tam olarak modeller</li>
                <li><strong>Queue alternatifi:</strong> Queue ile de Ã§Ã¶zÃ¼lÃ¼r ama Circular LL daha doÄŸal</li>
            </ul>
        </div>
        
        <!-- Dairesel Algoritma GÃ¶rseli -->
        <div style="background: white; padding: 25px; border-radius: 15px; margin-bottom: 20px;">
            <h4 style="text-align: center; margin-bottom: 20px;">AdÄ±m AdÄ±m: 6 KiÅŸi, k=3 (Her 3. kiÅŸi elenir)</h4>
            
            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 30px;">
                <!-- AdÄ±m 1 -->
                <div style="text-align: center;">
                    <div style="font-weight: bold; color: #e67e22; margin-bottom: 10px;">BaÅŸlangÄ±Ã§</div>
                    <svg width="140" height="140" viewBox="0 0 140 140">
                        <circle cx="70" cy="70" r="50" fill="none" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <circle cx="70" cy="20" r="18" fill="#3498db"/><text x="70" y="25" text-anchor="middle" fill="white" font-size="12" font-weight="bold">1</text>
                        <circle cx="113" cy="45" r="18" fill="#9b59b6"/><text x="113" y="50" text-anchor="middle" fill="white" font-size="12" font-weight="bold">2</text>
                        <circle cx="113" cy="95" r="18" fill="#e74c3c"/><text x="113" y="100" text-anchor="middle" fill="white" font-size="12" font-weight="bold">3</text>
                        <circle cx="70" cy="120" r="18" fill="#f39c12"/><text x="70" y="125" text-anchor="middle" fill="white" font-size="12" font-weight="bold">4</text>
                        <circle cx="27" cy="95" r="18" fill="#1abc9c"/><text x="27" y="100" text-anchor="middle" fill="white" font-size="12" font-weight="bold">5</text>
                        <circle cx="27" cy="45" r="18" fill="#e91e63"/><text x="27" y="50" text-anchor="middle" fill="white" font-size="12" font-weight="bold">6</text>
                    </svg>
                    <div style="font-size: 12px; color: #666;">6 kiÅŸi hazÄ±r</div>
                </div>
                
                <!-- AdÄ±m 2: 3 elendi -->
                <div style="text-align: center;">
                    <div style="font-weight: bold; color: #e74c3c; margin-bottom: 10px;">Tur 1: 3âŒ</div>
                    <svg width="140" height="140" viewBox="0 0 140 140">
                        <circle cx="70" cy="70" r="50" fill="none" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <circle cx="70" cy="20" r="18" fill="#3498db"/><text x="70" y="25" text-anchor="middle" fill="white" font-size="12" font-weight="bold">1</text>
                        <circle cx="113" cy="45" r="18" fill="#9b59b6"/><text x="113" y="50" text-anchor="middle" fill="white" font-size="12" font-weight="bold">2</text>
                        <circle cx="113" cy="95" r="18" fill="#bdc3c7" opacity="0.4"/><text x="113" y="95" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="70" cy="120" r="18" fill="#f39c12"/><text x="70" y="125" text-anchor="middle" fill="white" font-size="12" font-weight="bold">4</text>
                        <circle cx="27" cy="95" r="18" fill="#1abc9c"/><text x="27" y="100" text-anchor="middle" fill="white" font-size="12" font-weight="bold">5</text>
                        <circle cx="27" cy="45" r="18" fill="#e91e63"/><text x="27" y="50" text-anchor="middle" fill="white" font-size="12" font-weight="bold">6</text>
                    </svg>
                    <div style="font-size: 12px; color: #666;">1â†’2â†’<span style="color:#e74c3c">3</span></div>
                </div>
                
                <!-- AdÄ±m 3: 6 elendi -->
                <div style="text-align: center;">
                    <div style="font-weight: bold; color: #e74c3c; margin-bottom: 10px;">Tur 2: 6âŒ</div>
                    <svg width="140" height="140" viewBox="0 0 140 140">
                        <circle cx="70" cy="70" r="50" fill="none" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <circle cx="70" cy="20" r="18" fill="#3498db"/><text x="70" y="25" text-anchor="middle" fill="white" font-size="12" font-weight="bold">1</text>
                        <circle cx="113" cy="45" r="18" fill="#9b59b6"/><text x="113" y="50" text-anchor="middle" fill="white" font-size="12" font-weight="bold">2</text>
                        <circle cx="113" cy="95" r="18" fill="#bdc3c7" opacity="0.4"/><text x="113" y="95" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="70" cy="120" r="18" fill="#f39c12"/><text x="70" y="125" text-anchor="middle" fill="white" font-size="12" font-weight="bold">4</text>
                        <circle cx="27" cy="95" r="18" fill="#1abc9c"/><text x="27" y="100" text-anchor="middle" fill="white" font-size="12" font-weight="bold">5</text>
                        <circle cx="27" cy="45" r="18" fill="#bdc3c7" opacity="0.4"/><text x="27" y="45" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                    </svg>
                    <div style="font-size: 12px; color: #666;">4â†’5â†’<span style="color:#e74c3c">6</span></div>
                </div>
                
                <!-- AdÄ±m 4: 4 elendi -->
                <div style="text-align: center;">
                    <div style="font-weight: bold; color: #e74c3c; margin-bottom: 10px;">Tur 3: 4âŒ</div>
                    <svg width="140" height="140" viewBox="0 0 140 140">
                        <circle cx="70" cy="70" r="50" fill="none" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <circle cx="70" cy="20" r="18" fill="#3498db"/><text x="70" y="25" text-anchor="middle" fill="white" font-size="12" font-weight="bold">1</text>
                        <circle cx="113" cy="45" r="18" fill="#9b59b6"/><text x="113" y="50" text-anchor="middle" fill="white" font-size="12" font-weight="bold">2</text>
                        <circle cx="113" cy="95" r="18" fill="#bdc3c7" opacity="0.4"/><text x="113" y="95" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="70" cy="120" r="18" fill="#bdc3c7" opacity="0.4"/><text x="70" y="120" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="27" cy="95" r="18" fill="#1abc9c"/><text x="27" y="100" text-anchor="middle" fill="white" font-size="12" font-weight="bold">5</text>
                        <circle cx="27" cy="45" r="18" fill="#bdc3c7" opacity="0.4"/><text x="27" y="45" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                    </svg>
                    <div style="font-size: 12px; color: #666;">1â†’2â†’<span style="color:#e74c3c">4</span></div>
                </div>
                
                <!-- AdÄ±m 5: 2 elendi -->
                <div style="text-align: center;">
                    <div style="font-weight: bold; color: #e74c3c; margin-bottom: 10px;">Tur 4: 2âŒ</div>
                    <svg width="140" height="140" viewBox="0 0 140 140">
                        <circle cx="70" cy="70" r="50" fill="none" stroke="#ddd" stroke-width="2" stroke-dasharray="5,5"/>
                        <circle cx="70" cy="20" r="18" fill="#3498db"/><text x="70" y="25" text-anchor="middle" fill="white" font-size="12" font-weight="bold">1</text>
                        <circle cx="113" cy="45" r="18" fill="#bdc3c7" opacity="0.4"/><text x="113" y="45" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="113" cy="95" r="18" fill="#bdc3c7" opacity="0.4"/><text x="113" y="95" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="70" cy="120" r="18" fill="#bdc3c7" opacity="0.4"/><text x="70" y="120" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="27" cy="95" r="18" fill="#1abc9c"/><text x="27" y="100" text-anchor="middle" fill="white" font-size="12" font-weight="bold">5</text>
                        <circle cx="27" cy="45" r="18" fill="#bdc3c7" opacity="0.4"/><text x="27" y="45" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                    </svg>
                    <div style="font-size: 12px; color: #666;">5â†’1â†’<span style="color:#e74c3c">2</span></div>
                </div>
                
                <!-- Final: 1 kazandÄ± -->
                <div style="text-align: center;">
                    <div style="font-weight: bold; color: #27ae60; margin-bottom: 10px;">Tur 5: 1âŒ</div>
                    <svg width="140" height="140" viewBox="0 0 140 140">
                        <circle cx="70" cy="70" r="50" fill="none" stroke="#27ae60" stroke-width="3"/>
                        <circle cx="70" cy="20" r="18" fill="#bdc3c7" opacity="0.4"/><text x="70" y="20" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="113" cy="45" r="18" fill="#bdc3c7" opacity="0.4"/><text x="113" y="45" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="113" cy="95" r="18" fill="#bdc3c7" opacity="0.4"/><text x="113" y="95" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="70" cy="120" r="18" fill="#bdc3c7" opacity="0.4"/><text x="70" y="120" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <circle cx="27" cy="95" r="22" fill="#27ae60" stroke="#f1c40f" stroke-width="4"/><text x="27" y="100" text-anchor="middle" fill="white" font-size="14" font-weight="bold">5</text>
                        <circle cx="27" cy="45" r="18" fill="#bdc3c7" opacity="0.4"/><text x="27" y="45" text-anchor="middle" fill="#7f8c8d" font-size="16">âŒ</text>
                        <text x="70" y="80" text-anchor="middle" fill="#27ae60" font-size="20" font-weight="bold">ğŸ†</text>
                    </svg>
                    <div style="font-size: 12px; color: #27ae60; font-weight: bold;">Kazanan: 5</div>
                </div>
            </div>
            
            <!-- Ã–zet Tablo -->
            <div style="margin-top: 25px; overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
                    <thead>
                        <tr style="background: linear-gradient(135deg, #e67e22, #d35400); color: white;">
                            <th style="padding: 10px;">Tur</th>
                            <th style="padding: 10px;">Sayma</th>
                            <th style="padding: 10px;">Elenen</th>
                            <th style="padding: 10px;">Kalanlar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background: #fff3cd;">
                            <td style="padding: 8px; text-align: center;">1</td>
                            <td style="padding: 8px;">1 â†’ 2 â†’ <strong>3</strong></td>
                            <td style="padding: 8px; color: #e74c3c; font-weight: bold;">3</td>
                            <td style="padding: 8px;">[1, 2, 4, 5, 6]</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; text-align: center;">2</td>
                            <td style="padding: 8px;">4 â†’ 5 â†’ <strong>6</strong></td>
                            <td style="padding: 8px; color: #e74c3c; font-weight: bold;">6</td>
                            <td style="padding: 8px;">[1, 2, 4, 5]</td>
                        </tr>
                        <tr style="background: #fff3cd;">
                            <td style="padding: 8px; text-align: center;">3</td>
                            <td style="padding: 8px;">1 â†’ 2 â†’ <strong>4</strong></td>
                            <td style="padding: 8px; color: #e74c3c; font-weight: bold;">4</td>
                            <td style="padding: 8px;">[1, 2, 5]</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; text-align: center;">4</td>
                            <td style="padding: 8px;">5 â†’ 1 â†’ <strong>2</strong></td>
                            <td style="padding: 8px; color: #e74c3c; font-weight: bold;">2</td>
                            <td style="padding: 8px;">[1, 5]</td>
                        </tr>
                        <tr style="background: #d4edda;">
                            <td style="padding: 8px; text-align: center;">5</td>
                            <td style="padding: 8px;">5 â†’ 1 â†’ <strong>5</strong> (dÃ¶ngÃ¼)</td>
                            <td style="padding: 8px; color: #e74c3c; font-weight: bold;">1</td>
                            <td style="padding: 8px; color: #27ae60; font-weight: bold;">ğŸ† [5] KazandÄ±!</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="code-container">
            <div class="code-header">
                <span>Python Kodu</span>
                <div>
                    <button class="btn btn-run" onclick="CodeBlocks.run(\'code2\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    <button class="btn" onclick="CodeBlocks.toggleEdit(\'code2\')">âœï¸ DÃ¼zenle</button>
                </div>
            </div>
            
            <pre id="view-code2"><code class="language-python">class Node:
    def __init__(self, data):
        self.data = data
        self.next = None

def josephus_circular(players, k):
    """
    Josephus Problemi - Circular Linked List ile
    Her k. kiÅŸi elenir, son kalan kazanÄ±r.
    """
    if not players:
        return None
    
    # Circular liste oluÅŸtur
    head = Node(players[0])
    current = head
    for player in players[1:]:
        current.next = Node(player)
        current = current.next
    current.next = head  # Daireyi kapat
    
    print(f"ğŸ® Oyun BaÅŸlÄ±yor! k={k}")
    print(f"Oyuncular: {players}\n")
    
    # Son bir kiÅŸi kalana kadar
    prev = current  # Son node
    current = head
    
    while current.next != current:  # Tek eleman kalana kadar
        # k-1 adÄ±m ilerle
        for _ in range(k - 1):
            prev = current
            current = current.next
        
        # current'Ä± elen
        print(f"âŒ {current.data} elendi!")
        prev.next = current.next
        current = current.next
    
    print(f"\nğŸ† KAZANAN: {current.data}")
    return current.data

# Test
players = ["Ali", "Veli", "AyÅŸe", "Fatma", "Can", "Zeynep"]
josephus_circular(players, k=3)</code></pre>

            
            
            <div id="output-code2" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
        </div>
    </div>

    <div class="nav-footer"></div>
</div>

<script>
    // Circular visual
    let circularNodes = ['A', 'B', 'C', 'D'];
    let currentCircularIndex = 0;
    let traverseCounter = 0;
    let autoInterval = null;
    
    function renderCircular() {
        const container = document.getElementById('circularVisual');
        const svg = document.getElementById('circularSvg');
        
        // Clear nodes (keep svg and center)
        container.querySelectorAll('.circular-node').forEach(n => n.remove());
        
        const centerX = 175;
        const centerY = 175;
        const radius = 120;
        const n = circularNodes.length;
        
        // Draw arrows in SVG
        let svgContent = '';
        
        circularNodes.forEach((data, i) => {
            const angle = (i * 2 * Math.PI / n) - Math.PI / 2;
            const x = centerX + radius * Math.cos(angle) - 30;
            const y = centerY + radius * Math.sin(angle) - 30;
            
            // Create node
            const node = document.createElement('div');
            node.className = 'circular-node';
            if (i === currentCircularIndex) node.classList.add('current');
            if (i === 0) node.classList.add('head-node');
            node.style.left = x + 'px';
            node.style.top = y + 'px';
            node.innerText = data;
            node.onclick = () => { currentCircularIndex = i; renderCircular(); };
            container.appendChild(node);
            
            // Arrow to next node
            const nextI = (i + 1) % n;
            const nextAngle = (nextI * 2 * Math.PI / n) - Math.PI / 2;
            
            const x1 = centerX + radius * Math.cos(angle);
            const y1 = centerY + radius * Math.sin(angle);
            const x2 = centerX + radius * Math.cos(nextAngle);
            const y2 = centerY + radius * Math.sin(nextAngle);
            
            // Curved arrow
            const midX = centerX + (radius - 30) * Math.cos((angle + nextAngle) / 2);
            const midY = centerY + (radius - 30) * Math.sin((angle + nextAngle) / 2);
            
            svgContent += `<path d="M${x1},${y1} Q${midX},${midY} ${x2},${y2}" 
                fill="none" stroke="#e74c3c" stroke-width="2" 
                marker-end="url(#arrowhead)"/>`;
        });
        
        svg.innerHTML = `
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                    refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c"/>
                </marker>
            </defs>
            ${svgContent}
        `;
    }
    
    function traverse() {
        currentCircularIndex = (currentCircularIndex + 1) % circularNodes.length;
        if (currentCircularIndex === 0) {
            traverseCounter++;
            document.getElementById('traverseCount').innerText = `${traverseCounter} tur`;
        }
        document.getElementById('circularMsg').innerHTML = `<span style="color:#3498db;">â†’ ${circularNodes[currentCircularIndex]} (Sonsuz dÃ¶ngÃ¼ devam ediyor...)</span>`;
        renderCircular();
    }
    
    function autoTraverse() {
        if (autoInterval) {
            clearInterval(autoInterval);
            autoInterval = null;
            document.getElementById('circularMsg').innerHTML = '<span style="color:#e67e22;">â¸ Durduruldu</span>';
            return;
        }
        
        autoInterval = setInterval(() => {
            traverse();
        }, 800);
        document.getElementById('circularMsg').innerHTML = '<span style="color:#27ae60;">â–¶ Otomatik dÃ¶nÃ¼yor...</span>';
    }
    
    function resetCircular() {
        if (autoInterval) {
            clearInterval(autoInterval);
            autoInterval = null;
        }
        traverseCounter = 0;
        currentCircularIndex = 0;
        document.getElementById('traverseCount').innerText = '0 tur';
        document.getElementById('circularMsg').innerHTML = '<span style="color:#555;">â¹ SÄ±fÄ±rlandÄ±</span>';
        renderCircular();
    }
    
    function addCircularNode() {
        if (circularNodes.length >= 8) {
            document.getElementById('circularMsg').innerHTML = '<span style="color:#e74c3c;">âš ï¸ Maksimum 8 node!</span>';
            return;
        }
        const newData = String.fromCharCode(65 + circularNodes.length);
        circularNodes.push(newData);
        document.getElementById('circularMsg').innerHTML = `<span style="color:#27ae60;">âœ… ${newData} eklendi</span>`;
        renderCircular();
    }
    
    // Pyodide
        else { editor.style.display = 'block'; view.style.display = 'none'; editor.focus(); }
    }
    
    // Initialize
    renderCircular();
</script>

    <!-- Prism.js scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <!-- Pyodide CDN -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>

    <!-- Unified JS -->
    <script src="../src/main.js"></script>
    <script src="../src/visualizations.js"></script>
</body>
</html>
