<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>0.2: Python SÄ±nÄ±flar</title>

    <!-- Unified CSS -->
    <link rel="stylesheet" href="../src/main.css">

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

    <!-- CodeMirror 6 -->
    <script type="module">
        import {EditorView, basicSetup} from "https://cdn.jsdelivr.net/npm/codemirror@6/dist/index.js"
        import {python} from "https://cdn.jsdelivr.net/npm/@codemirror/lang-python@6/dist/index.js"
        import {oneDark} from "https://cdn.jsdelivr.net/npm/@codemirror/theme-one-dark@6/dist/index.js"

        window.CodeMirror = {
            EditorView,
            basicSetup,
            python: () => python(),
            oneDark
        };
    </script>

    <!-- Pyodide for Python execution -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>

    <!-- Mermaid for flowcharts -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Theme Toggle -->
        <button class="theme-toggle" aria-label="Toggle theme">ğŸŒ™</button>

        <header>
            <h1>ğŸ¯ 0.2: Python SÄ±nÄ±flar</h1>
            <p>Algoritmalar ve Veri YapÄ±larÄ± Dersi - Object-Oriented Programming (OOP)</p>
        </header>

        <!-- GiriÅŸ -->
        <div class="section">
            <h2>ğŸŒŸ Nesne YÃ¶nelimli Programlama (OOP) Nedir?</h2>

            <p style="font-size: 1.1em; margin-bottom: 20px;">
                <strong>Object-Oriented Programming (OOP)</strong>, programlamayÄ± gerÃ§ek dÃ¼nya nesneleri gibi dÃ¼ÅŸÃ¼nerek
                organize etme yaklaÅŸÄ±mÄ±dÄ±r. Her nesne (obje) hem veri (Ã¶zellikler) hem de davranÄ±ÅŸ (metodlar) iÃ§erir.
            </p>

            <div class="visual-box">
                <h3 style="text-align: center; color: var(--primary-color); margin-bottom: 20px;">ğŸ—ï¸ SÄ±nÄ±f ve Obje Ä°liÅŸkisi</h3>
                <div class="diagram-container">
                    <div class="mermaid">
graph TD
    A[SÄ±nÄ±f: Araba<br/>Blueprint/Åablon] --> B[Obje 1: KÄ±rmÄ±zÄ± BMW]
    A --> C[Obje 2: Mavi Audi]
    A --> D[Obje 3: Siyah Mercedes]

    B --> B1[marka: BMW<br/>renk: KÄ±rmÄ±zÄ±<br/>hÄ±z: 0]
    C --> C1[marka: Audi<br/>renk: Mavi<br/>hÄ±z: 0]
    D --> D1[marka: Mercedes<br/>renk: Siyah<br/>hÄ±z: 0]

    style A fill:#f5576c,color:#fff
    style B fill:#28a745,color:#fff
    style C fill:#28a745,color:#fff
    style D fill:#28a745,color:#fff
                    </div>
                </div>
            </div>

            <div class="concept-box">
                <strong>ğŸ¯ Temel OOP KavramlarÄ±:</strong>
                <ul>
                    <li><strong>SÄ±nÄ±f (Class):</strong> Nesnelerin ÅŸablonu/taslaÄŸÄ±. Bir nesnenin nasÄ±l olacaÄŸÄ±nÄ± tanÄ±mlar</li>
                    <li><strong>Obje/Nesne (Object):</strong> SÄ±nÄ±ftan oluÅŸturulan gerÃ§ek Ã¶rnekler (instance)</li>
                    <li><strong>Constructor (__init__):</strong> Obje oluÅŸturulurken Ã§alÄ±ÅŸan Ã¶zel metod</li>
                    <li><strong>self:</strong> Objenin kendisini temsil eden referans (Python'a Ã¶zgÃ¼)</li>
                    <li><strong>Instance Variable:</strong> Her objenin kendi verileri (Ã¶zellikler)</li>
                    <li><strong>Instance Method:</strong> Objenin davranÄ±ÅŸlarÄ± (fonksiyonlar)</li>
                </ul>
            </div>

            <div class="comparison-table">
                <div class="comparison-col">
                    <h4>ğŸŒ GerÃ§ek DÃ¼nya</h4>
                    <p><strong>Araba:</strong></p>
                    <ul>
                        <li><strong>Ã–zellikler:</strong> Marka, model, renk, hÄ±z</li>
                        <li><strong>DavranÄ±ÅŸlar:</strong> HÄ±zlan, yavaÅŸla, dur, dÃ¶n</li>
                    </ul>
                </div>
                <div class="comparison-col">
                    <h4>ğŸ’» Python'da</h4>
                    <p><strong>Araba SÄ±nÄ±fÄ±:</strong></p>
                    <ul>
                        <li><strong>Ã–zellikler:</strong> Instance variables</li>
                        <li><strong>DavranÄ±ÅŸlar:</strong> Instance methods</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Ä°lk SÄ±nÄ±f -->
        <div class="section">
            <h2>ğŸ”¨ Ä°lk SÄ±nÄ±fÄ±mÄ±zÄ± OluÅŸturalÄ±m</h2>

            <h3>Basit Bir SÄ±nÄ±f - KÃ¶pek</h3>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-header-title">ğŸ Python Kodu</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="CodeBlocks.run(1)">â–¶ï¸ Ã‡alÄ±ÅŸtÄ±r</button>
                        <button class="code-btn" onclick="CodeBlocks.copy(1)">ğŸ“‹ Kopyala</button>
                    </div>
                </div>

                <pre class="line-numbers"><code class="language-python">class Kopek:
    """KÃ¶pek sÄ±nÄ±fÄ± - basit bir Ã¶rnek"""

    # Constructor - obje oluÅŸturulurken Ã§alÄ±ÅŸÄ±r
    def __init__(self, isim, yas):
        self.isim = isim  # Instance variable
        self.yas = yas    # Instance variable
        print(f"Yeni bir kÃ¶pek oluÅŸturuldu: {isim}")

    # Instance method
    def havla(self):
        print(f"{self.isim}: Hav hav!")

    def bilgi_goster(self):
        print(f"Ä°sim: {self.isim}, YaÅŸ: {self.yas}")

# Obje oluÅŸturma (instantiation)
kopek1 = Kopek("KarabaÅŸ", 3)
kopek2 = Kopek("Pamuk", 5)

print("\n--- KÃ¶pek 1 ---")
kopek1.bilgi_goster()
kopek1.havla()

print("\n--- KÃ¶pek 2 ---")
kopek2.bilgi_goster()
kopek2.havla()</code></pre>

                <div class="output" id="output-1"></div>
            </div>

            <div class="important-note">
                <strong>âš¡ Ã–nemli Noktalar:</strong><br>
                <strong>self:</strong> MetodlarÄ±n ilk parametresi her zaman <code>self</code>'tir. Objenin kendisini temsil eder.<br>
                <strong>__init__:</strong> Constructor metodu, obje oluÅŸturulurken otomatik Ã§alÄ±ÅŸÄ±r.<br>
                <strong>self.deÄŸiÅŸken:</strong> Instance variable tanÄ±mlamasÄ±. Her objenin kendi kopyasÄ± vardÄ±r.
            </div>
        </div>

        <!-- DikdÃ¶rtgen SÄ±nÄ±fÄ± -->
        <div class="section">
            <h2>ğŸ“ Pratik Ã–rnek: DikdÃ¶rtgen SÄ±nÄ±fÄ±</h2>

            <div class="diagram-container">
                <svg width="400" height="250" viewBox="0 0 400 250">
                    <!-- Rectangle -->
                    <rect x="100" y="50" width="200" height="120"
                          fill="#f8f9ff" stroke="#667eea" stroke-width="3"/>

                    <!-- Width arrow -->
                    <line x1="100" y1="190" x2="300" y2="190"
                          stroke="#f5576c" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <line x1="100" y1="190" x2="100" y2="185" stroke="#f5576c" stroke-width="2"/>
                    <line x1="300" y1="190" x2="300" y2="185" stroke="#f5576c" stroke-width="2"/>
                    <text x="200" y="210" text-anchor="middle" fill="#f5576c" font-weight="bold">geniÅŸlik (w)</text>

                    <!-- Height arrow -->
                    <line x1="80" y1="50" x2="80" y2="170"
                          stroke="#f5576c" stroke-width="2" marker-end="url(#arrowhead2)"/>
                    <line x1="80" y1="50" x2="85" y2="50" stroke="#f5576c" stroke-width="2"/>
                    <line x1="80" y1="170" x2="85" y2="170" stroke="#f5576c" stroke-width="2"/>
                    <text x="40" y="115" fill="#f5576c" font-weight="bold">yÃ¼kseklik (h)</text>

                    <!-- Formulas -->
                    <text x="200" y="240" text-anchor="middle" fill="#333" font-size="14">
                        Alan = w Ã— h  |  Ã‡evre = 2(w + h)
                    </text>

                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10"
                                refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#f5576c"/>
                        </marker>
                        <marker id="arrowhead2" markerWidth="10" markerHeight="10"
                                refX="3" refY="9" orient="auto">
                            <polygon points="0 0, 3 10, 6 0" fill="#f5576c"/>
                        </marker>
                    </defs>
                </svg>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-header-title">ğŸ Python Kodu</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="CodeBlocks.run(2)">â–¶ï¸ Ã‡alÄ±ÅŸtÄ±r</button>
                        <button class="code-btn" onclick="CodeBlocks.copy(2)">ğŸ“‹ Kopyala</button>
                    </div>
                </div>

                <pre class="line-numbers"><code class="language-python">class Dikdortgen:
    """DikdÃ¶rtgen sÄ±nÄ±fÄ±"""

    def __init__(self, genislik, yukseklik):
        """Constructor - dikdÃ¶rtgen oluÅŸturur"""
        self.genislik = genislik
        self.yukseklik = yukseklik

    def alan_hesapla(self):
        """DikdÃ¶rtgenin alanÄ±nÄ± hesaplar"""
        return self.genislik * self.yukseklik

    def cevre_hesapla(self):
        """DikdÃ¶rtgenin Ã§evresini hesaplar"""
        return 2 * (self.genislik + self.yukseklik)

    def kare_mi(self):
        """DikdÃ¶rtgenin kare olup olmadÄ±ÄŸÄ±nÄ± kontrol eder"""
        return self.genislik == self.yukseklik

    def bilgi_yazdir(self):
        """DikdÃ¶rtgen bilgilerini yazdÄ±rÄ±r"""
        print(f"DikdÃ¶rtgen:")
        print(f"  GeniÅŸlik: {self.genislik}")
        print(f"  YÃ¼kseklik: {self.yukseklik}")
        print(f"  Alan: {self.alan_hesapla()}")
        print(f"  Ã‡evre: {self.cevre_hesapla()}")
        print(f"  Kare mi? {'Evet' if self.kare_mi() else 'HayÄ±r'}")

# DikdÃ¶rtgen objeleri oluÅŸtur
dikdortgen1 = Dikdortgen(5, 10)
dikdortgen2 = Dikdortgen(7, 7)

print("=== DikdÃ¶rtgen 1 ===")
dikdortgen1.bilgi_yazdir()

print("\n=== DikdÃ¶rtgen 2 ===")
dikdortgen2.bilgi_yazdir()</code></pre>

                <div class="output" id="output-2"></div>
            </div>
        </div>

        <!-- Kesir SÄ±nÄ±fÄ± -->
        <div class="section">
            <h2>ğŸ”¢ Kesir SÄ±nÄ±fÄ±</h2>

            <p>Matematiksel kesir (oran) iÅŸlemlerini yapan bir sÄ±nÄ±f yazalÄ±m:</p>

            <div class="diagram-container">
                <svg width="400" height="200" viewBox="0 0 400 200">
                    <!-- Fraction 1 -->
                    <text x="80" y="80" text-anchor="middle" fill="#f5576c" font-size="32" font-weight="bold">3</text>
                    <line x1="50" y1="90" x2="110" y2="90" stroke="#f5576c" stroke-width="3"/>
                    <text x="80" y="120" text-anchor="middle" fill="#f5576c" font-size="32" font-weight="bold">4</text>

                    <!-- Plus sign -->
                    <text x="150" y="100" text-anchor="middle" fill="#333" font-size="32">+</text>

                    <!-- Fraction 2 -->
                    <text x="210" y="80" text-anchor="middle" fill="#f5576c" font-size="32" font-weight="bold">2</text>
                    <line x1="180" y1="90" x2="240" y2="90" stroke="#f5576c" stroke-width="3"/>
                    <text x="210" y="120" text-anchor="middle" fill="#f5576c" font-size="32" font-weight="bold">5</text>

                    <!-- Equals sign -->
                    <text x="280" y="100" text-anchor="middle" fill="#333" font-size="32">=</text>

                    <!-- Result -->
                    <text x="340" y="80" text-anchor="middle" fill="#28a745" font-size="32" font-weight="bold">23</text>
                    <line x1="310" y1="90" x2="370" y2="90" stroke="#28a745" stroke-width="3"/>
                    <text x="340" y="120" text-anchor="middle" fill="#28a745" font-size="32" font-weight="bold">20</text>

                    <!-- Labels -->
                    <text x="80" y="150" text-anchor="middle" fill="#666" font-size="14">pay/payda</text>
                    <text x="200" y="170" text-anchor="middle" fill="#666" font-size="14">
                        Kesirler ile toplama, Ã§Ä±karma, Ã§arpma, bÃ¶lme
                    </text>
                </svg>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-header-title">ğŸ Python Kodu</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="CodeBlocks.run(21)">â–¶ï¸ Ã‡alÄ±ÅŸtÄ±r</button>
                        <button class="code-btn" onclick="CodeBlocks.copy(21)">ğŸ“‹ Kopyala</button>
                    </div>
                </div>

                <pre class="line-numbers"><code class="language-python">def ebob_hesapla(a, b):
    """En BÃ¼yÃ¼k Ortak BÃ¶len (Ã–klid algoritmasÄ±)"""
    while b:
        a, b = b, a % b
    return a

class Kesir:
    """Matematiksel kesir sÄ±nÄ±fÄ±"""

    def __init__(self, pay, payda):
        """Kesir oluÅŸtur"""
        if payda == 0:
            print("HATA: Payda sÄ±fÄ±r olamaz!")
            self.pay = 0
            self.payda = 1
        else:
            self.pay = pay
            self.payda = payda
            self.sadelestir()

    def sadelestir(self):
        """Kesri sadeleÅŸtirir (EBOB ile)"""
        ebob = ebob_hesapla(abs(self.pay), abs(self.payda))
        self.pay //= ebob
        self.payda //= ebob

        # Payda negatifse iÅŸareti paya taÅŸÄ±
        if self.payda < 0:
            self.pay = -self.pay
            self.payda = -self.payda

    def goster(self):
        """Kesri string olarak dÃ¶ndÃ¼rÃ¼r"""
        if self.payda == 1:
            return str(self.pay)
        return f"{self.pay}/{self.payda}"

    def ondalik(self):
        """Kesrin ondalÄ±k deÄŸerini dÃ¶ndÃ¼rÃ¼r"""
        return self.pay / self.payda

    def topla(self, diger):
        """Ä°ki kesri toplar"""
        yeni_pay = self.pay * diger.payda + diger.pay * self.payda
        yeni_payda = self.payda * diger.payda
        return Kesir(yeni_pay, yeni_payda)

    def cikar(self, diger):
        """Ä°ki kesri Ã§Ä±karÄ±r"""
        yeni_pay = self.pay * diger.payda - diger.pay * self.payda
        yeni_payda = self.payda * diger.payda
        return Kesir(yeni_pay, yeni_payda)

    def carp(self, diger):
        """Ä°ki kesri Ã§arpar"""
        yeni_pay = self.pay * diger.pay
        yeni_payda = self.payda * diger.payda
        return Kesir(yeni_pay, yeni_payda)

    def bol(self, diger):
        """Birinci kesri ikinciye bÃ¶ler"""
        yeni_pay = self.pay * diger.payda
        yeni_payda = self.payda * diger.pay
        return Kesir(yeni_pay, yeni_payda)

# Kesir objeleri oluÅŸtur
k1 = Kesir(3, 4)
k2 = Kesir(2, 5)
k3 = Kesir(6, 8)  # SadeleÅŸtirilecek -> 3/4

print("Kesir Ã–rnekleri:")
print(f"k1 = {k1.goster()} = {k1.ondalik():.4f}")
print(f"k2 = {k2.goster()} = {k2.ondalik():.4f}")
print(f"k3 = {k3.goster()} (6/8 sadeleÅŸtirildi)")

# Ä°ÅŸlemler
print("\n=== Ä°ÅŸlemler ===")
toplam = k1.topla(k2)
print(f"{k1.goster()} + {k2.goster()} = {toplam.goster()}")

fark = k1.cikar(k2)
print(f"{k1.goster()} - {k2.goster()} = {fark.goster()}")

carpim = k1.carp(k2)
print(f"{k1.goster()} Ã— {k2.goster()} = {carpim.goster()}")

bolum = k1.bol(k2)
print(f"{k1.goster()} Ã· {k2.goster()} = {bolum.goster()}")

# Zincirleme iÅŸlem
k4 = Kesir(1, 2)
k5 = Kesir(1, 3)
k6 = Kesir(1, 6)
sonuc = k4.topla(k5).topla(k6)
print(f"\n1/2 + 1/3 + 1/6 = {sonuc.goster()}")</code></pre>

                <div class="output" id="output-21"></div>
            </div>

            <div class="success-box">
                <strong>âœ… Kesir SÄ±nÄ±fÄ±nÄ±n Ã–zellikleri:</strong>
                <ul>
                    <li>Otomatik sadeleÅŸtirme (EBOB kullanarak)</li>
                    <li>DÃ¶rt iÅŸlem: toplama, Ã§Ä±karma, Ã§arpma, bÃ¶lme</li>
                    <li>OndalÄ±k deÄŸer hesaplama</li>
                    <li>Zincirleme iÅŸlem desteÄŸi (method chaining)</li>
                    <li>Payda sÄ±fÄ±r kontrolÃ¼</li>
                </ul>
            </div>
        </div>

        <!-- ÃœÃ§gen SÄ±nÄ±fÄ± -->
        <div class="section">
            <h2>â–³ ÃœÃ§gen SÄ±nÄ±fÄ±</h2>

            <div class="diagram-container">
                <svg width="400" height="280" viewBox="0 0 400 280">
                    <!-- Triangle -->
                    <polygon points="200,50 100,200 300,200"
                             fill="#fff5f8" stroke="#f5576c" stroke-width="3"/>

                    <!-- Side labels -->
                    <text x="145" y="135" fill="#f5576c" font-weight="bold">a</text>
                    <text x="255" y="135" fill="#f5576c" font-weight="bold">b</text>
                    <text x="200" y="220" fill="#f5576c" font-weight="bold">c</text>

                    <!-- Formulas -->
                    <text x="200" y="250" text-anchor="middle" fill="#333" font-size="13">
                        Ã‡evre = a + b + c
                    </text>
                    <text x="200" y="270" text-anchor="middle" fill="#333" font-size="13">
                        Alan = âˆš[s(s-a)(s-b)(s-c)] (Heron)
                    </text>
                </svg>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-header-title">ğŸ Python Kodu</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="CodeBlocks.run(22)">â–¶ï¸ Ã‡alÄ±ÅŸtÄ±r</button>
                        <button class="code-btn" onclick="CodeBlocks.copy(22)">ğŸ“‹ Kopyala</button>
                    </div>
                </div>

                <pre class="line-numbers"><code class="language-python">class Ucgen:
    """ÃœÃ§gen sÄ±nÄ±fÄ± - Ã¼Ã§ kenar uzunluÄŸu ile tanÄ±mlanÄ±r"""

    def __init__(self, a, b, c):
        """ÃœÃ§gen oluÅŸtur"""
        self.a = a
        self.b = b
        self.c = c

        if not self.gecerli_mi():
            print("UYARI: Bu kenar uzunluklarÄ± geÃ§erli bir Ã¼Ã§gen oluÅŸturmaz!")

    def gecerli_mi(self):
        """ÃœÃ§gen eÅŸitsizliÄŸini kontrol eder"""
        return (self.a + self.b > self.c and
                self.a + self.c > self.b and
                self.b + self.c > self.a)

    def cevre(self):
        """ÃœÃ§genin Ã§evresini hesaplar"""
        return self.a + self.b + self.c

    def alan(self):
        """ÃœÃ§genin alanÄ±nÄ± hesaplar (Heron formÃ¼lÃ¼)"""
        if not self.gecerli_mi():
            return 0

        s = self.cevre() / 2
        alan = (s * (s - self.a) * (s - self.b) * (s - self.c)) ** 0.5
        return alan

    def dik_mi(self):
        """ÃœÃ§genin dik olup olmadÄ±ÄŸÄ±nÄ± kontrol eder"""
        kenarlar = sorted([self.a, self.b, self.c])
        return abs(kenarlar[0]**2 + kenarlar[1]**2 - kenarlar[2]**2) < 0.0001

    def bilgi_yazdir(self):
        """ÃœÃ§gen bilgilerini yazdÄ±rÄ±r"""
        print(f"ÃœÃ§gen KenarlarÄ±: a={self.a}, b={self.b}, c={self.c}")
        if self.gecerli_mi():
            print(f"Ã‡evre: {self.cevre():.2f}")
            print(f"Alan: {self.alan():.2f}")
            print(f"Dik Ã¼Ã§gen mi? {'Evet' if self.dik_mi() else 'HayÄ±r'}")

# Test
print("=== Dik ÃœÃ§gen (3-4-5) ===")
ucgen1 = Ucgen(3, 4, 5)
ucgen1.bilgi_yazdir()

print("\n=== Normal ÃœÃ§gen ===")
ucgen2 = Ucgen(7, 8, 9)
ucgen2.bilgi_yazdir()</code></pre>

                <div class="output" id="output-22"></div>
            </div>
        </div>

        <!-- Ã–ÄŸrenci SÄ±nÄ±fÄ± -->
        <div class="section">
            <h2>ğŸ“ Ã–ÄŸrenci Bilgi Sistemi</h2>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-header-title">ğŸ Python Kodu</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="CodeBlocks.run(23)">â–¶ï¸ Ã‡alÄ±ÅŸtÄ±r</button>
                        <button class="code-btn" onclick="CodeBlocks.copy(23)">ğŸ“‹ Kopyala</button>
                    </div>
                </div>

                <pre class="line-numbers"><code class="language-python">class Ogrenci:
    """Ã–ÄŸrenci bilgi sistemi sÄ±nÄ±fÄ±"""

    # Class variable - tÃ¼m Ã¶ÄŸrenciler iÃ§in ortak
    okul_adi = "Algoritma Ãœniversitesi"

    def __init__(self, ad, soyad, numara):
        """Ã–ÄŸrenci oluÅŸtur"""
        self.ad = ad
        self.soyad = soyad
        self.numara = numara
        self.notlar = []

    def not_ekle(self, ders, not_degeri):
        """Ã–ÄŸrenciye not ekler"""
        if 0 <= not_degeri <= 100:
            self.notlar.append({'ders': ders, 'not': not_degeri})
            print(f"âœ“ {ders}: {not_degeri} eklendi")
        else:
            print("âŒ Not 0-100 arasÄ±nda olmalÄ±!")

    def ortalama(self):
        """Not ortalamasÄ±nÄ± hesaplar"""
        if len(self.notlar) == 0:
            return 0
        toplam = sum(n['not'] for n in self.notlar)
        return toplam / len(self.notlar)

    def rapor(self):
        """Ã–ÄŸrenci raporunu gÃ¶sterir"""
        print("=" * 50)
        print(f"Ã–ÄRENCI RAPORU - {Ogrenci.okul_adi}")
        print("=" * 50)
        print(f"Ad Soyad: {self.ad} {self.soyad}")
        print(f"Numara: {self.numara}")
        print("-" * 50)
        for n in self.notlar:
            print(f"  {n['ders']}: {n['not']}")
        print("-" * 50)
        if len(self.notlar) > 0:
            print(f"Ortalama: {self.ortalama():.2f}")
        print("=" * 50)

# Test
ogrenci1 = Ogrenci("Ahmet", "YÄ±lmaz", "2021001")
ogrenci1.not_ekle("Algoritmalar", 85)
ogrenci1.not_ekle("Veri YapÄ±larÄ±", 92)
ogrenci1.not_ekle("VeritabanÄ±", 78)

print()
ogrenci1.rapor()</code></pre>

                <div class="output" id="output-23"></div>
            </div>
        </div>

        <!-- Banka HesabÄ± -->
        <div class="section">
            <h2>ğŸ¦ Pratik Ã–rnek: Banka HesabÄ±</h2>

            <div class="diagram-container">
                <div class="mermaid">
stateDiagram-v2
    [*] --> HesapAÃ§Ä±ldÄ±: Yeni Hesap
    HesapAÃ§Ä±ldÄ± --> ParaYatÄ±r: para_yatir()
    ParaYatÄ±r --> ParaÃ‡ek: para_cek()
    ParaÃ‡ek --> ParaYatÄ±r: para_yatir()
    ParaYatÄ±r --> [*]: Hesap KapatÄ±ldÄ±
    ParaÃ‡ek --> [*]: Hesap KapatÄ±ldÄ±
                </div>
            </div>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-header-title">ğŸ Python Kodu</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="CodeBlocks.run(24)">â–¶ï¸ Ã‡alÄ±ÅŸtÄ±r</button>
                        <button class="code-btn" onclick="CodeBlocks.copy(24)">ğŸ“‹ Kopyala</button>
                    </div>
                </div>

                <pre class="line-numbers"><code class="language-python">class BankaHesabi:
    """Basit banka hesabÄ± sÄ±nÄ±fÄ±"""

    def __init__(self, hesap_sahibi, bakiye=0):
        """Banka hesabÄ± oluÅŸtur"""
        self.hesap_sahibi = hesap_sahibi
        self.bakiye = bakiye
        print(f"âœ“ Hesap oluÅŸturuldu: {hesap_sahibi}")

    def para_yatir(self, miktar):
        """Hesaba para yatÄ±rÄ±r"""
        if miktar <= 0:
            print("âŒ Miktar pozitif olmalÄ±!")
            return False

        self.bakiye += miktar
        print(f"âœ“ {miktar} TL yatÄ±rÄ±ldÄ±. Yeni bakiye: {self.bakiye} TL")
        return True

    def para_cek(self, miktar):
        """Hesaptan para Ã§eker"""
        if miktar <= 0:
            print("âŒ Miktar pozitif olmalÄ±!")
            return False

        if miktar > self.bakiye:
            print(f"âŒ Yetersiz bakiye! Mevcut: {self.bakiye} TL")
            return False

        self.bakiye -= miktar
        print(f"âœ“ {miktar} TL Ã§ekildi. Yeni bakiye: {self.bakiye} TL")
        return True

    def bakiye_goster(self):
        """Bakiyeyi gÃ¶sterir"""
        print(f"{self.hesap_sahibi} - Bakiye: {self.bakiye} TL")

# Test
hesap1 = BankaHesabi("Ahmet YÄ±lmaz", 1000)
print()

hesap1.bakiye_goster()
print()

hesap1.para_yatir(500)
hesap1.para_cek(200)
print()

hesap1.para_cek(5000)  # Yetersiz bakiye
print()

hesap1.bakiye_goster()</code></pre>

                <div class="output" id="output-24"></div>
            </div>
        </div>

        <!-- Fonksiyon vs SÄ±nÄ±f -->
        <div class="section">
            <h2>âš–ï¸ Fonksiyon vs SÄ±nÄ±f: Ne Zaman Hangisi?</h2>

            <div class="comparison-table">
                <div class="comparison-col">
                    <h4>ğŸ“š Fonksiyonlar</h4>
                    <strong>Ne zaman?</strong>
                    <ul>
                        <li>Tekil iÅŸlemler</li>
                        <li>Veri saklama gereÄŸi yok</li>
                        <li>Basit hesaplamalar</li>
                    </ul>
                    <strong>Ã–rnek:</strong>
                    <pre><code class="language-python">def topla(a, b):
    return a + b</code></pre>
                </div>

                <div class="comparison-col">
                    <h4>ğŸ¯ SÄ±nÄ±flar</h4>
                    <strong>Ne zaman?</strong>
                    <ul>
                        <li>Veri + fonksiyon birlikte</li>
                        <li>Durum saklamak gerekli</li>
                        <li>Birden fazla obje</li>
                    </ul>
                    <strong>Ã–rnek:</strong>
                    <pre><code class="language-python">class Hesap:
    def __init__(self, bakiye):
        self.bakiye = bakiye</code></pre>
                </div>
            </div>
        </div>

        <!-- Editable Code -->
        <div class="section">
            <h2>ğŸ“ Kendiniz Deneyin!</h2>

            <p>AÅŸaÄŸÄ±daki kod alanÄ±nÄ± dÃ¼zenleyebilir ve kendi kodlarÄ±nÄ±zÄ± yazabilirsiniz:</p>

            <div class="code-container">
                <div class="code-header">
                    <span class="code-header-title">ğŸ DÃ¼zenlenebilir Python Kodu</span>
                    <div class="code-actions">
                        <button class="code-btn" onclick="CodeBlocks.run(99)">â–¶ï¸ Ã‡alÄ±ÅŸtÄ±r</button>
                        <button class="code-btn" onclick="CodeBlocks.copy(99)">ğŸ“‹ Kopyala</button>
                    </div>
                </div>

                <div id="editor-99" style="border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden;"></div>

                <div class="output" id="output-99"></div>
            </div>
        </div>

        <footer>
            <h3>ğŸ“š Ã–zet</h3>
            <p><strong>Bu derste Ã¶ÄŸrendiklerimiz:</strong></p>
            <ul style="text-align: left; display: inline-block;">
                <li>Nesne YÃ¶nelimli Programlama (OOP)</li>
                <li>SÄ±nÄ±f (Class) ve Obje (Object)</li>
                <li>Constructor (<code>__init__</code>)</li>
                <li><code>self</code> kavramÄ±</li>
                <li>Instance Variables ve Methods</li>
                <li>Pratik Ã¶rnekler: DikdÃ¶rtgen, ÃœÃ§gen, Ã–ÄŸrenci, Banka</li>
            </ul>
        </footer>

        <!-- Auto-generated navigation -->
        <div class="nav-footer"></div>
    </div>

    <!-- Prism.js scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <!-- Unified JS -->
    <script src="../src/main.js"></script>
    <script src="../src/visualizations.js"></script>

    <!-- Page-specific JS -->
    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#fff',
                primaryBorderColor: '#764ba2',
                lineColor: '#764ba2',
                secondaryColor: '#f093fb',
                tertiaryColor: '#f8f9ff'
            }
        });

        // Setup editable editor for code block 99
        document.addEventListener('DOMContentLoaded', () => {
            const defaultCode = `# Buraya kendi sÄ±nÄ±fÄ±nÄ±zÄ± yazÄ±n!

class Araba:
    def __init__(self, marka, model):
        self.marka = marka
        self.model = model
        self.hiz = 0

    def hizlan(self, miktar):
        self.hiz += miktar
        print(f"{self.marka} hÄ±zlandÄ±! HÄ±z: {self.hiz} km/h")

    def bilgi(self):
        print(f"Araba: {self.marka} {self.model}, HÄ±z: {self.hiz} km/h")

# Test
araba1 = Araba("BMW", "320i")
araba1.bilgi()
araba1.hizlan(50)
araba1.hizlan(30)
araba1.bilgi()
`;

            // Create CodeMirror editor for block 99
            if (window.CodeMirror && window.CodeMirror.EditorView) {
                const editor = new window.CodeMirror.EditorView({
                    doc: defaultCode,
                    extensions: [
                        window.CodeMirror.basicSetup,
                        window.CodeMirror.python(),
                        window.CodeMirror.oneDark
                    ],
                    parent: document.getElementById('editor-99')
                });

                // Store editor reference for code execution
                if (!window.codeEditors) window.codeEditors = {};
                window.codeEditors[99] = editor;
            }
        });
    </script>
</body>
</html>
