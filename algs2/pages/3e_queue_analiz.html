<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.5: Queue Analizi ve Big O</title>

    <!-- Unified CSS -->
    <link rel="stylesheet" href="../src/main.css">

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

    <!-- Pyodide -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
</head>
<body>
    <div class="container">
        <!-- Theme Toggle -->
        <button class="theme-toggle" aria-label="Toggle theme">ğŸŒ™</button>

        <header>
            <h1>ğŸ“Š 3.5: Queue Analizi ve Zaman KarmaÅŸÄ±klÄ±ÄŸÄ±</h1>
            <p>Big O Notasyonu ile Performans DeÄŸerlendirmesi</p>
        </header>

        <div class="section">
            <h2>â±ï¸ Zaman KarmaÅŸÄ±klÄ±ÄŸÄ± (Time Complexity)</h2>
            <table style="width: 100%; border-collapse: collapse; background: var(--card-bg); border-radius: 10px; overflow: hidden; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                <thead>
                    <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                        <th style="padding: 15px 20px;">Operasyon</th>
                        <th style="padding: 15px 20px;">List</th>
                        <th style="padding: 15px 20px;">Deque</th>
                        <th style="padding: 15px 20px;">Circular Queue</th>
                        <th style="padding: 15px 20px;">AÃ§Ä±klama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 12px 20px;"><strong>Enqueue</strong></td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)*</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px;">Sona ekleme</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 12px 20px;"><strong>Dequeue</strong></td>
                        <td style="padding: 12px 20px; color: #e74c3c; font-weight: bold;">O(n) âš ï¸</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px;">BaÅŸtan silme</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 12px 20px;"><strong>Peek/Front</strong></td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px;">BaÅŸa bakma</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 12px 20px;"><strong>isEmpty</strong></td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px;">BoÅŸluk kontrolÃ¼</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px 20px;"><strong>Size</strong></td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px; color: #27ae60; font-weight: bold;">O(1)</td>
                        <td style="padding: 12px 20px;">Eleman sayÄ±sÄ±</td>
                    </tr>
                </tbody>
            </table>
            <p style="font-size: 0.9em; color: var(--muted);">* List.append() amortize O(1)'dir ancak pop(0) her zaman O(n)!</p>
        </div>

        <div class="section">
            <h2>ğŸ’¾ Alan KarmaÅŸÄ±klÄ±ÄŸÄ± (Space Complexity)</h2>
            <div style="display: flex; gap: 20px; margin: 20px 0; flex-wrap: wrap;">
                <div style="flex: 1; min-width: 200px; padding: 20px; border-radius: 10px; text-align: center; background: #d4edda; border: 2px solid #27ae60;">
                    <h3>ğŸ”„ Circular Queue</h3>
                    <p><strong>O(n)</strong> - Sabit boyut</p>
                    <p>Bellek kullanÄ±mÄ± Ã¶ngÃ¶rÃ¼lebilir. Ã–nceden ayrÄ±lmÄ±ÅŸ alan.</p>
                </div>
                <div style="flex: 1; min-width: 200px; padding: 20px; border-radius: 10px; text-align: center; background: #f8d7da; border: 2px solid #e74c3c;">
                    <h3>ğŸ“ Dinamik Queue</h3>
                    <p><strong>O(n)</strong> - DeÄŸiÅŸken boyut</p>
                    <p>Yeniden boyutlandÄ±rma maliyeti. HafÄ±za parÃ§alanmasÄ± riski.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ” Neden List ile Dequeue YavaÅŸ?</h2>
            <p><strong>Shifting Problemi:</strong> Python listesi bitiÅŸik hafÄ±zada tutulur. BaÅŸtan sildiÄŸinizde TÃœM elemanlar kaymak zorundadÄ±r.</p>
            <p style="text-align: center; margin-top: 15px; color: #e74c3c;">
                <strong>1 milyon eleman = 999,999 kaydÄ±rma iÅŸlemi!</strong>
            </p>
        </div>

        <div class="section">
            <h2>ğŸ§ª Performans KarÅŸÄ±laÅŸtÄ±rma Testi</h2>
            <p>FarklÄ± Queue implementasyonlarÄ±nÄ± 50,000 enqueue/dequeue ile test edelim:</p>

            <div class="code-container">
                <div class="code-header">
                    <span>Python Kodu</span>
                    <button class="btn btn-run" onclick="runCode('code1')">â–¶ Benchmark BaÅŸlat</button>
                </div>

                

                <div class="output" id="output-code1">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“ˆ KarmaÅŸÄ±klÄ±k GrafiÄŸi</h2>
            <div style="background: var(--card-bg); padding: 20px; border-radius: 10px; text-align: center;">
                <canvas id="complexityChart" width="600" height="300"></canvas>
            </div>
            <p style="text-align: center; margin-top: 10px;">
                <span style="color: #27ae60;">â– </span> O(1) - Deque/Circular &nbsp;&nbsp;
                <span style="color: #e74c3c;">â– </span> O(n) - List pop(0)
            </p>
        </div>

        <div class="section">
            <h2>ğŸ’¡ Ne Zaman Hangisini KullanmalÄ±?</h2>
            <table style="width: 100%; border-collapse: collapse; background: var(--card-bg); border-radius: 10px; overflow: hidden;">
                <thead>
                    <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                        <th style="padding: 15px;">Durum</th>
                        <th style="padding: 15px;">Ã–nerilen</th>
                        <th style="padding: 15px;">Neden?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 12px;">Genel AmaÃ§lÄ± Queue</td>
                        <td style="padding: 12px;"><code>collections.deque</code></td>
                        <td style="padding: 12px;">O(1) performans, kolay kullanÄ±m</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 12px;">Sabit Boyutlu Buffer</td>
                        <td style="padding: 12px;">Circular Queue</td>
                        <td style="padding: 12px;">Bellek Ã¶ngÃ¶rÃ¼lebilirliÄŸi, gÃ¶mÃ¼lÃ¼ sistemler</td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 12px;">Thread-Safe Queue</td>
                        <td style="padding: 12px;"><code>queue.Queue</code></td>
                        <td style="padding: 12px;">Dahili kilit mekanizmasÄ±</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px;">Ã–ncelikli Ä°ÅŸlemler</td>
                        <td style="padding: 12px;"><code>heapq</code></td>
                        <td style="padding: 12px;">Priority Queue iÃ§in optimize</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Auto-generated navigation -->
        <div class="nav-footer"></div>
    </div>

    <!-- Prism.js scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

    <!-- Unified JS -->
    <script src="../src/main.js"></script>
    <script src="../src/visualizations.js"></script>

    <!-- Page-specific JS -->
    <script>
        async function runCode(id) {
            await CodeBlocks.runPython(id);
        }

        // Simple Chart Drawing
        const canvas = document.getElementById('complexityChart');
        const ctx = canvas.getContext('2d');

        function drawChart() {
            ctx.clearRect(0, 0, 600, 300);

            // Axes
            ctx.strokeStyle = 'var(--text-color)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, 250);
            ctx.lineTo(550, 250);
            ctx.moveTo(50, 250);
            ctx.lineTo(50, 30);
            ctx.stroke();

            // Labels
            ctx.fillStyle = 'var(--text-color)';
            ctx.font = '14px Arial';
            ctx.fillText('n (Eleman SayÄ±sÄ±)', 280, 280);
            ctx.save();
            ctx.translate(20, 150);
            ctx.rotate(-Math.PI/2);
            ctx.fillText('SÃ¼re', 0, 0);
            ctx.restore();

            // O(n) line - List
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(50, 250);
            ctx.lineTo(500, 50);
            ctx.stroke();
            ctx.fillStyle = '#e74c3c';
            ctx.fillText('O(n) - List', 510, 50);

            // O(1) line - Deque
            ctx.strokeStyle = '#27ae60';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(50, 230);
            ctx.lineTo(500, 230);
            ctx.stroke();
            ctx.fillStyle = '#27ae60';
            ctx.fillText('O(1) - Deque', 510, 235);
        }

        document.addEventListener('DOMContentLoaded', drawChart);
    </script>
</body>
</html>
