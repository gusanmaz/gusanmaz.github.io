<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5.4: BST Ã–rnek Sorular</title>

    <!-- Unified CSS -->
    <link rel="stylesheet" href="../src/main.css">

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
    <style>

        .problem-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-top: 5px solid #3498db;
        }

        .difficulty {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }

        .easy { background: #d4edda; color: #155724; }
        .medium { background: var(--card-bg)3cd; color: #856404; }
        .hard { background: #f8d7da; color: #721c24; }

        .problem-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .problem-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 15px;
        }

        .hint-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .solution-toggle {
            cursor: pointer;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            text-align: center;
            border: 2px dashed #ddd;
            transition: all 0.3s;
        }

        .solution-toggle:hover {
            background: #e9ecef;
            border-color: #adb5bd;
        }

        .solution-content {
            display: none;
            margin-top: 15px;
        }

        .test-case {
            background: #f8f9fa;
            padding: 12px 15px;
            border-radius: 8px;
            margin: 8px 0;
            font-family: monospace;
        }
        </style>
</head>

<body>
    <div class="container">
        <!-- Theme Toggle -->
        <button class="theme-toggle" aria-label="Toggle theme">ğŸŒ™</button>

<header>
        <h1>ğŸ§© 5.4: BST Ã–rnek Sorular</h1>
        <p>Pratik Yaparak Ã–ÄŸrenin</p>
    </header>

    <!-- SORU 1 -->
    <div class="problem-card">
        <div class="problem-header">
            <div class="problem-number">1</div>
            <h3 style="margin:0;">BST'nin YÃ¼ksekliÄŸini Bulma</h3>
            <span class="difficulty easy">Kolay</span>
        </div>

        <p>Bir BST'nin yÃ¼ksekliÄŸini (height) bulan fonksiyon yazÄ±n. YÃ¼kseklik, kÃ¶kten en derin yapraÄŸa olan kenar sayÄ±sÄ±dÄ±r.</p>

        <div class="test-case">
            <strong>Ã–rnek:</strong> AÄŸaÃ§ [50, 30, 70, 20, 40] â†’ YÃ¼kseklik: 2
        </div>

        <div class="hint-box">
            <strong>ğŸ’¡ Ä°pucu:</strong> Recursive dÃ¼ÅŸÃ¼nÃ¼n: Bir node'un yÃ¼ksekliÄŸi = 1 + max(sol_yÃ¼kseklik, saÄŸ_yÃ¼kseklik)
        </div>

        <div class="solution-toggle" onclick="toggleSolution('sol1')">
            ğŸ‘ï¸ Ã‡Ã¶zÃ¼mÃ¼ GÃ¶ster/Gizle
        </div>

        <div class="solution-content" id="sol1">
            <div class="code-container">
                <div class="code-header">
                    <span>Python Ã‡Ã¶zÃ¼mÃ¼</span>
                    <div>
                        <button class="btn btn-run" onclick="CodeBlocks.run(\'code1\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    </div>
                </div>

                <pre id="view-code1"><code class="language-python line-numbers">class Node:
    def __init__(self, data):
        self.data = data
        self.left = None
        self.right = None

def height(node):
    """
    BST yÃ¼ksekliÄŸini bul - O(n)
    Her node'u bir kez ziyaret etmemiz gerekir
    """
    # Base case: BoÅŸ node
    if node is None:
        return -1  # BoÅŸ aÄŸacÄ±n yÃ¼ksekliÄŸi -1

    # Recursive: Sol ve saÄŸ alt aÄŸaÃ§larÄ±n yÃ¼ksekliÄŸi
    left_height = height(node.left)
    right_height = height(node.right)

    # Maksimum + 1 (bu node iÃ§in)
    return 1 + max(left_height, right_height)

# Test
root = Node(50)
root.left = Node(30)
root.right = Node(70)
root.left.left = Node(20)
root.left.right = Node(40)

print("ğŸŒ³ AÄŸaÃ§ yapÄ±sÄ±:")
print("       50")
print("      /  \\")
print("    30    70")
print("   /  \\")
print("  20   40")
print()
print(f"YÃ¼kseklik: {height(root)}")  # 2

# Daha derin aÄŸaÃ§ test et
root.left.left.left = Node(10)
print(f"\n10 eklendi â†’ Yeni yÃ¼kseklik: {height(root)}")  # 3</code></pre>

                

                <div id="output-code1" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>
    </div>

    <!-- SORU 2 -->
    <div class="problem-card">
        <div class="problem-header">
            <div class="problem-number">2</div>
            <h3 style="margin:0;">Minimum ve Maksimum DeÄŸer</h3>
            <span class="difficulty easy">Kolay</span>
        </div>

        <p>BST'deki minimum ve maksimum deÄŸerleri bulan fonksiyonlar yazÄ±n.</p>

        <div class="test-case">
            <strong>Ã–rnek:</strong> AÄŸaÃ§ [50, 30, 70, 20, 40, 60, 80] â†’ Min: 20, Max: 80
        </div>

        <div class="hint-box">
            <strong>ğŸ’¡ Ä°pucu:</strong> BST Ã¶zelliÄŸi: En kÃ¼Ã§Ã¼k deÄŸer en soldaki node, en bÃ¼yÃ¼k deÄŸer en saÄŸdaki node!
        </div>

        <div class="solution-toggle" onclick="toggleSolution('sol2')">
            ğŸ‘ï¸ Ã‡Ã¶zÃ¼mÃ¼ GÃ¶ster/Gizle
        </div>

        <div class="solution-content" id="sol2">
            <div class="code-container">
                <div class="code-header">
                    <span>Python Ã‡Ã¶zÃ¼mÃ¼</span>
                    <div>
                        <button class="btn btn-run" onclick="CodeBlocks.run(\'code2\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    </div>
                </div>

                <pre id="view-code2"><code class="language-python line-numbers">class Node:
    def __init__(self, data):
        self.data = data
        self.left = None
        self.right = None

def find_min(node):
    """
    BST'deki minimum deÄŸer - O(h)
    Her zaman sola git!
    """
    if node is None:
        return None

    current = node
    while current.left:
        current = current.left

    return current.data

def find_max(node):
    """
    BST'deki maksimum deÄŸer - O(h)
    Her zaman saÄŸa git!
    """
    if node is None:
        return None

    current = node
    while current.right:
        current = current.right

    return current.data

# Recursive versiyonlar
def find_min_recursive(node):
    if node is None:
        return None
    if node.left is None:
        return node.data
    return find_min_recursive(node.left)

def find_max_recursive(node):
    if node is None:
        return None
    if node.right is None:
        return node.data
    return find_max_recursive(node.right)

# Test
root = Node(50)
root.left = Node(30)
root.right = Node(70)
root.left.left = Node(20)
root.left.right = Node(40)
root.right.left = Node(60)
root.right.right = Node(80)

print("ğŸŒ³ AÄŸaÃ§: [50, 30, 70, 20, 40, 60, 80]")
print()
print(f"Minimum (iteratif): {find_min(root)}")
print(f"Maksimum (iteratif): {find_max(root)}")
print()
print(f"Minimum (recursive): {find_min_recursive(root)}")
print(f"Maksimum (recursive): {find_max_recursive(root)}")</code></pre>

                

                <div id="output-code2" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>
    </div>

    <!-- SORU 3 -->
    <div class="problem-card">
        <div class="problem-header">
            <div class="problem-number">3</div>
            <h3 style="margin:0;">BST DoÄŸrulama</h3>
            <span class="difficulty medium">Orta</span>
        </div>

        <p>Verilen bir binary tree'nin geÃ§erli bir BST olup olmadÄ±ÄŸÄ±nÄ± kontrol eden fonksiyon yazÄ±n.</p>

        <div class="test-case">
            <strong>Ã–rnek 1:</strong> [50, 30, 70] â†’ True (GeÃ§erli BST)<br>
            <strong>Ã–rnek 2:</strong> [50, 70, 30] (sol Ã§ocuk > kÃ¶k) â†’ False
        </div>

        <div class="hint-box">
            <strong>ğŸ’¡ Ä°pucu:</strong> Inorder traversal kullanÄ±n! BST ise inorder Ã§Ä±ktÄ± sÄ±ralÄ± olmalÄ±.
        </div>

        <div class="solution-toggle" onclick="toggleSolution('sol3')">
            ğŸ‘ï¸ Ã‡Ã¶zÃ¼mÃ¼ GÃ¶ster/Gizle
        </div>

        <div class="solution-content" id="sol3">
            <div class="code-container">
                <div class="code-header">
                    <span>Python Ã‡Ã¶zÃ¼mÃ¼</span>
                    <div>
                        <button class="btn btn-run" onclick="CodeBlocks.run(\'code3\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    </div>
                </div>

                <pre id="view-code3"><code class="language-python line-numbers">class Node:
    def __init__(self, data):
        self.data = data
        self.left = None
        self.right = None

def is_valid_bst_inorder(root):
    """
    YÃ¶ntem 1: Inorder traversal ile kontrol
    BST ise â†’ inorder Ã§Ä±ktÄ± kesinlikle sÄ±ralÄ±!
    """
    result = []

    def inorder(node):
        if node:
            inorder(node.left)
            result.append(node.data)
            inorder(node.right)

    inorder(root)

    # SÄ±ralÄ± mÄ± kontrol et
    for i in range(1, len(result)):
        if result[i] <= result[i-1]:
            return False
    return True

def is_valid_bst_bounds(node, min_val=float('-inf'), max_val=float('inf')):
    """
    YÃ¶ntem 2: Min/Max sÄ±nÄ±rlarÄ± ile kontrol
    Her node belirli bir aralÄ±kta olmalÄ±!
    """
    if node is None:
        return True

    # Bu node sÄ±nÄ±rlar iÃ§inde mi?
    if node.data <= min_val or node.data >= max_val:
        return False

    # Sol: max sÄ±nÄ±r = bu node'un deÄŸeri
    # SaÄŸ: min sÄ±nÄ±r = bu node'un deÄŸeri
    return (is_valid_bst_bounds(node.left, min_val, node.data) and
            is_valid_bst_bounds(node.right, node.data, max_val))

# Test 1: GeÃ§erli BST
print("=" * 50)
print("Test 1: GeÃ§erli BST")
print("=" * 50)
root1 = Node(50)
root1.left = Node(30)
root1.right = Node(70)
root1.left.left = Node(20)
root1.left.right = Node(40)

print(f"Inorder yÃ¶ntemi: {is_valid_bst_inorder(root1)}")
print(f"Bounds yÃ¶ntemi: {is_valid_bst_bounds(root1)}")

# Test 2: GeÃ§ersiz BST (sol Ã§ocuk > kÃ¶k)
print("\n" + "=" * 50)
print("Test 2: GeÃ§ersiz BST (sol > kÃ¶k)")
print("=" * 50)
root2 = Node(50)
root2.left = Node(60)  # YANLIÅ! 60 > 50
root2.right = Node(70)

print(f"Inorder yÃ¶ntemi: {is_valid_bst_inorder(root2)}")
print(f"Bounds yÃ¶ntemi: {is_valid_bst_bounds(root2)}")

# Test 3: KarmaÅŸÄ±k geÃ§ersiz BST
print("\n" + "=" * 50)
print("Test 3: Gizli hata (sol alt aÄŸaÃ§ta bÃ¼yÃ¼k deÄŸer)")
print("=" * 50)
#       50
#      /  \
#    30    70
#   /  \
#  20  60  â† 60 > 50, BST kuralÄ± ihlali!
root3 = Node(50)
root3.left = Node(30)
root3.right = Node(70)
root3.left.left = Node(20)
root3.left.right = Node(60)  # YANLIÅ!

print(f"Inorder yÃ¶ntemi: {is_valid_bst_inorder(root3)}")
print(f"Bounds yÃ¶ntemi: {is_valid_bst_bounds(root3)}")</code></pre>

                

                <div id="output-code3" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>
    </div>

    <!-- SORU 4 -->
    <div class="problem-card">
        <div class="problem-header">
            <div class="problem-number">4</div>
            <h3 style="margin:0;">k'Ä±ncÄ± En KÃ¼Ã§Ã¼k Eleman</h3>
            <span class="difficulty medium">Orta</span>
        </div>

        <p>BST'deki k'Ä±ncÄ± en kÃ¼Ã§Ã¼k elemanÄ± bulan fonksiyon yazÄ±n.</p>

        <div class="test-case">
            <strong>Ã–rnek:</strong> AÄŸaÃ§ [50, 30, 70, 20, 40], k=3 â†’ 40 (20, 30, 40)
        </div>

        <div class="hint-box">
            <strong>ğŸ’¡ Ä°pucu:</strong> Inorder traversal sÄ±ralÄ± Ã§Ä±ktÄ± verir. k'Ä±ncÄ± eleman = inorder[k-1]
        </div>

        <div class="solution-toggle" onclick="toggleSolution('sol4')">
            ğŸ‘ï¸ Ã‡Ã¶zÃ¼mÃ¼ GÃ¶ster/Gizle
        </div>

        <div class="solution-content" id="sol4">
            <div class="code-container">
                <div class="code-header">
                    <span>Python Ã‡Ã¶zÃ¼mÃ¼</span>
                    <div>
                        <button class="btn btn-run" onclick="CodeBlocks.run(\'code4\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    </div>
                </div>

                <pre id="view-code4"><code class="language-python line-numbers">class Node:
    def __init__(self, data):
        self.data = data
        self.left = None
        self.right = None

def kth_smallest(root, k):
    """
    k'Ä±ncÄ± en kÃ¼Ã§Ã¼k eleman - O(n)
    Inorder traversal ile
    """
    result = []

    def inorder(node):
        if node and len(result) < k:  # Optimizasyon: k eleman yeterli
            inorder(node.left)
            result.append(node.data)
            inorder(node.right)

    inorder(root)

    if k <= len(result):
        return result[k-1]
    return None

def kth_smallest_iterative(root, k):
    """
    k'Ä±ncÄ± en kÃ¼Ã§Ã¼k eleman - O(h + k)
    Stack ile iteratif inorder - daha verimli!
    """
    stack = []
    current = root
    count = 0

    while stack or current:
        # En sola git
        while current:
            stack.append(current)
            current = current.left

        # Backtrack
        current = stack.pop()
        count += 1

        if count == k:
            return current.data

        current = current.right

    return None

# Test
root = Node(50)
root.left = Node(30)
root.right = Node(70)
root.left.left = Node(20)
root.left.right = Node(40)
root.right.left = Node(60)
root.right.right = Node(80)

print("ğŸŒ³ AÄŸaÃ§: [50, 30, 70, 20, 40, 60, 80]")
print("ğŸ“‹ SÄ±ralÄ±: [20, 30, 40, 50, 60, 70, 80]")
print()

for k in [1, 3, 5, 7]:
    result = kth_smallest(root, k)
    print(f"{k}. en kÃ¼Ã§Ã¼k: {result}")</code></pre>

                

                <div id="output-code4" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>
    </div>

    <!-- SORU 5 -->
    <div class="problem-card">
        <div class="problem-header">
            <div class="problem-number">5</div>
            <h3 style="margin:0;">Lowest Common Ancestor (LCA)</h3>
            <span class="difficulty medium">Orta</span>
        </div>

        <p>BST'de iki node'un en yakÄ±n ortak atasÄ±nÄ± (LCA) bulan fonksiyon yazÄ±n.</p>

        <div class="test-case">
            <strong>Ã–rnek:</strong> AÄŸaÃ§ [50, 30, 70, 20, 40], nodes: 20 ve 40 â†’ LCA: 30
        </div>

        <div class="hint-box">
            <strong>ğŸ’¡ Ä°pucu:</strong> BST Ã¶zelliÄŸi: Ä°ki deÄŸer de kÃ¶kten kÃ¼Ã§Ã¼kse sola, bÃ¼yÃ¼kse saÄŸa git. Aksi halde kÃ¶k LCA'dÄ±r!
        </div>

        <div class="solution-toggle" onclick="toggleSolution('sol5')">
            ğŸ‘ï¸ Ã‡Ã¶zÃ¼mÃ¼ GÃ¶ster/Gizle
        </div>

        <div class="solution-content" id="sol5">
            <div class="code-container">
                <div class="code-header">
                    <span>Python Ã‡Ã¶zÃ¼mÃ¼</span>
                    <div>
                        <button class="btn btn-run" onclick="CodeBlocks.run(\'code5\')">â–¶ Ã‡alÄ±ÅŸtÄ±r</button>
                    </div>
                </div>

                <pre id="view-code5"><code class="language-python line-numbers">class Node:
    def __init__(self, data):
        self.data = data
        self.left = None
        self.right = None

def lca(root, p, q):
    """
    Lowest Common Ancestor - O(h)
    BST Ã¶zelliÄŸini kullan!
    """
    current = root

    while current:
        # Ä°kisi de solda
        if p < current.data and q < current.data:
            current = current.left
        # Ä°kisi de saÄŸda
        elif p > current.data and q > current.data:
            current = current.right
        # Biri solda, biri saÄŸda (veya biri current)
        else:
            return current.data

    return None

def lca_recursive(root, p, q):
    """Recursive versiyon"""
    if root is None:
        return None

    if p < root.data and q < root.data:
        return lca_recursive(root.left, p, q)
    elif p > root.data and q > root.data:
        return lca_recursive(root.right, p, q)
    else:
        return root.data

# Test
root = Node(50)
root.left = Node(30)
root.right = Node(70)
root.left.left = Node(20)
root.left.right = Node(40)
root.right.left = Node(60)
root.right.right = Node(80)

print("ğŸŒ³ AÄŸaÃ§ yapÄ±sÄ±:")
print("       50")
print("      /  \\")
print("    30    70")
print("   /  \\  /  \\")
print("  20  40 60  80")
print()

test_cases = [(20, 40), (20, 80), (60, 80), (30, 70)]
for p, q in test_cases:
    result = lca(root, p, q)
    print(f"LCA({p}, {q}) = {result}")</code></pre>

                

                <div id="output-code5" class="output">Ã‡Ä±ktÄ± bekleniyor...</div>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸ“š Ek Pratik SorularÄ±</h2>
        <ul>
            <li>ğŸ”„ BST'yi tersine Ã§evirin (mirror)</li>
            <li>ğŸ“ BST dengeli mi kontrol edin</li>
            <li>ğŸ”¢ BST'deki node sayÄ±sÄ±nÄ± bulun</li>
            <li>ğŸ“Š Belirli aralÄ±ktaki deÄŸerleri yazdÄ±rÄ±n</li>
            <li>ğŸ”— SÄ±ralÄ± diziden dengeli BST oluÅŸturun</li>
            <li>ğŸŒ¿ TÃ¼m yapraklarÄ± yazdÄ±rÄ±n</li>
        </ul>
    </div>

    <!-- Auto-generated navigation -->
        <div class="nav-footer">
        <a href="5c_bst_traversal.html" class="btn">â¬…ï¸ Ã–nceki: Traversal</a>
        <a href="bst.html" class="btn" style="background:#11998e">ğŸ“‹ BST MenÃ¼</a>
        <a href="6a_linear_search.html" class="btn btn-next">Sonraki: Linear Search â¡ï¸</a>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script>
    function toggleSolution(id) {
        const el = document.getElementById(id);
        el.style.display = el.style.display === 'block' ? 'none' : 'block';
    }

    

    
        const code = document.getElementById(id).value;
        const out = document.getElementById('output-' + id);
        out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
        try {
            pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
            await pyodide.runPythonAsync(code);
            out.innerText = pyodide.runPython("sys.stdout.getvalue()");
        } catch(e) { out.innerText = e; }
    }

    
        else { editor.style.display = 'block'; view.style.display = 'none'; editor.focus(); }
    }
</script>
    </div>

    <!-- Prism.js scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>

    <!-- Pyodide CDN -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>

    <!-- Unified JS -->
    <script src="../src/main.js"></script>
    <script src="../src/visualizations.js"></script>

    <!-- Page-specific JS -->
    <script>

    function toggleSolution(id) {
        const el = document.getElementById(id);
        el.style.display = el.style.display === 'block' ? 'none' : 'block';
    }

    

    
        const code = document.getElementById(id).value;
        const out = document.getElementById('output-' + id);
        out.innerText = "Ã‡alÄ±ÅŸÄ±yor...";
        try {
            pyodide.runPython(`import sys; from io import StringIO; sys.stdout = StringIO()`);
            await pyodide.runPythonAsync(code);
            out.innerText = pyodide.runPython("sys.stdout.getvalue()");
        } catch(e) { out.innerText = e; }
    }

    
        else { editor.style.display = 'block'; view.style.display = 'none'; editor.focus(); }
    }

    </script>
</body>
</html>
