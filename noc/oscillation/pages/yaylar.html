<!DOCTYPE html>
<html lang="tr" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yaylar - SalÄ±nÄ±m</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body>
    <header class="page-header">
        <a href="../index.html" class="back-link">â† Ana Sayfa</a>
        <h1>ğŸ§µ Yaylar</h1>
        <div class="header-actions">
            <button class="theme-toggle" id="themeToggle" aria-label="Tema deÄŸiÅŸtir">
                <span class="theme-icon">ğŸŒ™</span>
            </button>
        </div>
    </header>

    <main class="page-container">
        <!-- GÄ°RÄ°Å -->
        <section class="content-section">
            <h2>Yay Kuvveti <span class="term-en">(Spring Force)</span></h2>

            <p>
                Yaylar, doÄŸadaki en temel elastik sistemlerden biridir. Bir yayÄ± gerdiÄŸinizde veya
                sÄ±kÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda, yay sizi orijinal uzunluÄŸuna doÄŸru geri iter. Bu davranÄ±ÅŸ
                <strong>Hooke YasasÄ±</strong> ile tanÄ±mlanÄ±r.
            </p>

            <div class="image-container">
                <img src="../images/spring-system.png" alt="Yay sistemi" class="content-image">
                <figcaption>Åekil 3.14: Bir Ã§iviye (anchor) ve bir aÄŸÄ±rlÄ±ÄŸa (bob) sahip yay sistemi.</figcaption>
            </div>

            <div class="info-box note">
                <h4>ğŸ’¡ Yaylar Nerede KullanÄ±lÄ±r?</h4>
                <p>
                    Oyunlarda karakterlerin zÄ±plamasÄ±, araÃ§larÄ±n sÃ¼spansiyonu, kumaÅŸ simÃ¼lasyonlarÄ±,
                    yumuÅŸak cisimler (soft body physics) ve hatta ses dalgalarÄ± yay fiziÄŸine dayanÄ±r!
                </p>
            </div>
        </section>

        <!-- HOOKE YASASI -->
        <section class="content-section">
            <h2>Hooke YasasÄ± <span class="term-en">(Hooke's Law)</span></h2>

            <p>
                17. yÃ¼zyÄ±lda Robert Hooke tarafÄ±ndan keÅŸfedilen bu yasa, yay kuvvetini tanÄ±mlar:
            </p>

            <div class="formula-box">
                <div class="formula">Fâƒ— = -k Ã— xâƒ—</div>
                <div class="formula-desc">Yay Kuvveti = -(yay sabiti) Ã— (uzama miktarÄ±)</div>
            </div>

            <div class="image-pair">
                <div class="image-container">
                    <img src="../images/spring-extension.png" alt="Yay uzamasÄ±" class="content-image">
                    <figcaption>Åekil 3.15: YayÄ±n uzamasÄ± (x), ÅŸu anki uzunluk ile doÄŸal uzunluk arasÄ±ndaki farktÄ±r.
                    </figcaption>
                </div>
                <div class="image-container">
                    <img src="../images/spring-force.png" alt="Yay kuvveti yÃ¶nÃ¼" class="content-image">
                    <figcaption>Åekil 3.16: Yay kuvveti, yer deÄŸiÅŸtirme vektÃ¶rÃ¼ne zÄ±t yÃ¶ndedir.</figcaption>
                </div>
            </div>

            <div class="explanation-list">
                <div class="explanation-item">
                    <span class="line-ref">Fâƒ— (Force)</span>
                    <div class="explanation-text">
                        <strong>Yay kuvveti</strong> - YayÄ±n uyguladÄ±ÄŸÄ± geri Ã§ekme/itme kuvveti (vektÃ¶r).
                    </div>
                </div>
                <div class="explanation-item">
                    <span class="line-ref">k (Spring Constant)</span>
                    <div class="explanation-text">
                        <strong>Yay sabiti</strong> - YayÄ±n ne kadar sert olduÄŸu.
                        BÃ¼yÃ¼k k = sert yay, kÃ¼Ã§Ã¼k k = yumuÅŸak yay.
                    </div>
                </div>
                <div class="explanation-item">
                    <span class="line-ref">xâƒ— (Displacement)</span>
                    <div class="explanation-text">
                        <strong>Uzama/sÄ±kÄ±ÅŸma miktarÄ±</strong> - YayÄ±n orijinal uzunluÄŸundan ne kadar uzadÄ±ÄŸÄ±/sÄ±kÄ±ÅŸtÄ±ÄŸÄ±.
                    </div>
                </div>
                <div class="explanation-item">
                    <span class="line-ref">- (Negatif)</span>
                    <div class="explanation-text">
                        <strong>Geri getirici</strong> - Kuvvet her zaman uzamaya ZIT yÃ¶nde.
                        Yay gerilirse Ã§eker, sÄ±kÄ±ÅŸÄ±rsa iter.
                    </div>
                </div>
            </div>

            <div class="info-box tip">
                <h4>ğŸ® SimÃ¼lasyonda</h4>
                <p>
                    x = (ÅŸu anki uzunluk) - (doÄŸal uzunluk). Pozitif x = yay gerilmiÅŸ,
                    negatif x = yay sÄ±kÄ±ÅŸmÄ±ÅŸ. Kuvvet her zaman dengeye doÄŸru!
                </p>
            </div>
        </section>

        <!-- BASÄ°T YAY -->
        <section class="content-section">
            <h2>Basit Yay Ã–rneÄŸi <span class="term-en">(Simple Spring)</span></h2>

            <p>
                Bir noktaya baÄŸlÄ±, dikey salÄ±nan bir yay:
            </p>

            <div id="editor1"></div>

            <div class="explanation-list">
                <h4>SatÄ±r SatÄ±r AÃ§Ä±klama:</h4>
                <div class="explanation-item">
                    <span class="line-ref">SatÄ±r 2-3</span>
                    <div class="explanation-text">
                        <code>restLength</code> yayÄ±n doÄŸal uzunluÄŸu (gerilmeden).
                        <code>k</code> yay sabiti (sertlik).
                    </div>
                </div>
                <div class="explanation-item">
                    <span class="line-ref">SatÄ±r 19-20</span>
                    <div class="explanation-text">
                        YayÄ±n ÅŸu anki uzunluÄŸunu hesaplÄ±yoruz. <code>sub()</code> ile
                        anchor'dan bob'a vektÃ¶r, <code>mag()</code> ile uzunluk.
                    </div>
                </div>
                <div class="explanation-item">
                    <span class="line-ref">SatÄ±r 23</span>
                    <div class="explanation-text">
                        <strong>x = uzama miktarÄ±</strong>. Pozitif ise yay gerilmiÅŸ,
                        negatif ise sÄ±kÄ±ÅŸmÄ±ÅŸ.
                    </div>
                </div>
                <div class="explanation-item">
                    <span class="line-ref">SatÄ±r 26-29</span>
                    <div class="explanation-text">
                        <strong>Hooke YasasÄ±!</strong> Kuvvetin yÃ¶nÃ¼ = bob'dan anchor'a (normalize).
                        BÃ¼yÃ¼klÃ¼ÄŸÃ¼ = k Ã— x. Negatif iÅŸaret geri getirici kuvvet iÃ§in.
                    </div>
                </div>
            </div>

            <div class="try-box">
                <h4>ğŸ”¬ Deneyin:</h4>
                <ol>
                    <li>
                        <strong>SatÄ±r 3:</strong> <code>k = 0.2</code> yapÄ±n.
                        <span class="expectation">Beklenti: Daha sert yay, hÄ±zlÄ± salÄ±nÄ±m</span>
                    </li>
                    <li>
                        <strong>SatÄ±r 3:</strong> <code>k = 0.01</code> yapÄ±n.
                        <span class="expectation">Beklenti: Ã‡ok yumuÅŸak yay, yavaÅŸ salÄ±nÄ±m</span>
                    </li>
                    <li>
                        <strong>SatÄ±r 4:</strong> <code>damping = 1.0</code> yapÄ±n.
                        <span class="expectation">Beklenti: SÃ¼rtÃ¼nme yok, sonsuza kadar salÄ±nÄ±r</span>
                    </li>
                </ol>
            </div>
        </section>

        <!-- ETKÄ°LEÅÄ°MLÄ° YAY -->
        <section class="content-section">
            <h2>EtkileÅŸimli Yay <span class="term-en">(Interactive Spring)</span></h2>

            <p>
                Fare ile sÃ¼rÃ¼klenebilen bir bob ekleyelim:
            </p>

            <div id="editor2"></div>

            <div class="explanation-list">
                <h4>EtkileÅŸim Ã–zellikleri:</h4>
                <div class="explanation-item">
                    <span class="line-ref">clicked()</span>
                    <div class="explanation-text">
                        Fare tÄ±klandÄ±ÄŸÄ±nda bob'a yeterince yakÄ±nsa sÃ¼rÃ¼klemeye baÅŸla.
                    </div>
                </div>
                <div class="explanation-item">
                    <span class="line-ref">drag()</span>
                    <div class="explanation-text">
                        SÃ¼rÃ¼kleme sÄ±rasÄ±nda bob'u fare pozisyonuna taÅŸÄ±.
                    </div>
                </div>
                <div class="explanation-item">
                    <span class="line-ref">stopDragging()</span>
                    <div class="explanation-text">
                        Fare bÄ±rakÄ±ldÄ±ÄŸÄ±nda sÃ¼rÃ¼klemeyi durdur, yay fiziÄŸi devreye girsin.
                    </div>
                </div>
            </div>
        </section>

        <!-- Ã‡OK NOKTALÄ° YAY -->
        <section class="content-section">
            <h2>Ã‡ok NoktalÄ± Yay (Zincir) <span class="term-en">(Multi-Point Spring / Chain)</span></h2>

            <p>
                Birden fazla noktayÄ± yaylarla birbirine baÄŸlayarak <strong>zincir</strong> veya
                <strong>halat</strong> simÃ¼lasyonu oluÅŸturabiliriz:
            </p>



            <div id="editor3"></div>

            <div class="info-box note">
                <h4>ğŸ’¡ Bu Teknik Nerelerde KullanÄ±lÄ±r?</h4>
                <ul>
                    <li><strong>KumaÅŸ simÃ¼lasyonu:</strong> 2D yay aÄŸÄ±</li>
                    <li><strong>Halat/ip:</strong> Tek boyutlu zincir</li>
                    <li><strong>YumuÅŸak cisimler:</strong> JÃ¶le, balÄ±k gibi</li>
                    <li><strong>SaÃ§/tÃ¼y:</strong> Animasyonlarda</li>
                </ul>
            </div>
        </section>

        <!-- Ã–ZET -->
        <section class="content-section">
            <h2>ğŸ“ Bu BÃ¶lÃ¼mÃ¼n Ã–zeti</h2>

            <ul>
                <li><strong>Hooke YasasÄ±:</strong> F = -k Ã— x</li>
                <li><strong>k (Yay Sabiti):</strong> YayÄ±n sertliÄŸi</li>
                <li><strong>x (Uzama):</strong> DoÄŸal uzunluktan sapma</li>
                <li><strong>Geri Getirici Kuvvet:</strong> Her zaman dengeye doÄŸru</li>
                <li><strong>Damping:</strong> Enerji kaybÄ±, salÄ±nÄ±mÄ± sÃ¶nÃ¼mler</li>
                <li><strong>Zincir:</strong> Ã‡ok noktalÄ± yay sistemi</li>
            </ul>
        </section>

        <!-- NAVÄ°GASYON -->
        <nav class="page-navigation">
            <a href="sarkac.html" class="nav-link prev">
                <span>â†</span>
                <div>
                    <span class="nav-link-label">Ã–nceki</span>
                    <span class="nav-link-title">SarkaÃ§</span>
                </div>
            </a>
            <a href="../index.html" class="nav-link next">
                <div>
                    <span class="nav-link-label">Bitti!</span>
                    <span class="nav-link-title">Ana Sayfa</span>
                </div>
                <span>â†’</span>
            </a>
        </nav>
    </main>

    <footer class="main-footer">
        <p>Nature of Code TÃ¼rkÃ§e | Daniel Shiffman'Ä±n kitabÄ±ndan uyarlanmÄ±ÅŸtÄ±r</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="../js/theme.js"></script>
    <script src="../js/live-editor.js"></script>

    <script>
        // Editor 1: Basit yay
        new LiveEditor('#editor1', {
            files: [
                {
                    name: 'sketch.js',
                    content: `let anchor;      // Sabit nokta
let restLength = 100;  // DoÄŸal uzunluk
let k = 0.05;    // Yay sabiti
let damping = 0.98;  // SÃ¼rtÃ¼nme

let bob;         // Sallanan nokta
let velocity;

function setup() {
  createCanvas(400, 400);
  anchor = createVector(width / 2, 50);
  bob = createVector(width / 2, 200);  // BaÅŸlangÄ±Ã§ta gerilmiÅŸ
  velocity = createVector(0, 0);
}

function draw() {
  background(220);

  // Yay uzunluÄŸunu hesapla
  let force = p5.Vector.sub(bob, anchor);
  let currentLength = force.mag();

  // Uzama miktarÄ±
  let x = currentLength - restLength;

  // Hooke YasasÄ±: F = -k * x
  force.normalize();
  force.mult(-k * x);

  // YerÃ§ekimi ekle
  let gravity = createVector(0, 0.1);

  // Toplam kuvvet
  velocity.add(force);
  velocity.add(gravity);
  velocity.mult(damping);  // SÃ¼rtÃ¼nme
  bob.add(velocity);

  // Ã‡iz
  stroke(0);
  strokeWeight(2);

  // Yay (zigzag Ã§izgi)
  drawSpring(anchor.x, anchor.y, bob.x, bob.y, 10);

  // Anchor
  fill(100);
  circle(anchor.x, anchor.y, 15);

  // Bob
  fill(127, 200, 127);
  circle(bob.x, bob.y, 40);
}

function drawSpring(x1, y1, x2, y2, coils) {
  let dx = x2 - x1;
  let dy = y2 - y1;
  let len = sqrt(dx*dx + dy*dy);
  let angle = atan2(dy, dx);

  push();
  translate(x1, y1);
  rotate(angle);

  beginShape();
  vertex(0, 0);
  for (let i = 0; i < coils; i++) {
    let x = (i + 0.25) * len / coils;
    let y = (i % 2 === 0) ? 10 : -10;
    vertex(x, y);
  }
  vertex(len, 0);
  endShape();
  pop();
}`
                }
            ]
        });

        // Editor 2: EtkileÅŸimli yay
        new LiveEditor('#editor2', {
            files: [
                {
                    name: 'sketch.js',
                    content: `let spring;

function setup() {
  createCanvas(400, 400);
  spring = new Spring(width/2, 50, 150, 0.05);
}

function draw() {
  background(220);

  spring.update();
  spring.show();

  // Ä°pucu
  fill(100);
  noStroke();
  textAlign(CENTER);
  text("Topu sÃ¼rÃ¼kleyip bÄ±rakÄ±n!", width/2, height - 20);
}

function mousePressed() {
  spring.clicked(mouseX, mouseY);
}

function mouseDragged() {
  spring.drag(mouseX, mouseY);
}

function mouseReleased() {
  spring.stopDragging();
}`
                },
                {
                    name: 'spring.js',
                    content: `class Spring {
  constructor(x, y, len, k) {
    this.anchor = createVector(x, y);
    this.restLength = len;
    this.k = k;
    this.damping = 0.98;

    this.bob = createVector(x, y + len);
    this.velocity = createVector(0, 0);

    this.bobRadius = 20;
    this.dragging = false;
  }

  update() {
    if (!this.dragging) {
      // Yay kuvveti
      let force = p5.Vector.sub(this.bob, this.anchor);
      let currentLength = force.mag();
      let x = currentLength - this.restLength;

      force.normalize();
      force.mult(-this.k * x);

      // YerÃ§ekimi
      let gravity = createVector(0, 0.1);

      // GÃ¼ncelle
      this.velocity.add(force);
      this.velocity.add(gravity);
      this.velocity.mult(this.damping);
      this.bob.add(this.velocity);
    }
  }

  show() {
    stroke(0);
    strokeWeight(2);
    line(this.anchor.x, this.anchor.y, this.bob.x, this.bob.y);

    fill(100);
    circle(this.anchor.x, this.anchor.y, 10);

    fill(this.dragging ? color(220, 100, 100) : color(127, 200, 127));
    circle(this.bob.x, this.bob.y, this.bobRadius * 2);
  }

  clicked(mx, my) {
    let d = dist(mx, my, this.bob.x, this.bob.y);
    if (d < this.bobRadius) {
      this.dragging = true;
      this.velocity.set(0, 0);
    }
  }

  drag(mx, my) {
    if (this.dragging) {
      this.bob.set(mx, my);
    }
  }

  stopDragging() {
    this.dragging = false;
  }
}`
                }
            ]
        });

        // Editor 3: Zincir
        new LiveEditor('#editor3', {
            files: [
                {
                    name: 'sketch.js',
                    content: `let particles = [];
let springs = [];
let numParticles = 8;
let restLength = 30;
let k = 0.3;

function setup() {
  createCanvas(400, 400);

  // PartikÃ¼lleri oluÅŸtur
  for (let i = 0; i < numParticles; i++) {
    let x = width / 2;
    let y = 50 + i * restLength;
    let p = new Particle(x, y);

    // Ä°lk partikÃ¼l sabit
    if (i === 0) p.locked = true;

    particles.push(p);
  }

  // YaylarÄ± oluÅŸtur (ardÄ±ÅŸÄ±k partikÃ¼ller arasÄ±)
  for (let i = 0; i < particles.length - 1; i++) {
    springs.push({
      a: particles[i],
      b: particles[i + 1]
    });
  }
}

function draw() {
  background(220);

  // Yay kuvvetlerini uygula
  for (let s of springs) {
    applySpring(s.a, s.b);
  }

  // PartikÃ¼lleri gÃ¼ncelle ve Ã§iz
  for (let p of particles) {
    p.applyGravity();
    p.update();
    p.show();
  }

  // YaylarÄ± Ã§iz
  stroke(0);
  strokeWeight(2);
  for (let s of springs) {
    line(s.a.pos.x, s.a.pos.y, s.b.pos.x, s.b.pos.y);
  }

  // Fare ile son partikÃ¼li sÃ¼rÃ¼kle
  if (mouseIsPressed) {
    particles[particles.length-1].pos.set(mouseX, mouseY);
  }
}

function applySpring(a, b) {
  let force = p5.Vector.sub(b.pos, a.pos);
  let currentLen = force.mag();
  let x = currentLen - restLength;

  force.normalize();
  force.mult(k * x);

  if (!a.locked) a.applyForce(force);
  force.mult(-1);
  if (!b.locked) b.applyForce(force);
}`
                },
                {
                    name: 'particle.js',
                    content: `class Particle {
  constructor(x, y) {
    this.pos = createVector(x, y);
    this.vel = createVector(0, 0);
    this.acc = createVector(0, 0);
    this.damping = 0.98;
    this.locked = false;
  }

  applyForce(force) {
    this.acc.add(force);
  }

  applyGravity() {
    this.acc.add(createVector(0, 0.1));
  }

  update() {
    if (!this.locked) {
      this.vel.add(this.acc);
      this.vel.mult(this.damping);
      this.pos.add(this.vel);
    }
    this.acc.set(0, 0);
  }

  show() {
    fill(this.locked ? color(100) : color(127, 200, 200));
    stroke(0);
    strokeWeight(2);
    circle(this.pos.x, this.pos.y, 20);
  }
}`
                }
            ]
        });
    </script>
</body>

</html>