<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeliÅŸmiÅŸ p5.js 'for' DÃ¶ngÃ¼leri AtÃ¶lyesi</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        h1, h2, h3 {
            color: #2c3e50;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
        }
        h1 { font-size: 2.5em; }
        h2 { font-size: 2em; }
        h3 { font-size: 1.5em; margin-top: 30px; }
        code {
            font-family: "Courier New", Courier, monospace;
            background-color: #ecf0f1;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.95em;
        }
        pre {
            background-color: #34495e;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 0.9em;
        }
        .example {
            margin-top: 25px;
            border-top: 2px dashed #bdc3c7;
            padding-top: 25px;
        }
        .interactive-area {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 15px;
        }
        .code-editor {
            flex: 1;
            min-width: 300px;
            height: 400px;
            font-family: "Courier New", Courier, monospace;
            font-size: 14px;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            resize: vertical;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }
        .canvas-container {
            flex-basis: 400px;
            height: 400px;
            background: #f0f0f0;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            overflow: hidden;
        }
        .canvas-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .run-button {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            font-weight: bold;
            color: white;
            background-color: #27ae60;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 10px;
        }
        .run-button:hover {
            background-color: #2ecc71;
        }
        .challenge {
            background-color: #fffbe6;
            border: 1px solid #ffe58f;
            border-radius: 5px;
            padding: 15px;
        }
        .challenge h4 {
            margin-top: 0;
            color: #d98218;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>p5.js ile EtkileÅŸimli 'for' DÃ¶ngÃ¼leri Defteri ğŸŒ€ (GeliÅŸmiÅŸ SÃ¼rÃ¼m)</h1>

        <p>Bu atÃ¶lyede, <code>for</code> dÃ¶ngÃ¼lerinin gÃ¼cÃ¼nÃ¼ en basitten karmaÅŸÄ±ÄŸa doÄŸru keÅŸfedeceÄŸiz. Kodu deÄŸiÅŸtirin ve "ğŸš€ Ã‡alÄ±ÅŸtÄ±r" butonuna basarak sonucunu anÄ±nda gÃ¶rÃ¼n!</p>

        <h2><code>for</code> DÃ¶ngÃ¼sÃ¼ Nedir?</h2>
        <p><code>for</code> dÃ¶ngÃ¼sÃ¼, bir kod bloÄŸunu belirli bir sayÄ±da tekrar tekrar Ã§alÄ±ÅŸtÄ±rmanÄ±n en yaygÄ±n yoludur. Bilgisayara "Bu iÅŸi X kez yap" demektir.</p>
        <pre><code>for (let i = 0; i < 10; i++) {
  // Bu kod 10 kez Ã§alÄ±ÅŸacak
  // 'i' deÄŸiÅŸkeni sÄ±rasÄ±yla 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 olacak
}</code></pre>

        <div class="example">
            <h3>Ã–rnek 1: Basit DÃ¶ngÃ¼ (Dikey Ã‡izgiler)</h3>
            <p><code>for</code> dÃ¶ngÃ¼sÃ¼ kullanarak <code>i</code> deÄŸiÅŸkeninin her deÄŸerinde <code>x</code> pozisyonunu kaydÄ±rarak dikey Ã§izgiler Ã§izelim.</p>
            <div class="interactive-area">
                <textarea class="code-editor" id="code-1">function setup() {
  createCanvas(400, 400);
  background(240); // AÃ§Ä±k gri arka plan
  stroke(0); // Siyah Ã§izgi rengi
  strokeWeight(2); // Ã‡izgi kalÄ±nlÄ±ÄŸÄ±

  // 10 adet dikey Ã§izgi Ã§izelim
  let adet = 10;
  let bosluk = 30; // Ã‡izgiler arasÄ± boÅŸluk

  for (let i = 0; i < adet; i++) {
    // x pozisyonunu i'ye gÃ¶re hesapla
    // i=0 iÃ§in x=40, i=1 iÃ§in x=70, i=2 iÃ§in x=100...
    let x = 40 + (i * bosluk);

    // Ã‡izgiyi Ã§iz (x1, y1, x2, y2)
    line(x, 50, x, 350);
  }
}

function draw() {
  noLoop();
}
</textarea>
                <div class="canvas-container" id="canvas-1"></div>
            </div>
            <button class="run-button" data-target="code-1" data-canvas="canvas-1">ğŸš€ Ã‡alÄ±ÅŸtÄ±r / DeÄŸiÅŸtir ve GÃ¶r</button>
            <div class="challenge">
                <h4>ğŸš€ DeÄŸiÅŸtir ve GÃ¶r (Challenge)</h4>
                <ul>
                    <li><code>let adet = 10;</code> satÄ±rÄ±nÄ± <code>let adet = 20;</code> yap. Ne oldu?</li>
                    <li><code>let bosluk = 30;</code> satÄ±rÄ±nÄ± <code>let bosluk = 10;</code> yap.</li>
                </ul>
            </div>
        </div>

        <div class="example">
            <h3>Ã–rnek 2: Basit DÃ¶ngÃ¼ (Yatay Ã‡izgiler)</h3>
            <p>Bu sefer de aynÄ± mantÄ±kla, <code>i</code> deÄŸiÅŸkenini <code>y</code> pozisyonunu kontrol etmek iÃ§in kullanalÄ±m ve yatay Ã§izgiler Ã§izelim.</p>
            <div class="interactive-area">
                <textarea class="code-editor" id="code-2">function setup() {
  createCanvas(400, 400);
  background(240);
  stroke(200, 0, 0); // KÄ±rmÄ±zÄ± Ã§izgi rengi
  strokeWeight(2);

  let adet = 10;
  let bosluk = 30;

  for (let i = 0; i < adet; i++) {
    // y pozisyonunu i'ye gÃ¶re hesapla
    // i=0 iÃ§in y=40, i=1 iÃ§in y=70, i=2 iÃ§in y=100...
    let y = 40 + (i * bosluk);

    // Ã‡izgiyi Ã§iz (x1, y1, x2, y2)
    line(50, y, 350, y);
  }
}

function draw() {
  noLoop();
}
</textarea>
                <div class="canvas-container" id="canvas-2"></div>
            </div>
            <button class="run-button" data-target="code-2" data-canvas="canvas-2">ğŸš€ Ã‡alÄ±ÅŸtÄ±r / DeÄŸiÅŸtir ve GÃ¶r</button>
            <div class="challenge">
                <h4>ğŸš€ DeÄŸiÅŸtir ve GÃ¶r</h4>
                <ul>
                    <li><code>line(50, y, 350, y);</code> satÄ±rÄ±nÄ± <code>line(y, 50, y, 350);</code> yap. (Yeniden dikey oldular, ama neden?)</li>
                    <li><code>stroke(200, 0, 0);</code> satÄ±rÄ±nÄ± <code>stroke(0, 0, 200);</code> yap. (Mavi oldular).</li>
                </ul>
            </div>
        </div>

        <div class="example">
            <h3>Ã–rnek 3: Ä°ki AyrÄ± DÃ¶ngÃ¼ (Basit Izgara)</h3>
            <p>Bir Ä±zgara (grid) yapmak iÃ§in Ã–rnek 1 ve Ã–rnek 2'deki mantÄ±ÄŸÄ± birleÅŸtirebiliriz. HenÃ¼z iÃ§ iÃ§e dÃ¶ngÃ¼ye gerek yok. Sadece iki tane *ayrÄ±* <code>for</code> dÃ¶ngÃ¼sÃ¼ kullanacaÄŸÄ±z.</p>
            <div class="interactive-area">
                <textarea class="code-editor" id="code-3">function setup() {
  createCanvas(400, 400);
  background(255);
  strokeWeight(1);

  let bosluk = 40; // Hem yatay hem dikey boÅŸluk

  // 1. DÃ–NGÃœ: Dikey Ã§izgiler
  stroke(200, 200, 200); // Gri dikey Ã§izgiler
  for (let x = bosluk; x < width; x += bosluk) {
    line(x, 0, x, height);
  }

  // 2. DÃ–NGÃœ: Yatay Ã§izgiler
  stroke(150, 150, 150); // Koyu gri yatay Ã§izgiler
  for (let y = bosluk; y < height; y += bosluk) {
    line(0, y, width, y);
  }
}

function draw() {
  noLoop();
}
</textarea>
                <div class="canvas-container" id="canvas-3"></div>
            </div>
            <button class="run-button" data-target="code-3" data-canvas="canvas-3">ğŸš€ Ã‡alÄ±ÅŸtÄ±r / DeÄŸiÅŸtir ve GÃ¶r</button>
            <div class="challenge">
                <h4>ğŸš€ DeÄŸiÅŸtir ve GÃ¶r</h4>
                <ul>
                    <li><code>let bosluk = 40;</code> satÄ±rÄ±nÄ± <code>let bosluk = 10;</code> yap.</li>
                    <li>Dikey Ã§izgileri kÄ±rmÄ±zÄ±, yatay Ã§izgileri mavi yapÄ±n.</li>
                </ul>
            </div>
        </div>

        <div class="example">
            <h3>Ã–rnek 4: Ä°Ã§ Ä°Ã§e DÃ¶ngÃ¼ler (Daire IzgarasÄ±)</h3>
            <p>Ã–rnek 3'te Ã§izgileri Ã§izmek iÃ§in iki <i>ayrÄ±</i> dÃ¶ngÃ¼ kullandÄ±k. Åimdi, Ä±zgaranÄ±n <i>her kesiÅŸim noktasÄ±na</i> bir daire Ã§izmek iÃ§in <b>iÃ§ iÃ§e dÃ¶ngÃ¼ (nested loop)</b> kullanacaÄŸÄ±z. DÄ±ÅŸtaki dÃ¶ngÃ¼ satÄ±rlar (<code>y</code>) iÃ§in, iÃ§teki dÃ¶ngÃ¼ sÃ¼tunlar (<code>x</code>) iÃ§in Ã§alÄ±ÅŸacak.</p>
            <div class="interactive-area">
                <textarea class="code-editor" id="code-4">function setup() {
  createCanvas(400, 400);
  background(20); // Koyu arka plan
  noStroke(); // Dairelerin kenarlÄ±ÄŸÄ± olmasÄ±n

  let bosluk = 40; // Daireler arasÄ± boÅŸluk
  let boyut = 30; // Daire boyutu

  // Y (dikey) ekseni iÃ§in DIÅ dÃ¶ngÃ¼
  // y = 40, 80, 120, ... 360
  for (let y = bosluk; y < height; y += bosluk) {

    // X (yatay) ekseni iÃ§in Ä°Ã‡ dÃ¶ngÃ¼
    // x = 40, 80, 120, ... 360
    for (let x = bosluk; x < width; x += bosluk) {

      // Renk ayarÄ±: x ve y'ye gÃ¶re deÄŸiÅŸen bir renk
      fill(x, y, 150);

      ellipse(x, y, boyut, boyut);
    }
  }
}

function draw() {
  noLoop();
}
</textarea>
                <div class="canvas-container" id="canvas-4"></div>
            </div>
            <button class="run-button" data-target="code-4" data-canvas="canvas-4">ğŸš€ Ã‡alÄ±ÅŸtÄ±r / DeÄŸiÅŸtir ve GÃ¶r</button>
            <div class="challenge">
                <h4>ğŸš€ DeÄŸiÅŸtir ve GÃ¶r</h4>
                <ul>
                    <li><code>ellipse(x, y, boyut, boyut);</code> satÄ±rÄ±nÄ± <code>rect(x, y, boyut, boyut);</code> yap. (Daireler kare oldu!)</li>
                    <li><code>fill(x, y, 150);</code> satÄ±rÄ±nÄ± <code>fill(random(255), 0, 0);</code> yap. (Rastgele kÄ±rmÄ±zÄ±lar).</li>
                    <li><code>let boyut = 30;</code> satÄ±rÄ±nÄ± <code>let boyut = x / 10;</code> yap. (Boyut x'e gÃ¶re deÄŸiÅŸsin!)</li>
                </ul>
            </div>
        </div>

        <div class="example">
            <h3>Ã–rnek 5: Ä°Ã§ Ä°Ã§e DÃ¶ngÃ¼ + <code>if</code> (SatranÃ§ TahtasÄ±)</h3>
            <p>Ä°Ã§ iÃ§e dÃ¶ngÃ¼lerin en klasik Ã¶rneklerinden biri. 8x8'lik bir Ä±zgara Ã§izeceÄŸiz ve <code>if</code> komutu kullanarak her karenin rengini belirleyeceÄŸiz. Sihirli hile: <code>(i + j) % 2</code> (satÄ±r ve sÃ¼tun indekslerinin toplamÄ±nÄ±n 2'ye bÃ¶lÃ¼mÃ¼nden kalan).</p>
            <div class="interactive-area">
                <textarea class="code-editor" id="code-5">function setup() {
  createCanvas(400, 400);
  noStroke();

  let kareSayisi = 8; // 8x8 bir tahta
  let kareBoyutu = width / kareSayisi; // 400 / 8 = 50

  // SatÄ±rlar (j)
  for (let j = 0; j < kareSayisi; j++) {

    // SÃ¼tunlar (i)
    for (let i = 0; i < kareSayisi; i++) {

      // Karelerin (x, y) pozisyonu
      let x = i * kareBoyutu;
      let y = j * kareBoyutu;

      // Renk belirleme: (i+j) toplamÄ± Ã§ift mi tek mi?
      if ((i + j) % 2 == 0) {
        fill(255); // Beyaz (veya aÃ§Ä±k renk)
      } else {
        fill(0); // Siyah (veya koyu renk)
      }

      rect(x, y, kareBoyutu, kareBoyutu);
    }
  }
}

function draw() {
  noLoop();
}
</textarea>
                <div class="canvas-container" id="canvas-5"></div>
            </div>
            <button class="run-button" data-target="code-5" data-canvas="canvas-5">ğŸš€ Ã‡alÄ±ÅŸtÄ±r / DeÄŸiÅŸtir ve GÃ¶r</button>
            <div class="challenge">
                <h4>ğŸš€ DeÄŸiÅŸtir ve GÃ¶r</h4>
                <ul>
                    <li><code>fill(255);</code> ve <code>fill(0);</code> satÄ±rlarÄ±nÄ± <code>fill(255, 0, 0);</code> (KÄ±rmÄ±zÄ±) ve <code>fill(0, 0, 255);</code> (Mavi) olarak deÄŸiÅŸtirin.</li>
                    <li><code>let kareSayisi = 8;</code> satÄ±rÄ±nÄ± <code>let kareSayisi = 20;</code> yapÄ±n.</li>
                    <li><code>if ((i + j) % 2 == 0)</code> koÅŸulunu <code>if (i % 2 == 0)</code> olarak deÄŸiÅŸtirin. Ne oldu? (Dikey Ã§izgiler!)</li>
                </ul>
            </div>
        </div>

        <div class="example">
            <h3>Ã–rnek 6: DÃ¶ngÃ¼ + Animasyon (Hareketli Dalgalar)</h3>
            <p>ArtÄ±k <code>setup()</code> yerine <code>draw()</code> (saniyede 60 kez Ã§alÄ±ÅŸÄ±r) fonksiyonu iÃ§inde dÃ¶ngÃ¼ kullanalÄ±m. <code>frameCount</code> deÄŸiÅŸkeni "zamanÄ±" temsil eder ve <code>sin()</code> fonksiyonu ile birleÅŸerek yumuÅŸak dalgalar yaratÄ±r.</p>
            <div class="interactive-area">
                <textarea class="code-editor" id="code-6">function setup() {
  createCanvas(400, 400);
  stroke(255); // Beyaz Ã§izgiler
  noFill();
  strokeWeight(2);
}

function draw() {
  // Arka planÄ± her karede hafif silik siyaha boya
  // Bu, "hareket izi" (motion blur) efekti yaratÄ±r
  background(0, 30);

  // Ekrana 5 tane dalga Ã§izelim
  for (let j = 0; j < 5; j++) {

    beginShape(); // Bir ÅŸekil Ã§izmeye baÅŸla

    // x ekseninde 0'dan 400'e kadar 5'er piksel arayla git
    for (let x = 0; x <= width; x += 5) {

      // sin() fonksiyonu -1 ile 1 arasÄ± yumuÅŸak bir dalga Ã¼retir
      let angle = (x * 0.01) + (frameCount * 0.03) + (j * 0.5);

      // sin() sonucunu y pozisyonuna Ã§evir
      let y = height / 2 + sin(angle) * (50 - j * 10);

      vertex(x, y); // Åekle bir kÃ¶ÅŸe ekle
    }

    endShape(); // Åekli bitir
  }
}
</textarea>
                <div class="canvas-container" id="canvas-6"></div>
            </div>
            <button class="run-button" data-target="code-6" data-canvas="canvas-6">ğŸš€ Ã‡alÄ±ÅŸtÄ±r / DeÄŸiÅŸtir ve GÃ¶r</button>
            <div class="challenge">
                <h4>ğŸš€ DeÄŸiÅŸtir ve GÃ¶r</h4>
                <ul>
                    <li><code>background(0, 30);</code> satÄ±rÄ±nÄ± <code>background(0);</code> yap. (Ä°z efekti kayboldu).</li>
                    <li><code>for (let j = 0; j < 5; j++)</code> satÄ±rÄ±nÄ± <code>for (let j = 0; j < 1; j++)</code> yap. (Sadece 1 dalga).</li>
                    <li><code>x += 5</code> kÄ±smÄ±nÄ± <code>x += 20</code> yap. (Dalga daha keskin kÃ¶ÅŸeli oldu).</li>
                </ul>
            </div>
        </div>

        <div class="example">
            <h3>Ã–rnek 7: DÃ¶ngÃ¼ + Fare EtkileÅŸimi (Ä°nteraktif Sanat)</h3>
            <p><code>for</code> dÃ¶ngÃ¼sÃ¼ iÃ§indeki hesaplamalarda fare pozisyonunu (<code>mouseX</code>, <code>mouseY</code>) kullanarak interaktif sanat eserleri yaratabiliriz.</p>
            <div class="interactive-area">
                <textarea class="code-editor" id="code-7">function setup() {
  createCanvas(400, 400);
  background(255);
  strokeWeight(1);
}

function draw() {
  // Arka planÄ± her seferinde temizle
  background(250, 240, 230); // AÃ§Ä±k somon rengi

  // AdÄ±m sayÄ±sÄ±nÄ± fare'nin Y konumuna gÃ¶re belirle
  let adimSayisi = floor(map(mouseY, 0, height, 2, 20));
  let bosluk = width / adimSayisi;

  for (let i = 0; i <= adimSayisi; i++) {

    let x = i * bosluk;

    // Renk ayarÄ±: Fare'nin X konumuna gÃ¶re renk deÄŸiÅŸsin
    let r = map(mouseX, 0, width, 0, 255);
    stroke(r, 100, 150, 150); // YarÄ± ÅŸeffaf renk

    // Ã‡izgiler Ã§iz
    line(x, 0, mouseX, mouseY); // Ãœst kenardan fareye
    line(0, x, mouseX, mouseY); // Sol kenardan fareye
    line(x, height, mouseX, mouseY); // Alt kenardan fareye
    line(width, x, mouseX, mouseY); // SaÄŸ kenardan fareye
  }
}
</textarea>
                <div class="canvas-container" id="canvas-7"></div>
            </div>
            <button class="run-button" data-target="code-7" data-canvas="canvas-7">ğŸš€ Ã‡alÄ±ÅŸtÄ±r / DeÄŸiÅŸtir ve GÃ¶r</button>
            <div class="challenge">
                <h4>ğŸš€ DeÄŸiÅŸtir ve GÃ¶r</h4>
                <ul>
                    <li><code>strokeWeight(1);</code> satÄ±rÄ±nÄ± <code>setup()</code> iÃ§inde <code>strokeWeight(5);</code> yap.</li>
                    <li><code>background(250, 240, 230);</code> satÄ±rÄ±nÄ± <code>draw()</code> dÄ±ÅŸÄ±na, <code>setup()</code> iÃ§ine taÅŸÄ±. (Ekran temizlenmiyor!)</li>
                    <li><code>let r = map(mouseX, 0, width, 0, 255);</code> satÄ±rÄ±nÄ± <code>let r = map(i, 0, adimSayisi, 0, 255);</code> yap.</li>
                </ul>
            </div>
        </div>

    </div>

    <script>
        function runSketch(code, canvasId) {
            const container = document.getElementById(canvasId);
            container.innerHTML = "";
            const iframe = document.createElement('iframe');

            const p5LibraryUrl = 'https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js';
            const htmlContent = `
                <html>
                    <head>
                        <script src="${p5LibraryUrl}"><\/script>
                        <style> body { margin: 0; overflow: hidden; } </style>
                    </head>
                    <body>
                        <script>
                            try {
                                ${code}
                            } catch (e) {
                                console.error(e);
                                function setup() {
                                    createCanvas(400, 400);
                                    background(255, 200, 200);
                                    fill(0);
                                    noStroke();
                                    textAlign(LEFT, TOP);
                                    text("Kodunuzda bir hata var:\\n\\n" + e.message, 10, 10);
                                    noLoop();
                                }
                            }
                        <\/script>
                    </body>
                </html>
            `;

            container.appendChild(iframe);
            iframe.contentWindow.document.open();
            iframe.contentWindow.document.write(htmlContent);
            iframe.contentWindow.document.close();
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('.run-button').forEach(button => {
                const targetId = button.dataset.target;
                const canvasId = button.dataset.canvas;

                button.addEventListener('click', () => {
                    const code = document.getElementById(targetId).value;
                    runSketch(code, canvasId);
                });

                // Sayfa ilk yÃ¼klendiÄŸinde tÃ¼m Ã¶rnekleri otomatik olarak Ã§alÄ±ÅŸtÄ±r
                const initialCode = document.getElementById(targetId).value;
                runSketch(initialCode, canvasId);
            });
        });
    </script>

</body>
</html>
